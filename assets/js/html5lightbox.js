/** HTML5 LightBox - jQuery Image and Video LightBox Plugin
 * Copyright 2014 Magic Hills Pty Ltd All Rights Reserved
 * Website: http://html5box.com
 * Version 8.0 
 */
(function(){var scripts=document.getElementsByTagName("script");var jsFolder="";for(var i=0;i<scripts.length;i++)if(scripts[i].src&&scripts[i].src.match(/html5lightbox\.js/i))jsFolder=scripts[i].src.substr(0,scripts[i].src.lastIndexOf("/")+1);var loadjQuery=false;if(typeof jQuery=="undefined")loadjQuery=true;else{var jVersion=jQuery.fn.jquery.split(".");if(jVersion[0]<1||jVersion[0]==1&&jVersion[1]<6)loadjQuery=true}if(loadjQuery){var head=document.getElementsByTagName("head")[0];var script=document.createElement("script");
script.setAttribute("type","text/javascript");if(script.readyState)script.onreadystatechange=function(){if(script.readyState=="loaded"||script.readyState=="complete"){script.onreadystatechange=null;loadHtml5LightBox(jsFolder)}};else script.onload=function(){loadHtml5LightBox(jsFolder)};script.setAttribute("src",jsFolder+"jquery.js");head.appendChild(script)}else loadHtml5LightBox(jsFolder)})();
function loadHtml5LightBox(jsFolder){(function($){$.fn.html5lightbox=function(options){var inst=this;inst.options=$.extend({freelink:"http://html5box.com/",defaultvideovolume:1,mutevideo:false,autoclose:false,autoclosedelay:0,resizedelay:100,insideiframe:false,autoresizecontent:true,defaultwidth:960,defaultheight:540,usedefaultsizeforcontent:false,preload:true,preloadallonpageload:false,preloadalldelay:5E3,autoplay:true,loopvideo:false,html5player:true,responsive:true,nativehtml5controls:false,videohidecontrols:false,
nativecontrolsonfirefox:false,nativecontrolsonie:false,nativecontrolsoniphone:true,nativecontrolsonipad:true,nativecontrolsonandroid:true,nativecontrolsonfullscreen:true,nativecontrolsnodownload:true,noresizecallback:true,imagekeepratio:true,maxheight:false,elemautoheight:false,useflashonie9:true,useflashonie10:true,useflashonie11:false,useflashformp4onfirefox:false,transition:"none",transitionduration:400,exitanimation:"",animationduration:"1s",enablepdfjs:true,pdfjsengine:"",openpdfinnewtaboniphone:false,
openpdfinnewtabonipad:false,googleanalyticsaccount:"",arrowloop:true,showall:false,userelforgroup:true,shownavigation:true,thumbwidth:96,thumbheight:72,thumbgap:4,thumbtopmargin:12,thumbbottommargin:12,thumbborder:1,thumbbordercolor:"transparent",thumbhighlightbordercolor:"#fff",thumbopacity:1,navbuttonwidth:32,navbgcolor:"rgba(0,0,0,0.2)",shownavcontrol:true,navcontrolimage:"lightbox-navcontrol.png",hidenavdefault:false,overlaybgcolor:"#000",overlayopacity:0.9,bgcolor:"#fff",bordersize:8,borderradius:0,
bordermargin:16,bordertopmargin:48,barautoheight:true,barheight:64,smallscreenheight:415,responsivebarheight:false,barheightonsmallheight:64,notkeepratioonsmallheight:false,bordertopmarginsmall:36,loadingwidth:64,loadingheight:64,resizespeed:400,fadespeed:0,jsfolder:jsFolder,skinsfoldername:"skins/default/",loadingimage:"lightbox-loading.gif",nextimage:"lightbox-next.png",previmage:"lightbox-prev.png",closeimage:"lightbox-close.png",playvideoimage:"lightbox-playvideo.png",titlebgimage:"lightbox-titlebg.png",
navarrowsprevimage:"lightbox-navprev.png",navarrowsnextimage:"lightbox-navnext.png",navarrowsalwaysshowontouch:true,showarrowsbottomonsmallscreen:true,navarrowsbottomscreenwidth:479,closeonoverlay:true,alwaysshownavarrows:false,showplaybutton:true,playimage:"lightbox-play.png",pauseimage:"lightbox-pause.png",playimagesize:32,fullscreenmode:false,fullscreencloseimage:"lightbox-close-fullscreen.png",fullscreennextimage:"lightbox-next-fullscreen.png",fullscreenprevimage:"lightbox-prev-fullscreen.png",
fullscreennomargin:false,fullscreenmodeonsmallscreen:false,fullscreennomarginonsmallscreen:false,fullscreensmallscreenwidth:800,fullscreenbgcolor:"transparent",fullscreenbordersize:0,fullscreentextinside:false,fullscreentextoutside:true,fullscreennotransition:true,videobgcolor:"#000",html5videoposter:"",showtitle:true,titlestyle:"bottom",titleinsidecss:"color:#fff; font-size:16px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; text-align:left; margin:4px 8px;",titlebottomcss:"color:#333; font-size:16px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; text-align:left;",
titleoutsidecss:"color:#fff; font-size:18px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; text-align:center; margin: 8px;",resizeleftright:true,showonmouseoverinside:false,showinsidetitleforimageonly:true,showdescription:true,descriptioninsidecss:"color:#fff; font-size:12px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; text-align:left; margin:4px 0px 0px; padding: 0px;",descriptionbottomcss:"color:#333; font-size:12px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; text-align:left; margin:4px 0px 0px; padding: 0px;",
descriptionoutsidecss:"color:#fff; font-size:14px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; text-align:center; margin:8px; padding: 0px;",fullscreentitlebottomcss:"color:#fff; font-size:16px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; text-align:left; margin:4px 8px 8px;",fullscreendescriptionbottomcss:"color:#fff; font-size:12px; font-family:Arial,Helvetica,sans-serif; overflow:hidden; text-align:left; margin:4px 0px 0px; padding: 0px;",showsocialmedia:true,socialmediaposition:"position:absolute;top:8px;right:8px;",
showtitleprefix:true,titleprefix:"%NUM / %TOTAL",autoslide:false,slideinterval:5E3,showtimer:true,timerposition:"bottom",timerheight:2,timercolor:"#dc572e",timeropacity:1,initvimeo:true,inityoutube:true,swipepreventdefaultonandroid:false,initsocial:true,showsocial:false,socialposition:"position:absolute;top:100%;right:0;",socialpositionsmallscreen:"position:absolute;top:100%;right:0;left:0;",socialdirection:"horizontal",socialbuttonsize:32,socialbuttonfontsize:18,socialrotateeffect:true,showfacebook:true,
showtwitter:true,showpinterest:true,showemail:true,imagepercentage:75,sidetobottomscreenwidth:479,errorwidth:280,errorheight:48,errorcss:"text-align:center; color:#ff0000; font-size:14px; font-family:Arial, sans-serif;",enabletouchswipe:true,mobileresizeevent:false,swipedistance:0,bodynoscroll:false,useabsolutepos:false,useabsoluteposonmobile:false,supportesckey:true,supportarrowkeys:true,version:"3.3",stamp:true,freemark:"72,84,77,76,53,32,76,105,103,104,116,98,111,120,32,70,114,101,101,32,86,101,114,115,105,111,110",
watermark:"",watermarklink:""},options);if(typeof html5lightbox_options!="undefined"&&html5lightbox_options)$.extend(inst.options,html5lightbox_options);if($("div.html5lightbox_options").length)$.each($("div.html5lightbox_options").data(),function(key,value){inst.options[key.toLowerCase()]=value});if($("div#html5lightbox_options").length)$.each($("div#html5lightbox_options").data(),function(key,value){inst.options[key.toLowerCase()]=value});if($("div#html5lightbox_general_options").length)$.each($("div#html5lightbox_general_options").data(),
function(key,value){inst.options[key.toLowerCase()]=value});var ELEM_TYPE=0,ELEM_HREF=1,ELEM_TITLE=2,ELEM_GROUP=3,ELEM_WIDTH=4,ELEM_HEIGHT=5,ELEM_HREF_WEBM=6,ELEM_HREF_OGG=7,ELEM_THUMBNAIL=8,ELEM_DESCRIPTION=9,ELEM_DIV=10,ELEM_ORIGINALWIDTH=11,ELEM_ORIGINALHEIGHT=12,ELEM_SOCIALMEDIA=13,ELEM_WEBLINK=14,ELEM_WEBLINKTARGET=15,ELEM_WEBLINKTEXT=16;inst.options.types=["IMAGE","FLASH","VIDEO","YOUTUBE","VIMEO","PDF","MP3","WEB","FLV","DAILYMOTION","DIV","WISTIA","IFRAMEVIDEO"];inst.options.htmlfolder=window.location.href.substr(0,
window.location.href.lastIndexOf("/")+1);inst.options.skinsfolder=inst.options.skinsfoldername;if(inst.options.skinsfolder.length>0&&inst.options.skinsfolder[inst.options.skinsfolder.length-1]!="/")inst.options.skinsfolder+="/";if(inst.options.skinsfolder.charAt(0)!="/"&&inst.options.skinsfolder.substring(0,5)!="http:"&&inst.options.skinsfolder.substring(0,6)!="https:")inst.options.skinsfolder=inst.options.jsfolder+inst.options.skinsfolder;var image_list=["loadingimage","nextimage","previmage","closeimage",
"playvideoimage","titlebgimage","navarrowsprevimage","navarrowsnextimage","navcontrolimage","playimage","pauseimage","fullscreencloseimage","fullscreennextimage","fullscreenprevimage"];for(var i=0;i<image_list.length;i++)if(inst.options[image_list[i]])if(inst.options[image_list[i]].substring(0,7).toLowerCase()!="http://"&&inst.options[image_list[i]].substring(0,8).toLowerCase()!="https://")inst.options[image_list[i]]=inst.options.skinsfolder+inst.options[image_list[i]];var i;var l;var mark="";var bytes=
inst.options.freemark.split(",");for(i=0;i<bytes.length;i++)mark+=String.fromCharCode(bytes[i]);inst.options.freemark=mark;var d0="hmtamgli5cboxh.iclolms";for(i=1;i<=5;i++)d0=d0.slice(0,i)+d0.slice(i+1);l=d0.length;for(i=0;i<5;i++)d0=d0.slice(0,l-9+i)+d0.slice(l-8+i);if(inst.options.htmlfolder.indexOf(d0)!=-1)inst.options.stamp=false;inst.options.flashInstalled=false;try{if(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))inst.options.flashInstalled=true}catch(e){if(navigator.mimeTypes["application/x-shockwave-flash"])inst.options.flashInstalled=
true}inst.options.html5VideoSupported=!!document.createElement("video").canPlayType;inst.options.isChrome=navigator.userAgent.match(/Chrome/i)!=null;inst.options.isFirefox=navigator.userAgent.match(/Firefox/i)!=null;inst.options.isOpera=navigator.userAgent.match(/Opera/i)!=null||navigator.userAgent.match(/OPR\//i)!=null;inst.options.isSafari=navigator.userAgent.match(/Safari/i)!=null;inst.options.isIE11=navigator.userAgent.match(/Trident\/7/)!=null&&navigator.userAgent.match(/rv:11/)!=null;inst.options.isIE=
navigator.userAgent.match(/MSIE/i)!=null&&!inst.options.isOpera;inst.options.isIE10=navigator.userAgent.match(/MSIE 10/i)!=null&&!this.options.isOpera;inst.options.isIE9=navigator.userAgent.match(/MSIE 9/i)!=null&&!inst.options.isOpera;inst.options.isIE8=navigator.userAgent.match(/MSIE 8/i)!=null&&!inst.options.isOpera;inst.options.isIE7=navigator.userAgent.match(/MSIE 7/i)!=null&&!inst.options.isOpera;inst.options.isIE6=navigator.userAgent.match(/MSIE 6/i)!=null&&!inst.options.isOpera;inst.options.isIE678=
inst.options.isIE6||inst.options.isIE7||inst.options.isIE8;inst.options.isIE6789=inst.options.isIE6||inst.options.isIE7||inst.options.isIE8||inst.options.isIE9;inst.options.isAndroid=navigator.userAgent.match(/Android/i)!=null;inst.options.isIPad=navigator.userAgent.match(/iPad/i)!=null;inst.options.isIPhone=navigator.userAgent.match(/iPod/i)!=null||navigator.userAgent.match(/iPhone/i)!=null;inst.options.isIOS=inst.options.isIPad||inst.options.isIPhone;inst.options.isMobile=inst.options.isAndroid||
inst.options.isIPad||inst.options.isIPhone;inst.options.isIOSLess5=inst.options.isIPad&&inst.options.isIPhone&&(navigator.userAgent.match(/OS 4/i)!=null||navigator.userAgent.match(/OS 3/i)!=null);inst.options.supportCSSPositionFixed=!inst.options.isIE6&&!inst.options.isIOSLess5;inst.options.iequirksmode=inst.options.isIE6789&&document.compatMode!="CSS1Compat";inst.options.isTouch="ontouchstart"in window;if(inst.options.isChrome){var match=navigator.userAgent.match(/Chrome\/([0-9]+)/);inst.options.chromeVersion=
match&&match.length>=2?parseInt(match[1],10):0}if(inst.options.isAndroid){var match=navigator.userAgent.match(/Android\s([0-9\.]*)/i);inst.options.androidVersion=match&&match.length>=2?parseInt(match[1],10):-1}var v=document.createElement("video");inst.options.canplaymp4=v&&v.canPlayType&&v.canPlayType("video/mp4").replace(/no/,"");if(inst.options.isFirefox&&inst.options.nativecontrolsonfirefox||(inst.options.isIE6789||inst.options.isIE10||inst.options.isIE11)&&inst.options.nativecontrolsonie||inst.options.isIPhone&&
inst.options.nativecontrolsoniphone||inst.options.isIPad&&inst.options.nativecontrolsonipad||inst.options.isAndroid&&inst.options.nativecontrolsonandroid)inst.options.nativehtml5controls=true;if(inst.options.isIOS||inst.options.isAndroid)inst.options.nativecontrolsonfullscreen=true;inst.options.navheight=0;inst.options.thumbgap+=2*inst.options.thumbborder;inst.options.resizeTimeout=-1;inst.slideTimeout=null;inst.autosliding=false;inst.existingElem=-1;inst.direction=-3;inst.elemArray=new Array;inst.options.curElem=
-1;inst.defaultoptions=$.extend({},inst.options);if(inst.options.googleanalyticsaccount&&!window._gaq){window._gaq=window._gaq||[];window._gaq.push(["_setAccount",inst.options.googleanalyticsaccount]);window._gaq.push(["_trackPageview"]);$.getScript("https://ssl.google-analytics.com/ga.js")}if(inst.options.initvimeo){var tag=document.createElement("script");tag.src=inst.options.jsfolder+"froogaloop2.min.js";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,
firstScriptTag)}if(inst.options.inityoutube){var tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag)}if(inst.options.initsocial)$("head").append('<link rel="stylesheet" href="'+inst.options.jsfolder+'icons/css/fontello.css" type="text/css" />');inst.showing=false;inst.navvisible=false;inst.disableEscKey=function(isFullscreen){if(isFullscreen)inst.disableesckeyinfullscreen=
true;else setTimeout(function(){inst.disableesckeyinfullscreen=false},1E3)};inst.supportKeyboard=function(){inst.disableesckeyinfullscreen=false;$(document).keyup(function(e){if(!inst.showing)return;if(!inst.disableesckeyinfullscreen&&inst.options.supportesckey&&e.keyCode==27)inst.finish();else if(inst.options.supportarrowkeys)if(e.keyCode==39)inst.gotoSlide(-1);else if(e.keyCode==37)inst.gotoSlide(-2)});if(inst.options.supportesckey&&document.addEventListener){document.addEventListener("MSFullscreenChange",
function(){inst.disableEscKey(document.msFullscreenElement!=null)},false);document.addEventListener("webkitfullscreenchange",function(){inst.disableEscKey(document.webkitIsFullScreen)},false)}};inst.supportKeyboard();inst.init=function(){inst.showing=false;inst.readData();inst.createMarkup();inst.initSlide()};inst.checkParentData=function(node,parentNode,attr){return node.data(attr)?node.data(attr):parentNode&&parentNode.data(attr)?parentNode.data(attr):null};inst.checkParentClass=function(node,parentNode,
attr){var ret=null;$.each([node,parentNode],function(index,nodeValue){if(nodeValue&&nodeValue.attr("class")){var classList=nodeValue.attr("class").split(/\s+/);$.each(classList,function(index,className){if(className&&className.toLowerCase().indexOf("html5lightbox-"+attr+"-")==0){var names=className.split("-");if(names.length==3)ret=parseInt(names[2])}})}});return ret};inst.readNodeData=function(node,parentNode){var fileType="mediatype"in node.data()?node.data("mediatype"):inst.checkType(node.attr("href"));
if(fileType<0)return;var title=node.data("title")?node.data("title"):node.attr("title");var group=node.data("group")?node.data("group"):inst.options.userelforgroup?node.attr("rel"):null;if(!group&&parentNode)group=parentNode.data("group")?parentNode.data("group"):inst.options.userelforgroup?parentNode.attr("rel"):null;for(var i=0;i<inst.elemArray.length;i++)if(node.attr("href")==inst.elemArray[i][ELEM_HREF]){inst.elemArray[i][ELEM_TITLE]=title;inst.elemArray[i][ELEM_GROUP]=group;return}var w=inst.checkParentData(node,
parentNode,"width");var h=inst.checkParentData(node,parentNode,"height");if(!w)w=inst.checkParentClass(node,parentNode,"width");if(!h)h=inst.checkParentClass(node,parentNode,"height");inst.elemArray.push(new Array(fileType,node.attr("href"),title,group,w,h,inst.checkParentData(node,parentNode,"webm"),inst.checkParentData(node,parentNode,"ogg"),inst.checkParentData(node,parentNode,"thumbnail"),inst.checkParentData(node,parentNode,"description"),null,null,null,inst.checkParentData(node,parentNode,"socialmedia"),
inst.checkParentData(node,parentNode,"weblink"),inst.checkParentData(node,parentNode,"weblinktarget"),inst.checkParentData(node,parentNode,"weblinktext")))};inst.readData=function(){inst.each(function(){var self=$(this);if(this.nodeName.toLowerCase()=="a"||this.nodeName.toLowerCase()=="area")inst.readNodeData(self);else self.find("a,area").each(function(){inst.readNodeData($(this),self)})})};inst.createMarkup=function(){if($(window).width()<=inst.options.fullscreensmallscreenwidth){if(inst.options.fullscreenmodeonsmallscreen){inst.options.fullscreenmode=
true;if(inst.options.fullscreennomarginonsmallscreen)inst.options.fullscreennomargin=true}if(inst.options.fullscreenmode&&inst.options.fullscreennomarginonsmallscreen)inst.options.fullscreennomargin=true}if(inst.options.fullscreenmode){inst.options.bgcolor=inst.options.fullscreenbgcolor;inst.options.bordersize=inst.options.fullscreenbordersize;if(inst.options.fullscreennomargin){inst.options.bordersize=0;inst.options.bordermargin=0;inst.options.bordertopmargin=0;inst.options.bordertopmarginsmall=
0}if(inst.options.fullscreentextoutside){inst.options.titlestyle="outside";inst.options.titlecss=inst.options.titleoutsidecss;inst.options.descriptioncss=inst.options.descriptionoutsidecss}else if(inst.options.fullscreentextinside){inst.options.titlestyle="inside";inst.options.titlecss=inst.options.titleinsidecss;inst.options.descriptioncss=inst.options.descriptioninsidecss}else{inst.options.titlebottomcss=inst.options.fullscreentitlebottomcss;inst.options.descriptionbottomcss=inst.options.fullscreendescriptionbottomcss}}inst.options.barheightoriginal=
inst.options.barheight;if(inst.options.responsivebarheight){var winH=$(window).height();if(winH<=inst.options.smallscreenheight)inst.options.barheight=inst.options.barheightonsmallheight}switch(inst.options.titlestyle){case "inside":inst.options.titlecss=inst.options.titleinsidecss;inst.options.descriptioncss=inst.options.descriptioninsidecss;break;case "outside":inst.options.titlecss=inst.options.titleoutsidecss;inst.options.descriptioncss=inst.options.descriptionoutsidecss;break;default:inst.options.titlecss=
inst.options.titlebottomcss;inst.options.descriptioncss=inst.options.descriptionbottomcss}inst.options.titlecss=$.trim(inst.options.titlecss);if(inst.options.titlecss.length>1){if(inst.options.titlecss.charAt(0)=="{")inst.options.titlecss=inst.options.titlecss.substring(1);if(inst.options.titlecss.charAt(inst.options.titlecss.length-1)=="}")inst.options.titlecss=inst.options.titlecss.substring(0,inst.options.titlecss.length-1)}inst.options.descriptioncss=$.trim(inst.options.descriptioncss);if(inst.options.descriptioncss.length>
1){if(inst.options.descriptioncss.charAt(0)=="{")inst.options.descriptioncss=inst.options.descriptioncss.substring(1);if(inst.options.descriptioncss.charAt(inst.options.descriptioncss.length-1)=="}")inst.options.descriptioncss=inst.options.descriptioncss.substring(0,inst.options.descriptioncss.length-1)}inst.options.errorcss=$.trim(inst.options.errorcss);if(inst.options.errorcss.length>1){if(inst.options.errorcss.charAt(0)=="{")inst.options.errorcss=inst.options.errorcss.substring(1);if(inst.options.errorcss.charAt(inst.options.errorcss.length-
1)=="}")inst.options.errorcss=inst.options.errorcss.substring(0,inst.options.errorcss.length-1)}var styleCss=".bodynoscroll {height:100%;overflow:hidden;}";styleCss+=".html5-hide {display:none !important;} #html5box-html5-lightbox .html5-text {"+inst.options.titlecss+"}";styleCss+="#html5box-html5-lightbox .html5-description {"+inst.options.descriptioncss+"}";styleCss+="#html5box-html5-lightbox .html5-error {"+inst.options.errorcss+"}";if(inst.options.navarrowsalwaysshowontouch||inst.options.alwaysshownavarrows){styleCss+=
"#html5box-html5-lightbox .html5-prev-touch {left:0px;top:50%;margin-top:-16px;margin-left:-32px;} #html5box-html5-lightbox .html5-next-touch {right:0px;top:50%;margin-top:-16px;margin-right:-32px;}";if(inst.options.showarrowsbottomonsmallscreen)styleCss+="@media (max-width: "+inst.options.navarrowsbottomscreenwidth+"px) { #html5box-html5-lightbox .html5-prev-touch {top:100%;left:0;margin:0;} #html5box-html5-lightbox .html5-next-touch {top:100%;right:0;margin:0;} }"}styleCss+="#html5box-html5-lightbox .html5-prev-fullscreen {display:block;} #html5box-html5-lightbox .html5-next-fullscreen {display:block;} #html5box-html5-lightbox .html5-prev-bottom-fullscreen {display:none;} #html5box-html5-lightbox .html5-next-bottom-fullscreen {display:none;}";
if(inst.options.showarrowsbottomonsmallscreen)styleCss+="@media (max-width: "+inst.options.navarrowsbottomscreenwidth+"px) {#html5box-html5-lightbox .html5-prev-fullscreen {display:none;} #html5box-html5-lightbox .html5-next-fullscreen {display:none;} #html5box-html5-lightbox .html5-prev-bottom-fullscreen {display:block;} #html5box-html5-lightbox .html5-next-bottom-fullscreen {display:block;} }";if(inst.options.titlestyle=="right"){styleCss+="#html5box-html5-lightbox .html5-elem-wrap {width:"+inst.options.imagepercentage+
"%;height:100%;} #html5box-html5-lightbox .html5-elem-data-box {min-height:100%;}";styleCss+="@media (max-width: "+inst.options.sidetobottomscreenwidth+"px) {#html5box-html5-lightbox .html5-elem-wrap {width:100%;height:auto;} #html5box-html5-lightbox .html5-elem-data-box {width:100%;height:auto;min-height:0;}}"}else if(inst.options.titlestyle=="left"){styleCss+="#html5box-html5-lightbox .html5-elem-wrap {height:100%;} #html5box-html5-lightbox .html5-elem-data-box {width:"+String(100-inst.options.imagepercentage)+
"%;min-height:100%;}";styleCss+="@media (max-width: "+inst.options.sidetobottomscreenwidth+"px) {#html5box-html5-lightbox .html5-elem-wrap {width:100%;height:auto;} #html5box-html5-lightbox .html5-elem-data-box {width:100%;height:auto;min-height:0;}}"}styleCss+=".html5-rotate { border-radius:50%; -webkit-transition:-webkit-transform .4s ease-in; transition: transform .4s ease-in; } .html5-rotate:hover { -webkit-transform: rotate(360deg); transform: rotate(360deg); }";styleCss+="@media (max-width: "+
inst.options.navarrowsbottomscreenwidth+"px) {#html5-social {"+inst.options.socialpositionsmallscreen+"}}";styleCss+=".html5box-animated { -webkit-animation-duration:"+inst.options.animationduration+"; animation-duration:"+inst.options.animationduration+"; -webkit-animation-fill-mode: both; animation-fill-mode: both; } @-webkit-keyframes html5box-fadeOut { from { opacity: 1; } to { opacity: 0; } } @keyframes html5box-fadeOut { from { opacity: 1; } to { opacity: 0; } } .html5box-fadeOut { -webkit-animation-name: html5box-fadeOut; animation-name: html5box-fadeOut; }";
styleCss+="@-webkit-keyframes html5box-fadeOutDown { from { opacity: 1; } to { opacity: 0; -webkit-transform: translate3d(0, 100%, 0); transform: translate3d(0, 100%, 0); } } @keyframes html5box-fadeOutDown { from { opacity: 1; } to { opacity: 0; -webkit-transform: translate3d(0, 100%, 0); transform: translate3d(0, 100%, 0); } } .html5box-fadeOutDown { -webkit-animation-name: html5box-fadeOutDown; animation-name: html5box-fadeOutDown; }";$("head").append("<style type='text/css' data-creator='html5box-html5-lightbox'>"+
styleCss+"</style>");var elemheight=inst.options.elemautoheight?"auto":"100%";inst.$lightbox=$("<div id='html5box-html5-lightbox' style='display:none;top:0px;left:0px;width:100%;height:100%;z-index:9999998;text-align:center;'>"+"<div id='html5-lightbox-overlay' style='display:block;position:absolute;top:0px;left:0px;width:100%;min-height:100%;background-color:"+inst.options.overlaybgcolor+";opacity:"+inst.options.overlayopacity+";filter:alpha(opacity="+Math.round(inst.options.overlayopacity*100)+
");'></div>"+"<div id='html5-lightbox-box' style='display:block;position:relative;margin:0px auto;'>"+"<div class='html5-elem-box' style='display:block;position:relative;width:100%;overflow-x:hidden;overflow-y:auto;height:"+elemheight+";margin:0px auto;text-align:center;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;'>"+"<div class='html5-elem-wrap' style='display:block;position:relative;overflow:hidden;margin:0px auto;text-align:center;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;background-color:"+
inst.options.bgcolor+";'>"+"<div class='html5-loading' style='display:none;position:absolute;top:0px;left:0px;text-align:center;width:100%;height:100%;background:url(\""+inst.options.loadingimage+"\") no-repeat center center;'></div>"+"<div class='html5-error-box html5-error' style='display:none;position:absolute;padding:"+inst.options.bordersize+"px;text-align:center;width:"+inst.options.errorwidth+"px;height:"+inst.options.errorheight+"px;'>"+"The requested content cannot be loaded.<br />Please try again later."+
"</div>"+"<div class='html5-image' style='display:none;position:relative;top:0px;left:0px;width:100%;height:100%;"+(inst.options.iequirksmode?"margin":"padding")+":"+inst.options.bordersize+"px;text-align:center;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;'></div>"+"</div>"+"</div>"+"<div id='html5-watermark' style='display:none;position:absolute;left:"+String(inst.options.bordersize+2)+"px;top:"+String(inst.options.bordersize+2)+"px;'></div>"+"</div>"+"</div>");
inst.options.positionFixed=inst.options.supportCSSPositionFixed&&inst.options.responsive&&!inst.options.iequirksmode;if(inst.options.useabsolutepos||inst.options.useabsoluteposonmobile&&inst.options.isMobile)inst.options.positionFixed=false;inst.$lightbox.css({position:inst.options.positionFixed?"fixed":"absolute"});inst.$lightbox.appendTo("body");inst.$lightboxBox=$("#html5-lightbox-box",inst.$lightbox);inst.$elem=$(".html5-elem-box",inst.$lightbox);inst.$elemWrap=$(".html5-elem-wrap",inst.$lightbox);
inst.$loading=$(".html5-loading",inst.$lightbox);inst.$error=$(".html5-error-box",inst.$lightbox);inst.$image=$(".html5-image",inst.$lightbox);if(inst.options.fullscreenmode&&inst.options.fullscreennomargin)inst.$elem.css({overflow:"hidden"});var elemText="<div class='html5-elem-data-box' style='display:none;box-sizing:border-box;'><div class='html5-text' style='display:block;overflow:hidden;'></div></div>";if(inst.options.titlestyle=="left")inst.$elem.prepend(elemText);else if(inst.options.titlestyle==
"outside")inst.$lightbox.append(elemText);else inst.$elem.append(elemText);inst.$elemData=$(".html5-elem-data-box",inst.$lightbox);inst.$text=$(".html5-text",inst.$lightbox);if(inst.options.borderradius>0){inst.$elem.css({"border-radius":inst.options.borderradius+"px","-moz-border-radius":inst.options.borderradius+"px","-webkit-border-radius":inst.options.borderradius+"px"});if(inst.options.titlestyle=="inside")inst.$elemWrap.css({"border-radius":inst.options.borderradius+"px","-moz-border-radius":inst.options.borderradius+
"px","-webkit-border-radius":inst.options.borderradius+"px"});else if(inst.options.titlestyle=="bottom"){inst.$elemWrap.css({"border-top-left-radius":inst.options.borderradius+"px","-moz-top-left-border-radius":inst.options.borderradius+"px","-webkit-top-left-border-radius":inst.options.borderradius+"px","border-top-right-radius":inst.options.borderradius+"px","-moz-top-right-border-radius":inst.options.borderradius+"px","-webkit-top-right-border-radius":inst.options.borderradius+"px"});inst.$elemData.css({"border-bottom-left-radius":inst.options.borderradius+
"px","-moz-top-bottom-border-radius":inst.options.borderradius+"px","-webkit-bottom-left-border-radius":inst.options.borderradius+"px","border-bottom-right-radius":inst.options.borderradius+"px","-moz-bottom-right-border-radius":inst.options.borderradius+"px","-webkit-bottom-right-border-radius":inst.options.borderradius+"px"})}}if(inst.options.titlestyle=="right"||inst.options.titlestyle=="left"){inst.$lightboxBox.css({"background-color":inst.options.bgcolor});if(inst.options.titlestyle=="right"){inst.$elemWrap.css({position:"relative",
"float":"left"});inst.$elemData.css({position:"relative",overflow:"hidden",padding:inst.options.bordersize+"px"})}else{inst.$elemWrap.css({position:"relative",overflow:"hidden"});inst.$elemData.css({position:"relative","float":"left",padding:inst.options.bordersize+"px"})}}else if(inst.options.titlestyle=="inside"){inst.$elemData.css({position:"absolute",margin:0,padding:0,bottom:inst.options.bordersize+"px",left:inst.options.bordersize+"px",right:inst.options.bordersize+"px","background-color":"#333",
"background-color":"rgba(51, 51, 51, 0.6)"});if(inst.options.showonmouseoverinside)inst.$elemData.css({opacity:0});inst.$text.css({padding:inst.options.bordersize+"px "+2*inst.options.bordersize+"px"})}else if(inst.options.titlestyle=="outside")inst.$elemData.css({position:"relative",width:"100%",height:"auto"});else{inst.$elemData.css({position:"relative",width:"100%",height:inst.options.barautoheight?"auto":inst.options.barheight+"px","padding":"0 0 "+inst.options.bordersize+"px"+" 0","background-color":inst.options.bgcolor,
"text-align":"left"});if(!inst.options.fullscreenmode||!inst.options.fullscreennomargin)inst.$text.css({"margin":"0 "+inst.options.bordersize+"px"})}if(inst.options.showsocial){var socialCode='<div id="html5-social" style="display:none;'+inst.options.socialposition+'">';var socialBtnCSS=(inst.options.socialdirection=="horizontal"?"display:inline-block;":"display:block;")+"margin:4px;";var socialCSS="display:table-cell;width:"+inst.options.socialbuttonsize+"px;height:"+inst.options.socialbuttonsize+
"px;font-size:"+inst.options.socialbuttonfontsize+"px;border-radius:50%;color:#fff;vertical-align:middle;text-align:center;cursor:pointer;padding:0;";if(inst.options.showemail)socialCode+='<div class="html5-social-btn'+(inst.options.socialrotateeffect?" html5-rotate":"")+' html5-social-email" style="'+socialBtnCSS+'"><div class="mh-icon-mail" style="'+socialCSS+'background-color:#4d83ff;"></div></div>';if(inst.options.showfacebook)socialCode+='<div class="html5-social-btn'+(inst.options.socialrotateeffect?
" html5-rotate":"")+' html5-social-facebook" style="'+socialBtnCSS+'"><div class="mh-icon-facebook" style="'+socialCSS+'background-color:#3b5998;"></div></div>';if(inst.options.showtwitter)socialCode+='<div class="html5-social-btn'+(inst.options.socialrotateeffect?" html5-rotate":"")+' html5-social-twitter" style="'+socialBtnCSS+'"><div class="mh-icon-twitter" style="'+socialCSS+'background-color:#03b3ee;"></div></div>';if(inst.options.showpinterest)socialCode+='<div class="html5-social-btn'+(inst.options.socialrotateeffect?
" html5-rotate":"")+' html5-social-pinterest" style="'+socialBtnCSS+'"><div class="mh-icon-pinterest" style="'+socialCSS+'background-color:#c92228;"></div></div>';socialCode+='<div style="clear:both;"></div></div>';inst.$lightboxBox.append(socialCode);$(".html5-social-btn",inst.$lightbox).click(function(){var shareUrl=window.location.href+(window.location.href.indexOf("?")<0?"?":"&")+"html5lightboxshare="+encodeURIComponent(inst.currentElem[ELEM_HREF]);var shareTitle=inst.currentElem[ELEM_TITLE];
var shareMedia=inst.currentElem[ELEM_HREF];if(inst.currentElem[ELEM_TYPE]==0)shareMedia=inst.absoluteUrl(inst.currentElem[ELEM_HREF]);else if(inst.currentElem[ELEM_TYPE]==3)shareMedia="https://img.youtube.com/vi/"+inst.getYoutubeId(inst.currentElem[ELEM_HREF])+"/0.jpg";else{var lightboxLink=$('.html5lightbox[href="'+inst.currentElem[ELEM_HREF]+'"]');if(lightboxLink.length>0)if(lightboxLink.data("shareimage")&&lightboxLink.data("shareimage").length>0)shareMedia=inst.absoluteUrl(lightboxLink.data("shareimage"));
else if(lightboxLink.data("thumbnail")&&lightboxLink.data("thumbnail").length>0)shareMedia=inst.absoluteUrl(lightboxLink.data("thumbnail"));else{var lightboxImg=$("img",lightboxLink);if(lightboxImg.length>0)shareMedia=inst.absoluteUrl(lightboxImg.attr("src"))}}var isVideo=inst.currentElem[ELEM_TYPE]==2||inst.currentElem[ELEM_TYPE]==3||inst.currentElem[ELEM_TYPE]==4||inst.currentElem[ELEM_TYPE]==8||inst.currentElem[ELEM_TYPE]==9||inst.currentElem[ELEM_TYPE]==11||inst.currentElem[ELEM_TYPE]==12;if(!shareTitle)shareTitle=
"";else shareTitle=inst.html2Text(shareTitle);if($(this).hasClass("html5-social-facebook"))window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(shareUrl)+"&t="+encodeURIComponent(shareTitle),"_blank");else if($(this).hasClass("html5-social-twitter"))window.open("https://twitter.com/share?url="+encodeURIComponent(shareUrl)+"&text="+encodeURIComponent(shareTitle),"_blank");else if($(this).hasClass("html5-social-pinterest"))window.open("https://pinterest.com/pin/create/bookmarklet/?media="+
encodeURIComponent(shareMedia)+"&url="+encodeURIComponent(shareUrl)+"&description="+encodeURIComponent(shareTitle)+"&is_video="+(isVideo?"true":"false"),"_blank");else if($(this).hasClass("html5-social-email"))window.open("mailto:?subject="+encodeURIComponent(shareTitle)+"&body=Check out this: "+encodeURIComponent(shareUrl));return false})}if(inst.options.fullscreenmode){inst.$lightbox.append("<div class='html5-next-fullscreen' style='cursor:pointer;position:absolute;right:"+inst.options.bordersize+
"px;top:50%;margin-top:-16px;z-index:1;'><img alt='' src='"+inst.options.fullscreennextimage+"'></div>"+"<div class='html5-prev-fullscreen' style='cursor:pointer;position:absolute;left:"+inst.options.bordersize+"px;top:50%;margin-top:-16px;z-index:1;'><img alt='' src='"+inst.options.fullscreenprevimage+"'></div>");inst.$next=$(".html5-next-fullscreen",inst.$lightbox);inst.$prev=$(".html5-prev-fullscreen",inst.$lightbox);inst.$lightboxBox.append("<div class='html5-next-bottom-fullscreen' style='cursor:pointer;position:absolute;top:100%;right:0;margin-top:8px;z-index:1;'><img alt='' src='"+
inst.options.fullscreennextimage+"'></div>"+"<div class='html5-prev-bottom-fullscreen' style='cursor:pointer;position:absolute;top:100%;left:0;margin-top:8px;z-index:1;'><img alt='' src='"+inst.options.fullscreenprevimage+"'></div>");inst.$nextbottom=$(".html5-next-bottom-fullscreen",inst.$lightbox);inst.$prevbottom=$(".html5-prev-bottom-fullscreen",inst.$lightbox);inst.$nextbottom.click(function(){inst.nextArrowClicked()});inst.$prevbottom.click(function(){inst.prevArrowClicked()});inst.$lightbox.append("<div id='html5-close-fullscreen' style='display:block;cursor:pointer;position:absolute;top:0;right:0;margin-top:0;margin-right:0;'><img alt='' src='"+
inst.options.fullscreencloseimage+"'></div>");inst.$close=$("#html5-close-fullscreen",inst.$lightbox)}else{inst.$lightboxBox.append("<div class='html5-next' style='display:none;cursor:pointer;position:absolute;right:"+inst.options.bordersize+"px;top:50%;margin-top:-32px;z-index:1;'><img alt='' src='"+inst.options.nextimage+"'></div>"+"<div class='html5-prev' style='display:none;cursor:pointer;position:absolute;left:"+inst.options.bordersize+"px;top:50%;margin-top:-32px;z-index:1;'><img alt='' src='"+
inst.options.previmage+"'></div>");inst.$next=$(".html5-next",inst.$lightbox);inst.$prev=$(".html5-prev",inst.$lightbox);if(inst.options.isTouch&&inst.options.navarrowsalwaysshowontouch||inst.options.alwaysshownavarrows){inst.$lightboxBox.append("<div class='html5-next-touch' style='display:block;cursor:pointer;position:absolute;z-index:1;'><img alt='' src='"+inst.options.nextimage+"'></div>"+"<div class='html5-prev-touch' style='display:block;cursor:pointer;position:absolute;z-index:1;'><img alt='' src='"+
inst.options.previmage+"'></div>");inst.$nexttouch=$(".html5-next-touch",inst.$lightbox);inst.$prevtouch=$(".html5-prev-touch",inst.$lightbox);inst.$nexttouch.click(function(){inst.nextArrowClicked()});inst.$prevtouch.click(function(){inst.prevArrowClicked()})}inst.$lightboxBox.append("<div id='html5-close' style='display:none;cursor:pointer;position:absolute;top:0;right:0;margin-top:-16px;margin-right:-16px;'><img alt='' src='"+inst.options.closeimage+"'></div>");inst.$close=$("#html5-close",inst.$lightbox)}if(inst.options.titlestyle==
"inside"&&inst.options.showonmouseoverinside)inst.$lightboxBox.hover(function(){if(inst.currentElem[ELEM_TYPE]==0||!inst.options.showinsidetitleforimageonly)inst.$elemData.animate({opacity:1},400)},function(){inst.$elemData.animate({opacity:0},400)});inst.$watermark=$("#html5-watermark",inst.$lightbox);if(inst.options.stamp)inst.$watermark.html("<a href='"+inst.options.freelink+"' style='text-decoration:none;' title='jQuery Lightbox'><div style='display:block;width:170px;height:20px;text-align:center;border-radius:3px;-moz-border-radius:3px;-webkit-border-radius:3px;background-color:#fff;color:#333;font:12px Arial,sans-serif;'><div style='line-height:20px;'>"+
inst.options.freemark+"</div></div></a>");else if(inst.options.watermark){var html="<img alt='' src='"+inst.options.watermark+"' style='border:none;' />";if(inst.options.watermarklink)html="<a href='"+inst.options.watermarklink+"' target='_blank'>"+html+"</a>";inst.$watermark.html(html)}if(inst.options.closeonoverlay)$("#html5-lightbox-overlay",inst.$lightbox).click(inst.finish);inst.$close.click(inst.finish);inst.$next.click(function(){inst.nextArrowClicked()});inst.$prev.click(function(){inst.prevArrowClicked()});
$(window).resize(function(){if(inst.options.isIOS&&!inst.options.mobileresizeevent)return;clearTimeout(inst.options.resizeTimeout);inst.options.resizeTimeout=setTimeout(function(){inst.resizeWindow()},inst.options.resizedelay)});$(window).scroll(function(){if(inst.options.isIOS&&!inst.options.mobileresizeevent)return;inst.scrollBox()});$(window).on("orientationchange",function(e){if(inst.options.isMobile){clearTimeout(inst.options.resizeTimeout);inst.options.resizeTimeout=setTimeout(function(){inst.resizeWindow()},
inst.options.resizedelay)}});if(inst.options.enabletouchswipe)inst.enableSwipe()};inst.html2Text=function(html){var tag=document.createElement("div");tag.innerHTML=html;return tag.innerText};inst.slideTimer=function(interval,callback,updatecallback){var timerInstance=this;timerInstance.timeout=interval;var updateinterval=50;var updateTimerId=null;var runningTime=0;var paused=false;var started=false;var startedandpaused=false;this.pause=function(){if(started){paused=true;clearInterval(updateTimerId)}};
this.resume=function(forceresume){if(startedandpaused&&!forceresume)return;startedandpaused=false;if(started&&paused){paused=false;updateTimerId=setInterval(function(){runningTime+=updateinterval;if(runningTime>timerInstance.timeout){clearInterval(updateTimerId);if(callback)callback()}if(updatecallback)updatecallback(runningTime/timerInstance.timeout)},updateinterval)}};this.stop=function(){clearInterval(updateTimerId);if(updatecallback)updatecallback(-1);runningTime=0;paused=false;started=false};
this.start=function(){runningTime=0;paused=false;started=true;updateTimerId=setInterval(function(){runningTime+=updateinterval;if(runningTime>timerInstance.timeout){clearInterval(updateTimerId);if(callback)callback()}if(updatecallback)updatecallback(runningTime/timerInstance.timeout)},updateinterval)};this.startandpause=function(){runningTime=0;paused=true;started=true;startedandpaused=true};return this};inst.updateTimer=function(percent){var w=Math.round(percent*100);if(w>100)w=100;if(w<0)w=0;$(".html5-timer",
inst.$lightbox).css({display:"block",width:w+"%"})};inst.initSlide=function(){inst.autosliding=false;inst.slideTimeout=inst.slideTimer(inst.options.slideinterval,function(){inst.gotoSlide(-1)},inst.options.showtimer?function(percent){inst.updateTimer(percent)}:null);if(inst.options.autoslide){inst.slideTimeout.stop();inst.autosliding=true}};inst.nextArrowClicked=function(){if(inst.options.nextElem<=inst.options.curElem)if(inst.options.onlastarrowclicked&&window[inst.options.onlastarrowclicked]&&typeof window[inst.options.onlastarrowclicked]==
"function")window[inst.options.onlastarrowclicked]();inst.gotoSlide(-1)};inst.prevArrowClicked=function(){if(inst.options.prevElem>=inst.options.curElem)if(inst.options.onfirstarrowclicked&&window[inst.options.onfirstarrowclicked]&&typeof window[inst.options.onfirstarrowclicked]=="function")window[inst.options.onfirstarrowclicked]();inst.gotoSlide(-2)};inst.calcNextPrevElem=function(){inst.options.nextElem=-1;inst.options.prevElem=-1;inst.options.inGroup=false;inst.options.groupIndex=0;inst.options.groupCount=
0;var group=inst.elemArray[inst.options.curElem][ELEM_GROUP];for(var i=0;i<inst.elemArray.length;i++)if(inst.matchGroup(group,inst.elemArray[i][ELEM_GROUP])){if(i==inst.options.curElem)inst.options.groupIndex=inst.options.groupCount;inst.options.groupCount++}var j,curGroup=inst.elemArray[inst.options.curElem][ELEM_GROUP];if(curGroup!=undefined&&curGroup!=null){for(j=inst.options.curElem+1;j<inst.elemArray.length;j++)if(inst.matchGroup(curGroup,inst.elemArray[j][ELEM_GROUP])){inst.options.nextElem=
j;break}if(inst.options.nextElem<0)for(j=0;j<inst.options.curElem;j++)if(inst.matchGroup(curGroup,inst.elemArray[j][ELEM_GROUP])){inst.options.nextElem=j;break}if(inst.options.nextElem>=0){for(j=inst.options.curElem-1;j>=0;j--)if(inst.matchGroup(curGroup,inst.elemArray[j][ELEM_GROUP])){inst.options.prevElem=j;break}if(inst.options.prevElem<0)for(j=inst.elemArray.length-1;j>inst.options.curElem;j--)if(inst.matchGroup(curGroup,inst.elemArray[j][ELEM_GROUP])){inst.options.prevElem=j;break}}}if(inst.options.nextElem>=
0||inst.options.prevElem>=0)inst.options.inGroup=true};inst.calcBoxPosition=function(initW,initH){var boxW=initW+2*inst.options.bordersize;var boxH=initH+2*inst.options.bordersize;var navH=inst.options.shownavigation&&inst.navvisible?inst.options.navheight:0;var winH=$(window).height();var boxT=Math.round((winH-navH)/2-boxH/2);if(inst.options.titlestyle=="bottom")boxT-=Math.round(inst.options.barheight/2);var topmargin=$(window).height()<inst.options.smallscreenheight?inst.options.bordertopmarginsmall:
inst.options.bordertopmargin;if(boxT<topmargin)boxT=topmargin;if(inst.options.insideiframe&&window.self!=window.top)if(parent.window.jQuery&&parent.window.jQuery("#"+inst.options.iframeid).length){var iframetop=parent.window.jQuery("#"+inst.options.iframeid).offset().top;var parentscroll=parent.window.document.body.scrollTop;boxT=topmargin;boxT+=parentscroll>iframetop?parentscroll-iframetop:0}return[boxW,boxH,boxT]};inst.hideNavArrows=function(){var showPrev=false;var showNext=false;if(inst.options.inGroup){if(inst.options.arrowloop||
!inst.options.arrowloop&&inst.options.prevElem<inst.options.curElem)showPrev=true;if(inst.options.arrowloop||!inst.options.arrowloop&&inst.options.nextElem>inst.options.curElem)showNext=true}if(showPrev){inst.$prev.removeClass("html5-hide");if(inst.$prevbottom)inst.$prevbottom.removeClass("html5-hide");if(inst.$prevtouch)inst.$prevtouch.removeClass("html5-hide")}else{inst.$prev.addClass("html5-hide");if(inst.$prevbottom)inst.$prevbottom.addClass("html5-hide");if(inst.$prevtouch)inst.$prevtouch.addClass("html5-hide")}if(showNext){inst.$next.removeClass("html5-hide");
if(inst.$nextbottom)inst.$nextbottom.removeClass("html5-hide");if(inst.$nexttouch)inst.$nexttouch.removeClass("html5-hide")}else{inst.$next.addClass("html5-hide");if(inst.$nextbottom)inst.$nextbottom.addClass("html5-hide");if(inst.$nexttouch)inst.$nexttouch.addClass("html5-hide")}};inst.resizePositionFixed=function(){if(!inst.options.positionFixed)inst.$lightbox.css({"padding-top":$(window).scrollTop()+"px","height":Math.max($(document).height(),$(window).height())+"px"})};inst.adjustLightboxPos=
function(w,h){var winWidth=$(window).width();var boxPos=inst.calcBoxPosition(w,h);var boxW=boxPos[0];var boxH=boxPos[1];var boxT=boxPos[2];if(inst.options.iequirksmode)inst.$lightboxBox.css({"top":boxT});else inst.$lightboxBox.css({"margin-top":boxT});inst.resizePositionFixed();if((inst.options.titlestyle=="left"||inst.options.titlestyle=="right")&&winWidth>inst.options.sidetobottomscreenwidth){inst.$lightboxBox.css({"width":boxW,"height":boxH});inst.$elemWrap.css({"width":inst.options.imagepercentage+
"%","height":"100%"})}else{inst.$lightboxBox.css({"width":boxW,"height":"auto"});inst.$elemWrap.css({"width":boxW,"height":boxH})}};inst.clickHandler=function(){var $this=$(this);var dataoptions={};$.each($this.data(),function(key,value){dataoptions[key.toLowerCase()]=value});inst.options=$.extend(inst.options,inst.defaultoptions,dataoptions);$(window).trigger("html5lightbox.lightboxshow");inst.init();if(inst.elemArray.length<=0)return true;inst.hideObjects();for(var i=0;i<inst.elemArray.length;i++)if(inst.elemArray[i][ELEM_HREF]==
$this.attr("href"))break;if(i==inst.elemArray.length)return true;inst.options.curElem=i;inst.calcNextPrevElem();inst.reset();inst.$lightbox.show();inst.adjustLightboxPos(inst.options.loadingwidth,inst.options.loadingheight);inst.loadCurElem();return false};inst.loadThumbnail=function(src,index,title){var imgLoader=new Image;$(imgLoader).on("load",function(){var style;if(this.width/this.height<=inst.options.thumbwidth/inst.options.thumbheight)style="width:100%;";else style="height:100%;";$(".html5-nav-thumb").eq(index).html("<img alt='"+
inst.html2Text(title)+"' style='"+style+"' src='"+src+"' />")});imgLoader.src=src};inst.matchGroup=function(curGroup,elemGroup){if(inst.options.showall)return true;if(!curGroup||!elemGroup)return false;var curs=curGroup.split(":");var elems=elemGroup.split(":");var result=false;for(var i in curs)if($.inArray(curs[i],elems)>-1){result=true;break}return result};inst.showNavigation=function(){if(!inst.options.shownavigation)return;if(!inst.currentElem||!inst.currentElem[ELEM_GROUP])return;var i;var showNav=
false;var group=inst.currentElem[ELEM_GROUP];for(i=0;i<inst.elemArray.length;i++)if(inst.matchGroup(group,inst.elemArray[i][ELEM_GROUP]))if(inst.elemArray[i][ELEM_THUMBNAIL]&&inst.elemArray[i][ELEM_THUMBNAIL].length>0){showNav=true;break}if(!showNav)return;inst.options.navheight=inst.options.thumbheight+inst.options.thumbtopmargin+inst.options.thumbbottommargin;if($(".html5-nav").length>0)return;var posCss=inst.options.hidenavdefault?"top:100%;bottom:auto;left:0;right:0;":"top:auto;bottom:0;left:0;right:0;";
var posType=inst.options.positionFixed?"fixed":"absolute";$("body").append("<div class='html5-nav' style='display:block;position:"+posType+";"+posCss+"width:100%;height:"+inst.options.navheight+"px;z-index:9999999;"+(inst.options.navbgcolor?"background-color:"+inst.options.navbgcolor+";":"")+"'>"+"<div class='html5-nav-container' style='position:relative;margin:"+inst.options.thumbtopmargin+"px auto "+inst.options.thumbbottommargin+"px;'>"+"<div class='html5-nav-prev' style='display:block;position:absolute;cursor:pointer;width:"+
inst.options.navbuttonwidth+'px;height:100%;left:0;top:0;background:url("'+inst.options.navarrowsprevimage+"\") no-repeat left center;'></div>"+"<div class='html5-nav-mask' style='display:block;position:relative;margin:0 auto;overflow:hidden;'>"+"<div class='html5-nav-list'></div>"+"</div>"+"<div class='html5-nav-next' style='display:block;position:absolute;cursor:pointer;width:"+inst.options.navbuttonwidth+'px;height:100%;right:0;top:0;background:url("'+inst.options.navarrowsnextimage+"\") no-repeat right center;'></div>"+
"</div>"+"</div>");inst.navvisible=inst.options.hidenavdefault?false:true;if(inst.options.shownavcontrol){$(".html5-nav").append('<div class="html5-nav-showcontrol" style="position:absolute;display:block;cursor:pointer;bottom:100%;right:12px;margin:0;padding:0;"><img alt="" src="'+inst.options.navcontrolimage+'"></div>');$(".html5-nav-showcontrol").click(function(){var winH=$(window).height();var navH=$(".html5-nav").height();if(inst.navvisible){inst.navvisible=false;$(".html5-nav").css({top:winH-
navH+"px",bottom:"auto"}).animate({top:winH+"px"},function(){$(this).css({top:"100%",bottom:"auto"})})}else{inst.navvisible=true;var navH=$(".html5-nav").height();$(".html5-nav").css({top:winH+"px",bottom:"auto"}).animate({top:winH-navH+"px"},function(){$(this).css({top:"auto",bottom:0})})}inst.resizeWindow()})}var index=0;for(i=0;i<inst.elemArray.length;i++)if(inst.matchGroup(group,inst.elemArray[i][ELEM_GROUP]))if(inst.elemArray[i][ELEM_THUMBNAIL]&&inst.elemArray[i][ELEM_THUMBNAIL].length>0){$(".html5-nav-list").append("<div class='html5-nav-thumb' data-arrayindex='"+
i+"' style='float:left;overflow:hidden;cursor:pointer;opacity:"+inst.options.thumbopacity+";margin: 0 "+inst.options.thumbgap/2+"px;width:"+inst.options.thumbwidth+"px;height:"+inst.options.thumbheight+"px;border:"+inst.options.thumbborder+"px solid "+inst.options.thumbbordercolor+";'></div>");this.loadThumbnail(inst.elemArray[i][ELEM_THUMBNAIL],index,inst.elemArray[i][ELEM_TITLE]);index++}$(".html5-nav-thumb").hover(function(){$(this).css({opacity:1});$(this).css({border:inst.options.thumbborder+
"px solid "+inst.options.thumbhighlightbordercolor})},function(){$(this).css({opacity:inst.options.thumbopacity});$(this).css({border:inst.options.thumbborder+"px solid "+inst.options.thumbbordercolor})});$(".html5-nav-thumb").click(function(){var index=$(this).data("arrayindex");if(index>=0)inst.gotoSlide(index)});inst.options.totalwidth=index*(inst.options.thumbgap+inst.options.thumbwidth+2*inst.options.thumbborder);$(".html5-nav-list").css({display:"block",position:"relative","margin-left":0,width:inst.options.totalwidth+
"px"}).append("<div style='clear:both;'></div>");var $navMask=$(".html5-nav-mask");var $navPrev=$(".html5-nav-prev");var $navNext=$(".html5-nav-next");$navPrev.click(function(){var $navList=$(".html5-nav-list");var $navNext=$(".html5-nav-next");var winWidth=$(window).width();var maskWidth=winWidth-2*inst.options.navbuttonwidth;var marginLeft=parseInt($navList.css("margin-left"))+maskWidth;if(marginLeft>=0){marginLeft=0;$(this).css({"background-position":"center left"})}else $(this).css({"background-position":"center right"});
if(marginLeft<=maskWidth-inst.options.totalwidth)$navNext.css({"background-position":"center left"});else $navNext.css({"background-position":"center right"});$navList.animate({"margin-left":marginLeft})});$navNext.click(function(){var $navList=$(".html5-nav-list");var $navPrev=$(".html5-nav-prev");var winWidth=$(window).width();var maskWidth=winWidth-2*inst.options.navbuttonwidth;var marginLeft=parseInt($navList.css("margin-left"))-maskWidth;if(marginLeft<=maskWidth-inst.options.totalwidth){marginLeft=
maskWidth-inst.options.totalwidth;$(this).css({"background-position":"center left"})}else $(this).css({"background-position":"center right"});if(marginLeft>=0)$navPrev.css({"background-position":"center left"});else $navPrev.css({"background-position":"center right"});$navList.animate({"margin-left":marginLeft})});var winWidth=$(window).width();if(inst.options.totalwidth<=winWidth){$navMask.css({width:inst.options.totalwidth+"px"});$navPrev.hide();$navNext.hide()}else{$navMask.css({width:winWidth-
2*inst.options.navbuttonwidth+"px"});$navPrev.show();$navNext.show()}};inst.loadElem=function(elem){inst.currentElem=elem;inst.showing=true;if(inst.options.bodynoscroll)$("html,body").addClass("bodynoscroll");if(!(inst.options.showtitle&&inst.currentElem[ELEM_TITLE]&&inst.currentElem[ELEM_TITLE].length>0||inst.options.showdescription&&inst.currentElem[ELEM_DESCRIPTION]&&inst.currentElem[ELEM_DESCRIPTION].length>0||inst.options.inGroup&&(inst.options.showplaybutton||inst.options.showtitleprefix)))inst.options.barheight=
0;inst.showNavigation();inst.$elem.off("mouseenter").off("mouseleave").off("mousemove");inst.$loading.show();if(inst.options.onshowitem&&window[inst.options.onshowitem]&&typeof window[inst.options.onshowitem]=="function")window[inst.options.onshowitem](elem);if((inst.options.transition=="slide"||inst.options.transition=="crossfade")&&inst.existingElem>=0){$(".html5-elem-box-previous").remove();var newitem=inst.$elem.clone();newitem.insertAfter(inst.$elem);inst.$prevelem=inst.$elem;inst.$elem=newitem;
inst.$prevelem.addClass("html5-elem-box-previous");inst.$elem.addClass("html5-elem-box-current");inst.$elemWrap=$(".html5-elem-wrap",inst.$elem);inst.$loading=$(".html5-loading",inst.$elem);inst.$error=$(".html5-error-box",inst.$elem);inst.$image=$(".html5-image",inst.$elem);if(inst.options.titlestyle!="outside"){inst.$elemData=$(".html5-elem-data-box",inst.$elem);inst.$text=$(".html5-text",inst.$elem)}inst.$elem.css({position:"absolute",top:0,left:inst.options.transition=="slide"?inst.direction==
-1?"100%":"-100%":0,opacity:0,height:"auto"});inst.$prevelem.css({width:inst.$prevelem.width()+"px",height:inst.$prevelem.height()+"px"})}switch(elem[ELEM_TYPE]){case 0:var imgLoader=new Image;$(imgLoader).on("load",function(){elem[ELEM_ORIGINALWIDTH]=imgLoader.width;elem[ELEM_ORIGINALHEIGHT]=imgLoader.height;inst.showImage(elem,imgLoader.width,imgLoader.height)});$(imgLoader).on("error",function(){inst.showError()});imgLoader.src=elem[ELEM_HREF];break;case 1:inst.showSWF(elem);break;case 2:case 8:inst.showVideo(elem);
break;case 3:case 4:case 9:case 11:case 12:inst.showYoutubeVimeo(elem);break;case 5:inst.showPDF(elem);break;case 6:inst.showMP3(elem);break;case 7:inst.showWeb(elem);break;case 10:inst.showDiv(elem);break}if(inst.options.googleanalyticsaccount&&window._gaq)window._gaq.push(["_trackEvent","Lightbox","Open",elem[ELEM_HREF]]);if(inst.options.preload){if(inst.options.nextElem>=0&&inst.elemArray[inst.options.nextElem][ELEM_TYPE]==0)(new Image).src=inst.elemArray[inst.options.nextElem][ELEM_HREF];if(inst.options.prevElem>=
0&&inst.elemArray[inst.options.prevElem][ELEM_TYPE]==0)(new Image).src=inst.elemArray[inst.options.prevElem][ELEM_HREF]}};inst.loadCurElem=function(){inst.loadElem(inst.elemArray[inst.options.curElem])};inst.showError=function(){inst.$loading.hide();inst.resizeLightbox(inst.options.errorwidth,inst.options.errorheight,true,function(){inst.$loading.hide();inst.$error.show();inst.$elem.fadeIn(inst.options.fadespeed,function(){inst.showData()})})};inst.calcTextWidth=function(objW){return objW-36};inst.showTitle=
function(t,description){var text="";if(inst.options.showtitle)if(t&&t.length>0)text+=t;if(inst.options.inGroup){if(inst.options.showtitleprefix)text="<span class='html5-title-prefix'>"+inst.options.titleprefix.replace("%NUM",inst.options.groupIndex+1).replace("%TOTAL",inst.options.groupCount)+"</span> <span class='html5-title-caption'>"+text+"</span>";if(inst.options.showplaybutton)text="<div class='html5-playpause' style='display:inline-block;cursor:pointer;vertical-align:middle;width:"+inst.options.playimagesize+
"px;height:"+inst.options.playimagesize+"px;'><div class='html5-play' style='display:block;'><img alt='' src='"+inst.options.playimage+"'></div><div class='html5-pause' style='display:none;'><img alt='' src='"+inst.options.pauseimage+"'></div></div> "+text}if(text.length>0)text='<div class="html5-title">'+text+"</div>";if(inst.options.showdescription&&description&&description.length>0)text+='<div class="html5-description">'+description+"</div>";inst.$text.html(text);if(inst.options.inGroup&&inst.options.showplaybutton){if(inst.autosliding){$(".html5-play",
inst.$lightbox).hide();$(".html5-pause",inst.$lightbox).show()}else{$(".html5-play",inst.$lightbox).show();$(".html5-pause",inst.$lightbox).hide()}$(".html5-play",inst.$lightbox).click(function(){$(".html5-play",inst.$lightbox).hide();$(".html5-pause",inst.$lightbox).show();if(inst.slideTimeout){inst.slideTimeout.stop();inst.slideTimeout.start();inst.autosliding=true}});$(".html5-pause",inst.$lightbox).click(function(){$(".html5-play",inst.$lightbox).show();$(".html5-pause",inst.$lightbox).hide();
if(inst.slideTimeout){inst.slideTimeout.stop();inst.autosliding=false}})}$("#html5-social",inst.$lightbox).show();if(inst.options.showsocialmedia)if(inst.currentElem[ELEM_SOCIALMEDIA])if($("#html5-socialmedia",inst.$lightboxBox).length>0)$("#html5-socialmedia",inst.$lightboxBox).html(inst.currentElem[ELEM_SOCIALMEDIA]);else inst.$lightboxBox.append('<div id="html5-socialmedia" style="'+inst.options.socialmediaposition+'">'+inst.currentElem[ELEM_SOCIALMEDIA]+"</div>");else if($("#html5-socialmedia",
inst.$lightboxBox).length>0)$("#html5-socialmedia",inst.$lightboxBox).remove()},inst.showImage=function(elem,imgW,imgH){var elemW,elemH;if(elem[ELEM_WIDTH])elemW=elem[ELEM_WIDTH];else{elemW=imgW;elem[ELEM_WIDTH]=imgW}if(elem[ELEM_HEIGHT])elemH=elem[ELEM_HEIGHT];else{elemH=imgH;elem[ELEM_HEIGHT]=imgH}inst.showTitle(elem[ELEM_TITLE],elem[ELEM_DESCRIPTION]);var sizeObj=inst.calcElemSize({w:elemW,h:elemH},inst.options.imagekeepratio);inst.resizeLightbox(sizeObj.w,sizeObj.h,true,function(){inst.$loading.hide();
var timercode=!inst.options.showtimer||!inst.options.inGroup?"":"<div class='html5-timer' style='display:none;position:absolute;"+inst.options.timerposition+":0;left:0;width:0;height:"+inst.options.timerheight+"px;background-color:"+inst.options.timercolor+";opacity:"+inst.options.timeropacity+";'></div>";var titlecode=elem[ELEM_WEBLINKTEXT]&&elem[ELEM_WEBLINKTEXT].length>0?" title='"+elem[ELEM_WEBLINKTEXT].replace(/'/g,"&#39;")+"'":"";var targetcode=elem[ELEM_WEBLINKTARGET]&&elem[ELEM_WEBLINKTARGET].length>
0?" target='"+elem[ELEM_WEBLINKTARGET]+"'":"";var linkcode=elem[ELEM_WEBLINK]&&elem[ELEM_WEBLINK].length>0?"<a href='"+elem[ELEM_WEBLINK]+"'"+titlecode+targetcode+">":"";var linkcodeafter=elem[ELEM_WEBLINK]&&elem[ELEM_WEBLINK].length>0?"</a>":"";inst.$image.hide();inst.$image.html("<div class='html5-image-container' style='display:block;position:relative;width:100%;height:100%;"+(inst.options.imagekeepratio?"overflow:hidden;":"overflow:auto;")+"'>"+linkcode+"<img class='html5-image-img' alt='"+inst.html2Text(elem[ELEM_TITLE])+
"' src='"+elem[ELEM_HREF]+"' width='100%' height='auto' />"+linkcodeafter+timercode+"</div>");inst.$image.fadeIn(inst.options.fadespeed);inst.showData();if(inst.autosliding){inst.slideTimeout.stop();inst.slideTimeout.start()}})};inst.showSWF=function(elem){var dataW=elem[ELEM_WIDTH]?elem[ELEM_WIDTH]:inst.options.defaultwidth;var dataH=elem[ELEM_HEIGHT]?elem[ELEM_HEIGHT]:inst.options.defaultheight;inst.showTitle(elem[ELEM_TITLE],elem[ELEM_DESCRIPTION]);var sizeObj=inst.calcElemSize({w:dataW,h:dataH},
true);dataW=sizeObj.w;dataH=sizeObj.h;inst.resizeLightbox(dataW,dataH,true,function(){inst.$loading.hide();inst.$image.html("<div class='html5lightbox-swf' style='display:block;width:100%;height:100%;'></div>").show();inst.embedFlash($(".html5lightbox-swf",inst.$image),elem[ELEM_HREF],"window",{width:dataW,height:dataH});inst.$elem.show();inst.showData();if(inst.autosliding){inst.slideTimeout.stop();inst.slideTimeout.start()}})};inst.showVideo=function(elem){inst.slideTimeout.stop();inst.showTitle(elem[ELEM_TITLE],
elem[ELEM_DESCRIPTION]);var dataW=elem[ELEM_WIDTH]?elem[ELEM_WIDTH]:inst.options.defaultwidth;var dataH=elem[ELEM_HEIGHT]?elem[ELEM_HEIGHT]:inst.options.defaultheight;var sizeObj=inst.calcElemSize({w:dataW,h:dataH},true);dataW=sizeObj.w;dataH=sizeObj.h;inst.resizeLightbox(dataW,dataH,true,function(){inst.$loading.hide();inst.$image.html("<div class='html5lightbox-video' style='display:block;width:100%;height:100%;overflow:hidden;background-color:"+inst.options.videobgcolor+";'></div>").show();var isHTML5=
false;if(inst.options.isIE678||elem[ELEM_TYPE]==8||inst.options.isIE9&&inst.options.useflashonie9||inst.options.isIE10&&inst.options.useflashonie10||inst.options.isIE11&&inst.options.useflashonie11)isHTML5=false;else if(inst.options.isMobile)isHTML5=true;else if((inst.options.html5player||!inst.options.flashInstalled)&&inst.options.html5VideoSupported){isHTML5=true;if(inst.options.isFirefox||inst.options.isOpera)if(!elem[ELEM_HREF_WEBM]&&!elem[ELEM_HREF_OGG]&&(!inst.options.canplaymp4||inst.options.useflashformp4onfirefox))isHTML5=
false}if(isHTML5){var videoSrc=elem[ELEM_HREF];if(inst.options.isFirefox||inst.options.isOpera)if(elem[ELEM_HREF_WEBM])videoSrc=elem[ELEM_HREF_WEBM];else if(elem[ELEM_HREF_OGG])videoSrc=elem[ELEM_HREF_OGG];inst.embedHTML5Video($(".html5lightbox-video",inst.$image),videoSrc,inst.options.autoplay,inst.options.loopvideo,inst.options.mutevideo);if(elem[ELEM_WEBLINK]&&elem[ELEM_WEBLINK].length>0)$(".html5-lightbox-video",inst.$image).css({cursor:"pointer"}).click(function(){if(elem[ELEM_WEBLINKTARGET]&&
elem[ELEM_WEBLINKTARGET].length>0)window.open(elem[ELEM_WEBLINK],elem[ELEM_WEBLINKTARGET]);else window.open(elem[ELEM_WEBLINK])})}else{var videoFile=elem[ELEM_HREF];if(videoFile.charAt(0)!="/"&&videoFile.substring(0,5)!="http:"&&videoFile.substring(0,6)!="https:")videoFile=inst.options.htmlfolder+videoFile;inst.embedFlash($(".html5lightbox-video",inst.$image),inst.options.jsfolder+"html5boxplayer.swf","transparent",{width:dataW,height:dataH,jsobjectname:"html5Lightbox",hidecontrols:inst.options.videohidecontrols?
"1":"0",hideplaybutton:"0",videofile:videoFile,hdfile:"",ishd:"0",defaultvolume:inst.options.defaultvideovolume,autoplay:inst.options.autoplay?"1":"0",loop:inst.options.loopvideo?"1":"0",errorcss:".html5box-error"+inst.options.errorcss,id:0})}inst.$elem.show();inst.showData()})};inst.loadNext=function(){$(window).trigger("html5lightbox.videofinished");if(inst.autosliding)inst.gotoSlide(-1);else if(inst.options.autoclose)setTimeout(function(){inst.finish()},inst.options.autoclosedelay)};inst.getYoutubeParams=
function(href){var result={};if(href.indexOf("?")<0)return result;var params=href.substring(href.indexOf("?")+1).split("&");for(var i=0;i<params.length;i++){var value=params[i].split("=");if(value&&value.length==2&&value[0].toLowerCase()!="v")result[value[0].toLowerCase()]=value[1]}return result};inst.getYoutubeId=function(href){var youtubeId="";var regExp=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\??v?=?))([^#\&\?]*).*/;var match=href.match(regExp);if(match&&match[7]&&match[7].length==
11)youtubeId=match[7];return youtubeId};inst.prepareYoutubeHref=function(href){var youtubeId=inst.getYoutubeId(href);var protocol="https:";var result=protocol+"//www.youtube.com/embed/"+youtubeId;var params=this.getYoutubeParams(href);var first=true;for(var key in params){if(first){result+="?";first=false}else result+="&";result+=key+"="+params[key]}return result};inst.prepareDailymotionHref=function(href){if(href.match(/\:\/\/.*(dai\.ly)/i)){var protocol="https:";var id=href.match(/(dai\.ly\/)([a-zA-Z0-9\-\_]+)/)[2];
href=protocol+"//www.dailymotion.com/embed/video/"+id}return href};inst.showYoutubeVimeo=function(elem){inst.slideTimeout.stop();inst.showTitle(elem[ELEM_TITLE],elem[ELEM_DESCRIPTION]);var dataW=elem[ELEM_WIDTH]?elem[ELEM_WIDTH]:inst.options.defaultwidth;var dataH=elem[ELEM_HEIGHT]?elem[ELEM_HEIGHT]:inst.options.defaultheight;var sizeObj=inst.calcElemSize({w:dataW,h:dataH},true);dataW=sizeObj.w;dataH=sizeObj.h;if(inst.options.noresizecallback){inst.resizeLightbox(dataW,dataH,true,function(){inst.showData()});
inst.showYouTubeVimeoCallback(elem,sizeObj)}else inst.resizeLightbox(dataW,dataH,true,function(){inst.showYouTubeVimeoCallback(elem,sizeObj);inst.showData()})};inst.showYouTubeVimeoCallback=function(elem,sizeObj){inst.$loading.hide();inst.$image.html("<div class='html5lightbox-video' style='display:block;width:100%;height:100%;overflow:hidden;'></div>").show();var href=elem[ELEM_HREF];var youtubeid="";if(elem[ELEM_TYPE]==3){youtubeid=inst.getYoutubeId(href);href=inst.prepareYoutubeHref(href)}if(elem[ELEM_TYPE]==
9)href=inst.prepareDailymotionHref(href);if(inst.options.autoplay){href+=href.indexOf("?")<0?"?":"&";if(elem[ELEM_TYPE]==11)href+="autoPlay=true";else href+="autoplay=1"}if(inst.options.loopvideo){href+=href.indexOf("?")<0?"?":"&";switch(elem[ELEM_TYPE]){case 3:href+="loop=1&playlist="+youtubeid;break;case 4:case 9:href+="loop=1";break;case 11:href+="endVideoBehavior=loop";break}}if(elem[ELEM_TYPE]==3){if(href.indexOf("?")<0)href+="?wmode=transparent&rel=0";else href+="&wmode=transparent&rel=0";if(inst.options.videohidecontrols)href+=
"&controls=0&showinfo=0";if(inst.options.mutevideo)href+="&mute=1";href+="&enablejsapi=1&origin="+document.location.protocol+"//"+document.location.hostname}else if(elem[ELEM_TYPE]==4){href+=href.indexOf("?")<0?"?":"&";href+="api=1&player_id=html5boxiframevideo"+inst.options.curElem;if(inst.options.mutevideo)href+="&muted=1"}$(".html5lightbox-video",inst.$image).html("<iframe style='margin:0;padding:0;border:0;' class='html5boxiframevideo' id='html5boxiframevideo"+inst.options.curElem+"' width='100%' height='100%' src='"+
href+"' frameborder='0' allow='autoplay' webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>");inst.$elem.show();if(elem[ELEM_TYPE]==3){if(inst.options.inityoutube){inst.youtubeFinishCount=0;inst.initYoutubeFinishCallback()}}else if(elem[ELEM_TYPE]==4)if(inst.options.initvimeo){inst.vimeoFinishCount=0;inst.initVimeoFinishCallback()}};inst.initYoutubeFinishCallback=function(){if(typeof YT==="object"&&typeof YT.Player==="function")inst.ytplayer=new YT.Player("html5boxiframevideo"+inst.options.curElem,
{events:{"onStateChange":function(event){if(event.data==YT.PlayerState.ENDED){$(window).trigger("html5lightbox.videofinished");if(inst.autosliding)inst.gotoSlide(-1);else if(inst.options.autoclose)setTimeout(function(){inst.finish()},inst.options.autoclosedelay)}}}});else setTimeout(function(){if(inst.youtubeFinishCount<10){inst.youtubeFinishCount++;inst.initYoutubeFinishCallback()}},300)};inst.initVimeoFinishCallback=function(){if(typeof $f==="function"){var vimeoIframe=$("#html5boxiframevideo"+
inst.options.curElem)[0];inst.vimeoPlayer=$f(vimeoIframe);inst.vimeoPlayer.addEvent("ready",function(){inst.vimeoPlayer.addEvent("finish",function(id){$(window).trigger("html5lightbox.videofinished");if(inst.autosliding)inst.gotoSlide(-1);else if(inst.options.autoclose)setTimeout(function(){inst.finish()},inst.options.autoclosedelay)})})}else setTimeout(function(){if(inst.vimeoFinishCount<10){inst.vimeoFinishCount++;inst.initVimeoFinishCallback()}},300)};inst.showPDF=function(elem){if(inst.options.enablepdfjs){if(inst.options.isIPhone&&
inst.options.openpdfinnewtaboniphone||inst.options.isIPad&&inst.options.openpdfinnewtabonipad){var win=window.open(elem[ELEM_HREF],"_blank");win.focus();inst.finish();return}if(!inst.options.pdfjsengine)inst.options.pdfjsengine=inst.options.jsfolder+"pdfjs/web/viewer.html";var href=elem[ELEM_HREF];if(href.substring(0,5)!="http:"&&href.substring(0,6)!="https:")href=inst.absoluteUrl(href);var hashindex=href.indexOf("#");if(hashindex>0)href=encodeURIComponent(href.substring(0,hashindex))+href.substring(hashindex);
else href=encodeURIComponent(href);var pdfelem=jQuery.extend(true,{},elem);pdfelem[ELEM_HREF]=inst.options.pdfjsengine+(inst.options.pdfjsengine.indexOf("?")<0?"?":"&")+"file="+href;inst.showWeb(pdfelem)}else if(inst.options.isIPhone||inst.options.isIPad||inst.options.isAndroid||inst.options.isIE||inst.options.isIE11){var win=window.open(elem[ELEM_HREF],"_blank");win.focus();inst.finish();return}else inst.showWeb(elem)};inst.showMP3=function(elem){};inst.showDiv=function(elem){inst.showTitle(elem[ELEM_TITLE],
elem[ELEM_DESCRIPTION]);var winWidth=$(window).width();var winH=$(window).height();var navH=inst.options.shownavigation&&inst.navvisible?inst.options.navheight:0;var dataW=elem[ELEM_WIDTH]?elem[ELEM_WIDTH]:inst.options.usedefaultsizeforcontent?inst.options.defaultwidth:winWidth;var dataH=elem[ELEM_HEIGHT]?elem[ELEM_HEIGHT]:inst.options.usedefaultsizeforcontent?inst.options.defaultheight:winH-navH;var sizeObj=inst.calcElemSize({w:dataW,h:dataH},false);dataW=sizeObj.w;dataH=sizeObj.h;inst.resizeLightbox(dataW,
dataH,true,function(){inst.$loading.hide();inst.$image.html("<div class='html5lightbox-div' id='html5lightbox-div"+inst.options.curElem+"' style='display:block;width:100%;height:"+(inst.options.autoresizecontent?"auto":"100%")+";"+(inst.options.isIOS?"-webkit-overflow-scrolling:touch;overflow-y:scroll;":"overflow:auto;")+"'></div>").show();var divID=elem[ELEM_HREF];if($(divID).length>0)$(divID).children().appendTo($("#html5lightbox-div"+inst.options.curElem,inst.$image));else $("#html5lightbox-div"+
inst.options.curElem,inst.$image).html("<div class='html5-error'>The specified div ID does not exist.</div>");inst.$elem.show();inst.showData();if(inst.options.autoresizecontent)inst.resizeWindow();if(inst.autosliding){inst.slideTimeout.stop();inst.slideTimeout.start()}})};inst.isSameDomain=function(href){if(href.substring(0,5)!="http:"&&href.substring(0,6)!="https:")return true;var link=document.createElement("a");link.setAttribute("href",href);var result=link.protocol==document.location.protocol&&
link.host==document.location.host&&link.port==document.location.port;link=null;return result};inst.showWeb=function(elem){inst.showTitle(elem[ELEM_TITLE],elem[ELEM_DESCRIPTION]);var winWidth=$(window).width();var winH=$(window).height();var navH=inst.options.shownavigation&&inst.navvisible?inst.options.navheight:0;var dataW=elem[ELEM_WIDTH]?elem[ELEM_WIDTH]:inst.options.usedefaultsizeforcontent?inst.options.defaultwidth:winWidth;var dataH=elem[ELEM_HEIGHT]?elem[ELEM_HEIGHT]:inst.options.usedefaultsizeforcontent?
inst.options.defaultheight:winH-navH;var sizeObj=inst.calcElemSize({w:dataW,h:dataH},false);dataW=sizeObj.w;dataH=sizeObj.h;inst.resizeLightbox(dataW,dataH,true,function(){inst.$image.html("<div class='html5lightbox-web' style='display:block;width:100%;height:100%;"+(inst.options.isIOS?"-webkit-overflow-scrolling:touch;overflow-y:scroll;":"")+"'></div>").show();$(".html5lightbox-web",inst.$image).html("<iframe style='margin:0;padding:0;border:0;' class='html5lightbox-web-iframe' width='100%' height='100%' src='"+
elem[ELEM_HREF]+"' frameborder='0' webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>");$(".html5lightbox-web-iframe",inst.$image).on("load",function(){inst.$loading.hide()});inst.$elem.show();inst.showData();if(inst.options.autoresizecontent&&inst.isSameDomain(elem[ELEM_HREF])){$(".html5lightbox-web-iframe",inst.$image).data("sameorigin",true);$(".html5lightbox-web-iframe",inst.$image).on("load",function(){$(this).data("sameoriginloaded",true);inst.resizeWindow()})}if(inst.autosliding){inst.slideTimeout.stop();
inst.slideTimeout.start()}})};inst.scrollBox=function(){};inst.resizeWindow=function(){if(!inst.currentElem)return;if(!inst.options.responsive)return;var winWidth=$(window).width();var winH=$(window).height();if(!(inst.options.showtitle&&inst.currentElem[ELEM_TITLE]&&inst.currentElem[ELEM_TITLE].length>0||inst.options.showdescription&&inst.currentElem[ELEM_DESCRIPTION]&&inst.currentElem[ELEM_DESCRIPTION].length>0||inst.options.inGroup&&(inst.options.showplaybutton||inst.options.showtitleprefix)))inst.options.barheight=
0;var elemW,elemH,keepratio;if(inst.currentElem[ELEM_TYPE]==5||inst.currentElem[ELEM_TYPE]==7||inst.currentElem[ELEM_TYPE]==10){var navH=inst.options.shownavigation&&inst.navvisible?inst.options.navheight:0;elemW=inst.currentElem[ELEM_WIDTH]?inst.currentElem[ELEM_WIDTH]:inst.options.usedefaultsizeforcontent?inst.options.defaultwidth:winWidth;elemH=inst.currentElem[ELEM_HEIGHT]?inst.currentElem[ELEM_HEIGHT]:inst.options.usedefaultsizeforcontent?inst.options.defaultheight:winH-navH;keepratio=false}else{elemW=
inst.currentElem[ELEM_WIDTH]?inst.currentElem[ELEM_WIDTH]:inst.options.defaultwidth;elemH=inst.currentElem[ELEM_HEIGHT]?inst.currentElem[ELEM_HEIGHT]:inst.options.defaultheight;if(inst.currentElem[ELEM_TYPE]==0)keepratio=inst.options.imagekeepratio;else keepratio=true}var sizeObj=inst.calcElemSize({w:elemW,h:elemH},keepratio);inst.adjustLightboxPos(sizeObj.w,sizeObj.h);inst.adjustDataHeight();if(inst.options.autoresizecontent&&(inst.currentElem[ELEM_TYPE]==5||inst.currentElem[ELEM_TYPE]==7||inst.currentElem[ELEM_TYPE]==
10)){var resizeHeight=false;if(inst.currentElem[ELEM_TYPE]==7&&$(".html5lightbox-web-iframe",inst.$lightbox).length>0&&$(".html5lightbox-web-iframe",inst.$lightbox).data("sameoriginloaded")){var iframe=$(".html5lightbox-web-iframe",inst.$lightbox)[0];if(iframe&&iframe.contentWindow&&iframe.contentWindow.document&&iframe.contentWindow.document.documentElement.offsetHeight)if(elemH>iframe.contentWindow.document.documentElement.offsetHeight){elemH=iframe.contentWindow.document.documentElement.offsetHeight;
resizeHeight=true}}else if(inst.currentElem[ELEM_TYPE]==10&&$(".html5lightbox-div",inst.$lightbox).length>0){var divH=$(".html5lightbox-div",inst.$lightbox).height();if(elemH>divH){elemH=divH;resizeHeight=true}}if(resizeHeight){sizeObj=inst.calcElemSize({w:elemW,h:elemH},keepratio);inst.adjustLightboxPos(sizeObj.w,sizeObj.h)}}if($(".html5-nav").length<=0)return;$(".html5-nav-list").css({"margin-left":0});var $navMask=$(".html5-nav-mask");var $navPrev=$(".html5-nav-prev");var $navNext=$(".html5-nav-next");
var winWidth=$(window).width();if(inst.options.totalwidth<=winWidth){$navMask.css({width:inst.options.totalwidth+"px"});$navPrev.hide();$navNext.hide()}else{$navMask.css({width:winWidth-2*inst.options.navbuttonwidth+"px"});$navPrev.show();$navNext.show()}};inst.calcElemSize=function(sizeObj,keepratio){if(!inst.options.responsive)return sizeObj;var winWidth=$(window).width();var winH=$(window).height();winH=winH?winH:$(document).height();if(inst.options.resizeleftright&&(inst.options.titlestyle=="left"||
inst.options.titlestyle=="right")&&winWidth>inst.options.sidetobottomscreenwidth)sizeObj.w=sizeObj.w*100/inst.options.imagepercentage;var navH=inst.options.shownavigation&&inst.navvisible?inst.options.navheight:0;var topmargin=$(window).height()<inst.options.smallscreenheight?inst.options.bordertopmarginsmall:inst.options.bordertopmargin;var h0=winH-navH-2*inst.options.bordersize-2*topmargin;if(inst.options.responsivebarheight)if(winH<=inst.options.smallscreenheight)inst.options.barheight=inst.options.barheightonsmallheight;
else inst.options.barheight=inst.options.barheightoriginal;if(inst.options.titlestyle=="bottom")h0-=inst.options.barheight;else if(inst.options.titlestyle=="outside")h0-=inst.$elemData.outerHeight();var w0=winWidth-2*inst.options.bordersize-2*inst.options.bordermargin;if(inst.options.resizeleftright&&(inst.options.titlestyle=="left"||inst.options.titlestyle=="right")&&winWidth>inst.options.sidetobottomscreenwidth)w0-=2*inst.options.bordersize;if(inst.options.fullscreenmode&&winWidth>inst.options.navarrowsbottomscreenwidth||
(inst.options.isTouch&&inst.options.navarrowsalwaysshowontouch||inst.options.alwaysshownavarrows)&&winWidth>inst.options.navarrowsbottomscreenwidth)w0-=64;if(inst.options.notkeepratioonsmallheight&&winH<=inst.options.smallscreenheight)keepratio=false;if(inst.currentElem[ELEM_TYPE]==0&&keepratio){var ratio=inst.currentElem[ELEM_ORIGINALWIDTH]/inst.currentElem[ELEM_ORIGINALHEIGHT];if(inst.options.resizeleftright&&(inst.options.titlestyle=="left"||inst.options.titlestyle=="right")&&winWidth>inst.options.sidetobottomscreenwidth)ratio*=
100/inst.options.imagepercentage;sizeObj.h=Math.round(sizeObj.w/ratio);if(sizeObj.h>h0){sizeObj.w=Math.round(ratio*h0);sizeObj.h=h0}if(sizeObj.w>w0){sizeObj.h=Math.round(w0/ratio);sizeObj.w=w0}}else{if(sizeObj.h>h0){if(keepratio)sizeObj.w=Math.round(sizeObj.w*h0/sizeObj.h);sizeObj.h=h0}else if(inst.options.maxheight)sizeObj.h=h0;if(sizeObj.w>w0){if(keepratio)sizeObj.h=Math.round(sizeObj.h*w0/sizeObj.w);sizeObj.w=w0}}if(inst.options.resizeleftright&&(inst.options.titlestyle=="left"||inst.options.titlestyle==
"right")&&winWidth>inst.options.sidetobottomscreenwidth)sizeObj.w+=2*inst.options.bordersize;return sizeObj};inst.adjustDataHeight=function(){var winWidth=$(window).width();var winH=$(window).height();var isBottomText=inst.options.titlestyle=="bottom"||inst.options.titlestyle=="outside"||(inst.options.titlestyle=="left"||inst.options.titlestyle=="right")&&winWidth<=inst.options.sidetobottomscreenwidth;if(inst.options.responsivebarheight)if(winH<=inst.options.smallscreenheight)inst.options.barheight=
inst.options.barheightonsmallheight;else inst.options.barheight=inst.options.barheightoriginal;if(isBottomText){var topmargin=$(window).height()<inst.options.smallscreenheight?inst.options.bordertopmarginsmall:inst.options.bordertopmargin;var navH=inst.options.shownavigation&&inst.navvisible?inst.options.navheight:0;var winH=$(window).height();var maxH=winH-topmargin-navH;var barHeight=inst.options.barautoheight?inst.$elemData.outerHeight():inst.options.barheight;var totalHeight=inst.$elemWrap.outerHeight()+
barHeight;var elemHeight=Math.min(maxH,totalHeight);var boxMargin=(winH-navH-elemHeight)/2;inst.$elem.css({"max-height":elemHeight+"px"});inst.$lightboxBox.css({"margin-top":boxMargin+"px"})}else inst.$elem.css({"max-height":"none"});if(inst.options.titlestyle=="bottom"||inst.options.titlestyle=="inside")inst.$lightboxBox.css({height:"auto"});if(inst.options.positionFixed)$("#html5-lightbox-overlay",inst.$lightbox).css({height:Math.max($(window).height(),$(document).height())});else $("#html5-lightbox-overlay",
inst.$lightbox).css({height:"100%"})};inst.showData=function(){if(inst.$text.text().length>0)inst.$elemData.show();inst.adjustDataHeight();$(window).trigger("html5lightbox.lightboxopened")};inst.resizeLightbox=function(elemW,elemH,bAnimate,onFinish){inst.hideNavArrows();var boxPos=inst.calcBoxPosition(elemW,elemH);var boxW=boxPos[0];var boxH=boxPos[1];var boxT=boxPos[2];inst.$loading.hide();inst.$watermark.hide();if(inst.options.nextElem<=inst.options.curElem)if(inst.options.onlastitem&&window[inst.options.onlastitem]&&
typeof window[inst.options.onlastitem]=="function")window[inst.options.onlastitem](inst.currentElem);if(inst.options.prevElem>=inst.options.curElem)if(inst.options.onfirstitem&&window[inst.options.onfirstitem]&&typeof window[inst.options.onfirstitem]=="function")window[inst.options.onfirstitem](inst.currentElem);if(!inst.options.fullscreenmode&&(!inst.options.isTouch||!inst.options.navarrowsalwaysshowontouch)&&!inst.options.alwaysshownavarrows){inst.$lightboxBox.on("mouseenter mousemove",function(){if(inst.options.arrowloop&&
inst.options.prevElem>=0||!inst.options.arrowloop&&inst.options.prevElem>=0&&inst.options.prevElem<inst.options.curElem)inst.$prev.fadeIn();if(inst.options.arrowloop&&inst.options.nextElem>=0||!inst.options.arrowloop&&inst.options.nextElem>=0&&inst.options.nextElem>inst.options.curElem)inst.$next.fadeIn()});inst.$lightboxBox.on("mouseleave",function(){inst.$next.fadeOut();inst.$prev.fadeOut()})}var existingBoxT=parseInt(inst.$lightboxBox.css("margin-top"));inst.$lightboxBox.css({"margin-top":boxT});
inst.resizePositionFixed();var speed=bAnimate?inst.options.resizespeed:0;if(inst.options.fullscreenmode&&inst.options.fullscreennotransition)speed=0;if((inst.options.transition=="slide"||inst.options.transition=="crossfade")&&inst.existingElem>=0)speed=0;var winWidth=$(window).width();if((inst.options.titlestyle=="left"||inst.options.titlestyle=="right")&&winWidth>inst.options.sidetobottomscreenwidth){if(boxW==inst.$lightboxBox.width()&&boxH==inst.$lightboxBox.height())speed=0;inst.$lightboxBox.animate({width:boxW},
speed).animate({height:boxH},speed,function(){inst.onAnimateFinish(onFinish)})}else{if(boxW==inst.$elemWrap.width()&&boxH==inst.$elemWrap.height())speed=0;inst.$lightboxBox.css({"width":boxW,"height":"auto"});inst.$elemWrap.animate({width:boxW},speed).animate({height:boxH},speed,function(){inst.onAnimateFinish(onFinish)})}};inst.onAnimateFinish=function(onFinish){inst.$loading.show();inst.$watermark.show();inst.$close.show();inst.$elem.css({"background-color":inst.options.bgcolor});inst.resizePositionFixed();
onFinish();inst.finishCallback()};inst.finishCallback=function(){if((inst.options.transition=="slide"||inst.options.transition=="crossfade")&&inst.existingElem>=0)if(inst.options.transition=="slide"){inst.$prevelem.animate({left:inst.direction==-1?"-100%":"100%",opacity:0},{duration:inst.options.transitionduration});inst.$elem.animate({left:0,opacity:1},{duration:inst.options.transitionduration,always:function(){inst.$prevelem.remove();inst.$elem.removeClass("html5-elem-box-current").css({position:"relative",
height:"100%"})}})}else{inst.$prevelem.animate({opacity:0},{duration:inst.options.transitionduration});inst.$elem.animate({opacity:1},{duration:inst.options.transitionduration,always:function(){inst.$prevelem.remove();inst.$elem.removeClass("html5-elem-box-current").css({position:"relative",height:"100%"})}})}},inst.resetDiv=function(elemID){if(inst.elemArray.length>0&&elemID>=0)if(inst.elemArray[elemID][ELEM_TYPE]==10){var divID=inst.elemArray[elemID][ELEM_HREF];if($(divID).length>0)$("#html5lightbox-div"+
elemID).children().appendTo($(divID))}};inst.reset=function(){if(inst.options.stamp)inst.$watermark.hide();inst.showing=false;inst.$image.empty();inst.$text.empty();inst.$error.hide();inst.$loading.hide();inst.$image.hide();if(inst.options.titlestyle=="bottom"||inst.options.titlestyle=="inside")inst.$elemData.hide();if(!inst.options.fullscreenmode)inst.$close.hide();inst.$elem.css({"background-color":""})};inst.resetNavigation=function(){inst.options.navheight=0;$(".html5-nav").remove();inst.navvisible=
false};inst.finish=function(){if(inst.options.exitanimation=="fadeOut"||inst.options.exitanimation=="fadeOutDown"){inst.$lightbox.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){inst.$lightboxBox.removeClass("html5box-animated html5box-"+inst.options.exitanimation);inst.$lightbox.removeClass("html5box-animated html5box-fadeOut");inst.finishDone()});inst.$lightbox.addClass("html5box-animated html5box-fadeOut");inst.$lightboxBox.addClass("html5box-animated html5box-"+
inst.options.exitanimation)}else inst.finishDone()};inst.finishDone=function(){inst.existingElem=-1;inst.resetDiv(inst.options.curElem);if($(".html5-lightbox-video",inst.$lightbox).length)$(".html5-lightbox-video",inst.$lightbox).attr("src","");$("head").find("style").each(function(){if($(this).data("creator")=="html5box-html5-lightbox")$(this).remove()});if(inst.options.bodynoscroll)$("html,body").removeClass("bodynoscroll");inst.slideTimeout.stop();inst.reset();inst.resetNavigation();inst.$lightbox.remove();
$("#html5box-html5-lightbox").remove();inst.showObjects();if(inst.options.oncloselightbox&&window[inst.options.oncloselightbox]&&typeof window[inst.options.oncloselightbox]=="function")window[inst.options.oncloselightbox](inst.currentElem);if(inst.onLightboxClosed&&typeof inst.onLightboxClosed=="function")inst.onLightboxClosed(inst.currentElem);$(window).trigger("html5lightbox.lightboxclosed")};inst.pauseSlide=function(){};inst.playSlide=function(){};inst.gotoSlide=function(slide){inst.existingElem=
inst.options.curElem;inst.direction=slide;inst.resetDiv(inst.options.curElem);if(slide==-1){if(inst.options.nextElem<0)return;inst.options.curElem=inst.options.nextElem}else if(slide==-2){if(inst.options.prevElem<0)return;inst.options.curElem=inst.options.prevElem}else if(slide>=0){inst.direction=slide>inst.options.curElem?-1:-2;inst.options.curElem=slide}if(inst.autosliding)inst.slideTimeout.stop();inst.calcNextPrevElem();if(inst.options.transition!="slide"&&inst.options.transition!="crossfade")inst.reset();
inst.loadCurElem();if(inst.options.titlestyle=="inside"&&inst.options.showonmouseoverinside&&inst.currentElem[ELEM_TYPE]!==0&&inst.options.showinsidetitleforimageonly)inst.$elemData.css({opacity:0})};inst.enableSwipe=function(){var preventDefault=inst.options.isAndroid&&(inst.options.swipepreventdefaultonandroid||inst.options.androidVersion>=0&&inst.options.androidVersion<=5)?true:false;inst.$lightboxBox.html5lightboxTouchSwipe({preventWebBrowser:preventDefault,swipeDistance:inst.options.swipedistance,
swipeLeft:function(){inst.gotoSlide(-1)},swipeRight:function(){inst.gotoSlide(-2)}})};inst.hideObjects=function(){$("select, embed, object").css({"visibility":"hidden"})};inst.showObjects=function(){$("select, embed, object").css({"visibility":"visible"})};inst.embedHTML5Video=function($container,src,autoplay,loopvideo,mutevideo){$container.html("<div style='display:block;width:100%;height:100%;position:relative;'><video class='html5-lightbox-video' width='100%' height='100%'"+(inst.options.html5videoposter&&
inst.options.html5videoposter.length>0?"poster='"+inst.options.html5videoposter+"'":"")+(autoplay?" autoplay":"")+(loopvideo?" loop":"")+(mutevideo?" muted":"")+(inst.options.nativehtml5controls&&!inst.options.videohidecontrols?" controls='controls'":"")+(inst.options.nativecontrolsnodownload?' controlsList="nodownload"':"")+" src='"+src+"'></div>");if(mutevideo)inst.options.defaultvideovolume=0;if(!inst.options.nativehtml5controls&&!inst.options.videohidecontrols){$("video",$container).data("src",
src);$("video",$container).lightboxHTML5VideoControls(inst.options.skinsfolder,inst,".html5-lightbox-video",inst.options.videohidecontrols,false,inst.options.defaultvideovolume,inst.options.nativecontrolsonfullscreen,inst.options.nativecontrolsnodownload,null)}$("video",$container).off("ended").on("ended",function(){$(window).trigger("html5lightbox.videofinished");if(inst.autosliding)inst.gotoSlide(-1);else if(inst.options.autoclose)setTimeout(function(){inst.finish()},inst.options.autoclosedelay)})};
inst.embedFlash=function($container,src,wmode,flashVars){if(inst.options.flashInstalled){var htmlOptions={pluginspage:"http://www.adobe.com/go/getflashplayer",quality:"high",allowFullScreen:"true",allowScriptAccess:"always",type:"application/x-shockwave-flash"};htmlOptions.width="100%";htmlOptions.height="100%";htmlOptions.src=src;htmlOptions.flashVars=$.param(flashVars);htmlOptions.wmode=wmode;var htmlString="";for(var key in htmlOptions)htmlString+=key+"="+htmlOptions[key]+" ";$container.html("<embed "+
htmlString+"/>")}else $container.html("<div class='html5lightbox-flash-error' style='display:block; position:relative;text-align:center; width:100%; left:0px; top:40%;'><div class='html5-error'><div>The required Adobe Flash Player plugin is not installed</div><br /><div style='display:block;position:relative;text-align:center;width:112px;height:33px;margin:0px auto;'><a href='http://www.adobe.com/go/getflashplayer'><img src='http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='Get Adobe Flash player' width='112' height='33'></img></a></div></div>")};
inst.checkType=function(href){if(!href)return-1;if(href.match(/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i))return 0;if(href.match(/[^\.]\.(swf)\s*$/i))return 1;if(href.match(/\.(mp4|m4v|ogv|ogg|webm)(.*)?$/i))return 2;if(href.match(/\:\/\/.*(youtube\.com)/i)||href.match(/\:\/\/.*(youtu\.be)/i))return 3;if(href.match(/\:\/\/.*(vimeo\.com)/i))return 4;if(href.match(/\:\/\/.*(dailymotion\.com)/i)||href.match(/\:\/\/.*(dai\.ly)/i))return 9;if(href.match(/[^\.]\.(pdf)/i))return 5;if(href.match(/[^\.]\.(mp3)\s*$/i))return 6;
if(href.match(/[^\.]\.(flv)\s*$/i))return 8;if(href.match(/\#\w+/i))return 10;if(href.match(/\:\/\/.*(wistia)/i))return 11;return 7};inst.getURLParams=function(){var result={};var params=window.location.search.substring(1).split("&");for(var i=0;i<params.length;i++){var value=params[i].split("=");if(value&&value.length==2)result[value[0].toLowerCase()]=unescape(value[1])}return result};inst.absoluteUrl=function(href){var link=document.createElement("a");link.href=href;return link.protocol+"//"+link.host+
link.pathname+link.search+link.hash};inst.showLightboxObject=function(obj){if(obj)inst.showLightbox(obj.type,obj.href,obj.title,obj.width,obj.height,obj.webm,obj.ogg,obj.thumbnail,obj.description,obj.div,obj.originalwidth,obj.originalheight,obj.socialmedia,obj.weblink,obj.weblinktarget,obj.weblinktext,obj.group)};inst.showLightbox=function(type,href,title,width,height,webm,ogg,thumbnail,description,div,originalwidth,originalheight,socialmedia,weblink,weblinktarget,weblinktext,group){inst.options=
$.extend(inst.options,inst.defaultoptions);$(window).trigger("html5lightbox.lightboxshow");inst.init();inst.reset();inst.$lightbox.show();inst.adjustLightboxPos(inst.options.loadingwidth,inst.options.loadingheight);inst.loadElem(new Array(type,href,title,group,width,height,webm,ogg,thumbnail,description,div,originalwidth,originalheight,socialmedia,weblink,weblinktarget,weblinktext))};inst.addItemNoDuplicate=function(href,title,group,width,height,webm,ogg,thumbnail,description,mediatype){for(var i=
0;i<inst.elemArray.length;i++)if(inst.elemArray[i][ELEM_HREF]==href)return;inst.addItem(href,title,group,width,height,webm,ogg,thumbnail,description,mediatype)};inst.addItem=function(href,title,group,width,height,webm,ogg,thumbnail,description,mediatype){type=mediatype&&mediatype>=0?mediatype:inst.checkType(href);inst.elemArray.push(new Array(type,href,title,group,width,height,webm,ogg,thumbnail,description))};inst.showItem=function(href){inst.options=$.extend(inst.options,inst.defaultoptions);$(window).trigger("html5lightbox.lightboxshow");
inst.init();if(inst.elemArray.length<=0)return true;inst.hideObjects();for(var i=0;i<inst.elemArray.length;i++)if(inst.elemArray[i][ELEM_HREF]==href)break;if(i==inst.elemArray.length)return true;inst.options.curElem=i;inst.calcNextPrevElem();inst.reset();inst.$lightbox.show();inst.adjustLightboxPos(inst.options.loadingwidth,inst.options.loadingheight);inst.loadCurElem();return false};inst.each(function(){var self=$(this);var nodeName=this.nodeName.toLowerCase();if(nodeName=="a"||nodeName=="area")self.off("click").click(inst.clickHandler);
else self.find("a,area").each(function(){$(this).off("click").click(inst.clickHandler)});var autoopen=false;var autoopendelay=0;var autoopenonce=false;var autoopenonceexpire=0;if(typeof html5lightbox_options!="undefined"&&html5lightbox_options){if("autoopen"in html5lightbox_options)autoopen=html5lightbox_options.autoopen;if("autoopendelay"in html5lightbox_options)autoopendelay=html5lightbox_options.autoopendelay;if("autoopenonce"in html5lightbox_options)autoopenonce=html5lightbox_options.autoopenonce;
if("autoopenonceexpire"in html5lightbox_options)autoopenonceexpire=html5lightbox_options.autoopenonceexpire}autoopen=self.data("autoopen")?self.data("autoopen"):autoopen;autoopendelay=self.data("autoopendelay")?self.data("autoopendelay"):autoopendelay;autoopenonce=self.data("autoopenonce")?self.data("autoopenonce"):autoopenonce;autoopenonceexpire=self.data("autoopenonceexpire")?self.data("autoopenonceexpire"):autoopenonceexpire;autocookie="html5lightboxpopup=1;path=/";if(autoopenonceexpire>0){var expires=
new Date;expires.setTime(expires.getTime()+autoopenonceexpire*60*60*1E3);autocookie+=";expires="+expires.toUTCString()}if(autoopen){var is_popped=false;if(autoopenonce){var cookies=document.cookie?document.cookie.split(";"):[];for(var i in cookies){var parts=$.trim(cookies[i]).split("=");if(parts.length&&parts[0]=="html5lightboxpopup"){is_popped=true;break}}}if(!is_popped){setTimeout(function(){self.click();document.cookie=autocookie},autoopendelay);return false}}if(self.data("preloadonpageload")){var fileType=
"mediatype"in self.data()?self.data("mediatype"):inst.checkType(self.attr("href"));if(fileType==0){var preloaddelay=self.data("preloaddelay")?self.data("preloaddelay"):0;setTimeout(function(){(new Image).src=self.attr("href")},preloaddelay)}}});var urlParams=inst.getURLParams();if("html5lightboxshare"in urlParams){var shareUrl=decodeURIComponent(urlParams["html5lightboxshare"]);var shareLink=$('.html5lightbox[href="'+shareUrl+'"]');if(shareLink.length>0)shareLink.click()}if(inst.options.preloadallonpageload)setTimeout(function(){inst.each(function(){if(this.nodeName.toLowerCase()!=
"a"&&this.nodeName.toLowerCase()!="area")return;var fileType="mediatype"in $(this).data()?$(this).data("mediatype"):inst.checkType($(this).attr("href"));if(fileType!==0)return;(new Image).src=$(this).attr("href");if($(this).data("thumbnail"))(new Image).src=$(this).data("thumbnail")})},inst.options.preloadalldelay);return inst}})(jQuery);(function($){$.fn.html5lightboxTouchSwipe=function(options){var defaults={preventWebBrowser:false,swipeDistance:0,swipeLeft:null,swipeRight:null,swipeTop:null,swipeBottom:null};
if(options)$.extend(defaults,options);return this.each(function(){var startX=-1,startY=-1;var curX=-1,curY=-1;function touchStart(event){var e=event.originalEvent;if(e.targetTouches.length>=1){startX=e.targetTouches[0].pageX;startY=e.targetTouches[0].pageY}else touchCancel(event)}function touchMove(event){if(defaults.preventWebBrowser)event.preventDefault();var e=event.originalEvent;if(e.targetTouches.length>=1){curX=e.targetTouches[0].pageX;curY=e.targetTouches[0].pageY}else touchCancel(event)}function touchEnd(event){if(curX>
0||curY>0){triggerHandler();touchCancel(event)}else touchCancel(event)}function touchCancel(event){startX=-1;startY=-1;curX=-1;curY=-1}function triggerHandler(){if(Math.abs(curX-startX)>Math.abs(curY-startY)){if(Math.abs(curX-startX)>defaults.swipeDistance)if(curX>startX){if(defaults.swipeRight)defaults.swipeRight.call()}else if(defaults.swipeLeft)defaults.swipeLeft.call()}else if(Math.abs(curY-startY)>defaults.swipeDistance)if(curY>startY){if(defaults.swipeBottom)defaults.swipeBottom.call()}else if(defaults.swipeTop)defaults.swipeTop.call()}
try{$(this).on("touchstart",touchStart);$(this).on("touchmove",touchMove);$(this).on("touchend",touchEnd);$(this).on("touchcancel",touchCancel)}catch(e){}})}})(jQuery);(function($){$.fn.lightboxHTML5VideoControls=function(skinFolder,parentInst,videoElem,hideControls,hidePlayButton,defaultVolume,fullscreenNativeControls,html5VideoNoDownload,skinImages){var isTouch="ontouchstart"in window;var eStart=isTouch?"touchstart":"mousedown";var eMove=isTouch?"touchmove":"mousemove";var eCancel=isTouch?"touchcancel":
"mouseup";var eClick="click";var BUTTON_SIZE=32;var BAR_HEIGHT=isTouch?48:36;var hideControlsTimerId=null;var hideVolumeBarTimeoutId=null;var sliderDragging=false;var isFullscreen=false;var userActive=true;var isHd=$(this).data("ishd");var hd=$(this).data("hd");var src=$(this).data("src");var $videoObj=$(this);$videoObj.get(0).removeAttribute("controls");var $videoPlay=$("<div class='html5boxVideoPlay'></div>");$videoObj.after($videoPlay);var playbuttonImage=skinImages&&"playbutton"in skinImages&&
skinImages.playbutton.length>0?skinImages.playbutton:skinFolder+"html5boxplayer_playvideo.png";$videoPlay.css({position:"absolute",top:"50%",left:"50%",display:"block",cursor:"pointer",width:64,height:64,"margin-left":-32,"margin-top":-32,"background-image":"url('"+playbuttonImage+"')","background-position":"center center","background-repeat":"no-repeat"}).on(eClick,function(){$videoObj.get(0).play()});var $videoFullscreenBg=$("<div class='html5boxVideoFullscreenBg'></div>");var $videoControls=$("<div class='html5boxVideoControls'>"+
"<div class='html5boxVideoControlsBg'></div>"+"<div class='html5boxPlayPause'>"+"<div class='html5boxPlay'></div>"+"<div class='html5boxPause'></div>"+"</div>"+"<div class='html5boxTimeCurrent'>--:--</div>"+"<div class='html5boxFullscreen'></div>"+"<div class='html5boxHD'></div>"+"<div class='html5boxVolume'>"+"<div class='html5boxVolumeButton'></div>"+"<div class='html5boxVolumeBar'>"+"<div class='html5boxVolumeBarBg'>"+"<div class='html5boxVolumeBarActive'></div>"+"</div>"+"</div>"+"</div>"+"<div class='html5boxTimeTotal'>--:--</div>"+
"<div class='html5boxSeeker'>"+"<div class='html5boxSeekerBuffer'></div>"+"<div class='html5boxSeekerPlay'></div>"+"<div class='html5boxSeekerHandler'></div>"+"</div>"+"<div style='clear:both;'></div>"+"</div>");$videoObj.after($videoControls);$videoObj.after($videoFullscreenBg);$videoFullscreenBg.css({display:"none",position:"fixed",left:0,top:0,bottom:0,right:0});$videoControls.css({display:"block",position:"absolute",width:"100%",height:BAR_HEIGHT,left:0,bottom:0,right:0,margin:"0 auto"});var userActivate=
function(){userActive=true};$videoObj.on("touch click mousemove mouseenter",function(){userActive=true});if(!hideControls)setInterval(function(){if(userActive){$videoControls.show();userActive=false;clearTimeout(hideControlsTimerId);hideControlsTimerId=setTimeout(function(){if(!$videoObj.get(0).paused)$videoControls.fadeOut()},5E3)}},250);$(".html5boxVideoControlsBg",$videoControls).css({display:"block",position:"absolute",width:"100%",height:"100%",left:0,top:0,"background-color":"#000000",opacity:0.7,
filter:"alpha(opacity=70)"});$(".html5boxPlayPause",$videoControls).css({display:"block",position:"relative",width:BUTTON_SIZE+"px",height:BUTTON_SIZE+"px",margin:Math.floor((BAR_HEIGHT-BUTTON_SIZE)/2),"float":"left"});var $videoBtnPlay=$(".html5boxPlay",$videoControls);var $videoBtnPause=$(".html5boxPause",$videoControls);$videoBtnPlay.css({display:"block",position:"absolute",top:0,left:0,width:BUTTON_SIZE+"px",height:BUTTON_SIZE+"px",cursor:"pointer","background-image":"url('"+skinFolder+"html5boxplayer_playpause.png"+
"')","background-position":"top left"}).hover(function(){$(this).css({"background-position":"bottom left"})},function(){$(this).css({"background-position":"top left"})}).on(eClick,function(){$videoObj.get(0).play()});$videoBtnPause.css({display:"none",position:"absolute",top:0,left:0,width:BUTTON_SIZE+"px",height:BUTTON_SIZE+"px",cursor:"pointer","background-image":"url('"+skinFolder+"html5boxplayer_playpause.png"+"')","background-position":"top right"}).hover(function(){$(this).css({"background-position":"bottom right"})},
function(){$(this).css({"background-position":"top right"})}).on(eClick,function(){$videoObj.get(0).pause()});var $videoTimeCurrent=$(".html5boxTimeCurrent",$videoControls);var $videoTimeTotal=$(".html5boxTimeTotal",$videoControls);var $videoSeeker=$(".html5boxSeeker",$videoControls);var $videoSeekerPlay=$(".html5boxSeekerPlay",$videoControls);var $videoSeekerBuffer=$(".html5boxSeekerBuffer",$videoControls);var $videoSeekerHandler=$(".html5boxSeekerHandler",$videoControls);$videoTimeCurrent.css({display:"block",
position:"relative","float":"left","line-height":BAR_HEIGHT+"px","font-weight":"normal","font-size":"12px",margin:"0 8px","font-family":"Arial, Helvetica, sans-serif",color:"#fff"});$videoTimeTotal.css({display:"block",position:"relative","float":"right","line-height":BAR_HEIGHT+"px","font-weight":"normal","font-size":"12px",margin:"0 8px","font-family":"Arial, Helvetica, sans-serif",color:"#fff"});$videoSeeker.css({display:"block",cursor:"pointer",overflow:"hidden",position:"relative",height:"10px",
"background-color":"#222",margin:Math.floor((BAR_HEIGHT-10)/2)+"px 4px"}).on(eStart,function(e){var e0=isTouch?e.originalEvent.touches[0]:e;var pos=e0.pageX-$videoSeeker.offset().left;$videoSeekerPlay.css({width:pos});$videoObj.get(0).currentTime=pos*$videoObj.get(0).duration/$videoSeeker.width();$videoSeeker.on(eMove,function(e){var e0=isTouch?e.originalEvent.touches[0]:e;var pos=e0.pageX-$videoSeeker.offset().left;$videoSeekerPlay.css({width:pos});$videoObj.get(0).currentTime=pos*$videoObj.get(0).duration/
$videoSeeker.width()})}).on(eCancel,function(){$videoSeeker.off(eMove)});$videoSeekerBuffer.css({display:"block",position:"absolute",left:0,top:0,height:"100%","background-color":"#444"});$videoSeekerPlay.css({display:"block",position:"absolute",left:0,top:0,height:"100%","background-color":"#fcc500"});var $videoFSObj=fullscreenNativeControls?$videoObj:$videoObj.parent();if($videoFSObj.get(0).requestFullscreen||$videoFSObj.get(0).webkitRequestFullScreen||$videoFSObj.get(0).mozRequestFullScreen||$videoFSObj.get(0).webkitEnterFullScreen||
$videoFSObj.get(0).msRequestFullscreen){var switchScreen=function(fullscreen){if(fullscreen){if(fullscreenNativeControls){$videoObj.get(0).setAttribute("controls","controls");if(html5VideoNoDownload)$videoObj.get(0).setAttribute("controlsList","nodownload")}if($videoFSObj.get(0).requestFullscreen)$videoFSObj.get(0).requestFullscreen();else if($videoFSObj.get(0).webkitRequestFullScreen)$videoFSObj.get(0).webkitRequestFullScreen();else if($videoFSObj.get(0).mozRequestFullScreen)$videoFSObj.get(0).mozRequestFullScreen();
else if($videoFSObj.get(0).webkitEnterFullScreen)$videoFSObj.get(0).webkitEnterFullScreen();if($videoFSObj.get(0).msRequestFullscreen)$videoFSObj.get(0).msRequestFullscreen()}else if(document.cancelFullScreen)document.cancelFullScreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.webkitCancelFullScreen)document.webkitCancelFullScreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.msExitFullscreen)document.msExitFullscreen()};
var switchScreenCSS=function(fullscreen){if(fullscreenNativeControls)if(fullscreen){$videoObj.get(0).setAttribute("controls","controls");if(html5VideoNoDownload)$videoObj.get(0).setAttribute("controlsList","nodownload")}else $videoObj.get(0).removeAttribute("controls");else if(fullscreen){$(document).on("mousemove",userActivate);$videoControls.css({"z-index":2147483647,position:"fixed"});$videoFullscreenBg.css({"z-index":2147483647,display:"block"});$videoPlay.css({"z-index":2147483647})}else{$(document).off("mousemove",
userActivate);$videoControls.css({"z-index":"",position:"absolute"});$videoFullscreenBg.css({"z-index":"",display:"none"});$videoPlay.css({"z-index":""})}};if(document.addEventListener){document.addEventListener("MSFullscreenChange",function(){isFullscreen=document.msFullscreenElement!=null;switchScreenCSS(isFullscreen)},false);document.addEventListener("fullscreenchange",function(){isFullscreen=document.fullscreen;switchScreenCSS(isFullscreen)},false);document.addEventListener("mozfullscreenchange",
function(){isFullscreen=document.mozFullScreen;switchScreenCSS(isFullscreen)},false);document.addEventListener("webkitfullscreenchange",function(){isFullscreen=document.webkitIsFullScreen;switchScreenCSS(isFullscreen)},false)}if($videoFSObj&&$videoFSObj.get(0)&&$videoFSObj.get(0).addEventListener){$videoFSObj.get(0).addEventListener("webkitbeginfullscreen",function(){isFullscreen=true;switchScreenCSS(isFullscreen)},false);$videoFSObj.get(0).addEventListener("webkitendfullscreen",function(){isFullscreen=
false;switchScreenCSS(isFullscreen)},false)}if(!fullscreenNativeControls)$("head").append("<style type='text/css'>video"+videoElem+"::-webkit-media-controls { display:none !important; }</style>");var $videoFullscreen=$(".html5boxFullscreen",$videoControls);$videoFullscreen.css({display:"block",position:"relative","float":"right",width:BUTTON_SIZE+"px",height:BUTTON_SIZE+"px",margin:Math.floor((BAR_HEIGHT-BUTTON_SIZE)/2),cursor:"pointer","background-image":"url('"+skinFolder+"html5boxplayer_fullscreen.png"+
"')","background-position":"left top"}).hover(function(){var backgroundPosX=$(this).css("background-position")?$(this).css("background-position").split(" ")[0]:$(this).css("background-position-x");$(this).css({"background-position":backgroundPosX+" bottom"})},function(){var backgroundPosX=$(this).css("background-position")?$(this).css("background-position").split(" ")[0]:$(this).css("background-position-x");$(this).css({"background-position":backgroundPosX+" top"})}).on(eClick,function(){isFullscreen=
!isFullscreen;switchScreen(isFullscreen)})}if(hd){var $videoHD=$(".html5boxHD",$videoControls);$videoHD.css({display:"block",position:"relative","float":"right",width:BUTTON_SIZE+"px",height:BUTTON_SIZE+"px",margin:Math.floor((BAR_HEIGHT-BUTTON_SIZE)/2),cursor:"pointer","background-image":"url('"+skinFolder+"html5boxplayer_hd.png"+"')","background-position":(isHd?"right":"left")+" center"}).on(eClick,function(){isHd=!isHd;$(this).css({"background-position":(isHd?"right":"left")+" center"});parentInst.isHd=
isHd;var isPaused=$videoObj.get(0).isPaused;$videoObj.get(0).setAttribute("src",(isHd?hd:src)+"#t="+$videoObj.get(0).currentTime);if(!isPaused)$videoObj.get(0).play();else $videoObj.get(0).pause()})}$videoObj.get(0).volume=defaultVolume;var volumeSaved=defaultVolume==0?1:defaultVolume;var volume=$videoObj.get(0).volume;$videoObj.get(0).volume=volume/2+0.1;if($videoObj.get(0).volume===volume/2+0.1){$videoObj.get(0).volume=volume;var $videoVolume=$(".html5boxVolume",$videoControls);var $videoVolumeButton=
$(".html5boxVolumeButton",$videoControls);var $videoVolumeBar=$(".html5boxVolumeBar",$videoControls);var $videoVolumeBarBg=$(".html5boxVolumeBarBg",$videoControls);var $videoVolumeBarActive=$(".html5boxVolumeBarActive",$videoControls);$videoVolume.css({display:"block",position:"relative","float":"right",width:BUTTON_SIZE+"px",height:BUTTON_SIZE+"px",margin:Math.floor((BAR_HEIGHT-BUTTON_SIZE)/2)}).hover(function(){clearTimeout(hideVolumeBarTimeoutId);var volume=$videoObj.get(0).volume;$videoVolumeBarActive.css({height:Math.round(volume*
100)+"%"});$videoVolumeBar.show()},function(){clearTimeout(hideVolumeBarTimeoutId);hideVolumeBarTimeoutId=setTimeout(function(){$videoVolumeBar.hide()},1E3)});$videoVolumeButton.css({display:"block",position:"absolute",top:0,left:0,width:BUTTON_SIZE+"px",height:BUTTON_SIZE+"px",cursor:"pointer","background-image":"url('"+skinFolder+"html5boxplayer_volume.png"+"')","background-position":"top "+(volume>0?"left":"right")}).hover(function(){var backgroundPosX=$(this).css("background-position")?$(this).css("background-position").split(" ")[0]:
$(this).css("background-position-x");$(this).css({"background-position":backgroundPosX+" bottom"})},function(){var backgroundPosX=$(this).css("background-position")?$(this).css("background-position").split(" ")[0]:$(this).css("background-position-x");$(this).css({"background-position":backgroundPosX+" top"})}).on(eClick,function(){var volume=$videoObj.get(0).volume;if(volume>0){volumeSaved=volume;volume=0}else volume=volumeSaved;var backgroundPosY=$(this).css("background-position")?$(this).css("background-position").split(" ")[1]:
$(this).css("background-position-y");$videoVolumeButton.css({"background-position":(volume>0?"left":"right")+" "+backgroundPosY});$videoObj.get(0).volume=volume;$videoVolumeBarActive.css({height:Math.round(volume*100)+"%"})});$videoVolumeBar.css({display:"none",position:"absolute",left:4,bottom:"100%",width:24,height:80,"margin-bottom":Math.floor((BAR_HEIGHT-BUTTON_SIZE)/2),"background-color":"#000000",opacity:0.7,filter:"alpha(opacity=70)"});$videoVolumeBarBg.css({display:"block",position:"relative",
width:10,height:68,margin:7,cursor:"pointer","background-color":"#222"});$videoVolumeBarActive.css({display:"block",position:"absolute",bottom:0,left:0,width:"100%",height:"100%","background-color":"#fcc500"});$videoVolumeBarBg.on(eStart,function(e){var e0=isTouch?e.originalEvent.touches[0]:e;var vol=1-(e0.pageY-$videoVolumeBarBg.offset().top)/$videoVolumeBarBg.height();vol=vol>1?1:vol<0?0:vol;$videoVolumeBarActive.css({height:Math.round(vol*100)+"%"});$videoVolumeButton.css({"background-position":"left "+
(vol>0?"top":"bottom")});$videoObj.get(0).volume=vol;$videoVolumeBarBg.on(eMove,function(e){var e0=isTouch?e.originalEvent.touches[0]:e;var vol=1-(e0.pageY-$videoVolumeBarBg.offset().top)/$videoVolumeBarBg.height();vol=vol>1?1:vol<0?0:vol;$videoVolumeBarActive.css({height:Math.round(vol*100)+"%"});$videoVolumeButton.css({"background-position":"left "+(vol>0?"top":"bottom")});$videoObj.get(0).volume=vol})}).on(eCancel,function(){$videoVolumeBarBg.off(eMove)})}var calcTimeFormat=function(seconds){var h0=
Math.floor(seconds/3600);var h=h0<10?"0"+h0:h0;var m0=Math.floor((seconds-h0*3600)/60);var m=m0<10?"0"+m0:m0;var s0=Math.floor(seconds-(h0*3600+m0*60));var s=s0<10?"0"+s0:s0;var r=m+":"+s;if(h0>0)r=h+":"+r;return r};if(hidePlayButton)$videoPlay.hide();if(hideControls)$videoControls.hide();var onVideoPlay=function(){if(!hidePlayButton)$videoPlay.hide();if(!hideControls){$videoBtnPlay.hide();$videoBtnPause.show()}};var onVideoPause=function(){if(!hidePlayButton)$videoPlay.show();if(!hideControls){$videoControls.show();
clearTimeout(hideControlsTimerId);$videoBtnPlay.show();$videoBtnPause.hide()}};var onVideoEnded=function(){$(window).trigger("html5lightbox.videoended");if(!hidePlayButton)$videoPlay.show();if(!hideControls){$videoControls.show();clearTimeout(hideControlsTimerId);$videoBtnPlay.show();$videoBtnPause.hide()}};var onVideoUpdate=function(){var curTime=$videoObj.get(0).currentTime;if(curTime){$videoTimeCurrent.text(calcTimeFormat(curTime));var duration=$videoObj.get(0).duration;if(duration){$videoTimeTotal.text(calcTimeFormat(duration));
if(!sliderDragging){var sliderW=$videoSeeker.width();var pos=Math.round(sliderW*curTime/duration);$videoSeekerPlay.css({width:pos});$videoSeekerHandler.css({left:pos})}}}};var onVideoProgress=function(){if($videoObj.get(0).buffered&&$videoObj.get(0).buffered.length>0&&!isNaN($videoObj.get(0).buffered.end(0))&&!isNaN($videoObj.get(0).duration)){var sliderW=$videoSeeker.width();$videoSeekerBuffer.css({width:Math.round(sliderW*$videoObj.get(0).buffered.end(0)/$videoObj.get(0).duration)})}};try{$videoObj.on("play",
onVideoPlay);$videoObj.on("pause",onVideoPause);$videoObj.on("ended",onVideoEnded);$videoObj.on("timeupdate",onVideoUpdate);$videoObj.on("progress",onVideoProgress)}catch(e){}}})(jQuery);jQuery(document).ready(function(){if(typeof html5Lightbox==="undefined")if(jQuery.fn.html5lightbox)html5Lightbox=jQuery(".html5lightbox").html5lightbox()})};

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJodG1sNWxpZ2h0Ym94LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBIVE1MNSBMaWdodEJveCAtIGpRdWVyeSBJbWFnZSBhbmQgVmlkZW8gTGlnaHRCb3ggUGx1Z2luXHJcbiAqIENvcHlyaWdodCAyMDE0IE1hZ2ljIEhpbGxzIFB0eSBMdGQgQWxsIFJpZ2h0cyBSZXNlcnZlZFxyXG4gKiBXZWJzaXRlOiBodHRwOi8vaHRtbDVib3guY29tXHJcbiAqIFZlcnNpb24gOC4wIFxyXG4gKi9cclxuKGZ1bmN0aW9uKCl7dmFyIHNjcmlwdHM9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7dmFyIGpzRm9sZGVyPVwiXCI7Zm9yKHZhciBpPTA7aTxzY3JpcHRzLmxlbmd0aDtpKyspaWYoc2NyaXB0c1tpXS5zcmMmJnNjcmlwdHNbaV0uc3JjLm1hdGNoKC9odG1sNWxpZ2h0Ym94XFwuanMvaSkpanNGb2xkZXI9c2NyaXB0c1tpXS5zcmMuc3Vic3RyKDAsc2NyaXB0c1tpXS5zcmMubGFzdEluZGV4T2YoXCIvXCIpKzEpO3ZhciBsb2FkalF1ZXJ5PWZhbHNlO2lmKHR5cGVvZiBqUXVlcnk9PVwidW5kZWZpbmVkXCIpbG9hZGpRdWVyeT10cnVlO2Vsc2V7dmFyIGpWZXJzaW9uPWpRdWVyeS5mbi5qcXVlcnkuc3BsaXQoXCIuXCIpO2lmKGpWZXJzaW9uWzBdPDF8fGpWZXJzaW9uWzBdPT0xJiZqVmVyc2lvblsxXTw2KWxvYWRqUXVlcnk9dHJ1ZX1pZihsb2FkalF1ZXJ5KXt2YXIgaGVhZD1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07dmFyIHNjcmlwdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xyXG5zY3JpcHQuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwidGV4dC9qYXZhc2NyaXB0XCIpO2lmKHNjcmlwdC5yZWFkeVN0YXRlKXNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZihzY3JpcHQucmVhZHlTdGF0ZT09XCJsb2FkZWRcInx8c2NyaXB0LnJlYWR5U3RhdGU9PVwiY29tcGxldGVcIil7c2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsO2xvYWRIdG1sNUxpZ2h0Qm94KGpzRm9sZGVyKX19O2Vsc2Ugc2NyaXB0Lm9ubG9hZD1mdW5jdGlvbigpe2xvYWRIdG1sNUxpZ2h0Qm94KGpzRm9sZGVyKX07c2NyaXB0LnNldEF0dHJpYnV0ZShcInNyY1wiLGpzRm9sZGVyK1wianF1ZXJ5LmpzXCIpO2hlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KX1lbHNlIGxvYWRIdG1sNUxpZ2h0Qm94KGpzRm9sZGVyKX0pKCk7XHJcbmZ1bmN0aW9uIGxvYWRIdG1sNUxpZ2h0Qm94KGpzRm9sZGVyKXsoZnVuY3Rpb24oJCl7JC5mbi5odG1sNWxpZ2h0Ym94PWZ1bmN0aW9uKG9wdGlvbnMpe3ZhciBpbnN0PXRoaXM7aW5zdC5vcHRpb25zPSQuZXh0ZW5kKHtmcmVlbGluazpcImh0dHA6Ly9odG1sNWJveC5jb20vXCIsZGVmYXVsdHZpZGVvdm9sdW1lOjEsbXV0ZXZpZGVvOmZhbHNlLGF1dG9jbG9zZTpmYWxzZSxhdXRvY2xvc2VkZWxheTowLHJlc2l6ZWRlbGF5OjEwMCxpbnNpZGVpZnJhbWU6ZmFsc2UsYXV0b3Jlc2l6ZWNvbnRlbnQ6dHJ1ZSxkZWZhdWx0d2lkdGg6OTYwLGRlZmF1bHRoZWlnaHQ6NTQwLHVzZWRlZmF1bHRzaXplZm9yY29udGVudDpmYWxzZSxwcmVsb2FkOnRydWUscHJlbG9hZGFsbG9ucGFnZWxvYWQ6ZmFsc2UscHJlbG9hZGFsbGRlbGF5OjVFMyxhdXRvcGxheTp0cnVlLGxvb3B2aWRlbzpmYWxzZSxodG1sNXBsYXllcjp0cnVlLHJlc3BvbnNpdmU6dHJ1ZSxuYXRpdmVodG1sNWNvbnRyb2xzOmZhbHNlLHZpZGVvaGlkZWNvbnRyb2xzOmZhbHNlLFxyXG5uYXRpdmVjb250cm9sc29uZmlyZWZveDpmYWxzZSxuYXRpdmVjb250cm9sc29uaWU6ZmFsc2UsbmF0aXZlY29udHJvbHNvbmlwaG9uZTp0cnVlLG5hdGl2ZWNvbnRyb2xzb25pcGFkOnRydWUsbmF0aXZlY29udHJvbHNvbmFuZHJvaWQ6dHJ1ZSxuYXRpdmVjb250cm9sc29uZnVsbHNjcmVlbjp0cnVlLG5hdGl2ZWNvbnRyb2xzbm9kb3dubG9hZDp0cnVlLG5vcmVzaXplY2FsbGJhY2s6dHJ1ZSxpbWFnZWtlZXByYXRpbzp0cnVlLG1heGhlaWdodDpmYWxzZSxlbGVtYXV0b2hlaWdodDpmYWxzZSx1c2VmbGFzaG9uaWU5OnRydWUsdXNlZmxhc2hvbmllMTA6dHJ1ZSx1c2VmbGFzaG9uaWUxMTpmYWxzZSx1c2VmbGFzaGZvcm1wNG9uZmlyZWZveDpmYWxzZSx0cmFuc2l0aW9uOlwibm9uZVwiLHRyYW5zaXRpb25kdXJhdGlvbjo0MDAsZXhpdGFuaW1hdGlvbjpcIlwiLGFuaW1hdGlvbmR1cmF0aW9uOlwiMXNcIixlbmFibGVwZGZqczp0cnVlLHBkZmpzZW5naW5lOlwiXCIsb3BlbnBkZmlubmV3dGFib25pcGhvbmU6ZmFsc2UsXHJcbm9wZW5wZGZpbm5ld3RhYm9uaXBhZDpmYWxzZSxnb29nbGVhbmFseXRpY3NhY2NvdW50OlwiXCIsYXJyb3dsb29wOnRydWUsc2hvd2FsbDpmYWxzZSx1c2VyZWxmb3Jncm91cDp0cnVlLHNob3duYXZpZ2F0aW9uOnRydWUsdGh1bWJ3aWR0aDo5Nix0aHVtYmhlaWdodDo3Mix0aHVtYmdhcDo0LHRodW1idG9wbWFyZ2luOjEyLHRodW1iYm90dG9tbWFyZ2luOjEyLHRodW1iYm9yZGVyOjEsdGh1bWJib3JkZXJjb2xvcjpcInRyYW5zcGFyZW50XCIsdGh1bWJoaWdobGlnaHRib3JkZXJjb2xvcjpcIiNmZmZcIix0aHVtYm9wYWNpdHk6MSxuYXZidXR0b253aWR0aDozMixuYXZiZ2NvbG9yOlwicmdiYSgwLDAsMCwwLjIpXCIsc2hvd25hdmNvbnRyb2w6dHJ1ZSxuYXZjb250cm9saW1hZ2U6XCJsaWdodGJveC1uYXZjb250cm9sLnBuZ1wiLGhpZGVuYXZkZWZhdWx0OmZhbHNlLG92ZXJsYXliZ2NvbG9yOlwiIzAwMFwiLG92ZXJsYXlvcGFjaXR5OjAuOSxiZ2NvbG9yOlwiI2ZmZlwiLGJvcmRlcnNpemU6OCxib3JkZXJyYWRpdXM6MCxcclxuYm9yZGVybWFyZ2luOjE2LGJvcmRlcnRvcG1hcmdpbjo0OCxiYXJhdXRvaGVpZ2h0OnRydWUsYmFyaGVpZ2h0OjY0LHNtYWxsc2NyZWVuaGVpZ2h0OjQxNSxyZXNwb25zaXZlYmFyaGVpZ2h0OmZhbHNlLGJhcmhlaWdodG9uc21hbGxoZWlnaHQ6NjQsbm90a2VlcHJhdGlvb25zbWFsbGhlaWdodDpmYWxzZSxib3JkZXJ0b3BtYXJnaW5zbWFsbDozNixsb2FkaW5nd2lkdGg6NjQsbG9hZGluZ2hlaWdodDo2NCxyZXNpemVzcGVlZDo0MDAsZmFkZXNwZWVkOjAsanNmb2xkZXI6anNGb2xkZXIsc2tpbnNmb2xkZXJuYW1lOlwic2tpbnMvZGVmYXVsdC9cIixsb2FkaW5naW1hZ2U6XCJsaWdodGJveC1sb2FkaW5nLmdpZlwiLG5leHRpbWFnZTpcImxpZ2h0Ym94LW5leHQucG5nXCIscHJldmltYWdlOlwibGlnaHRib3gtcHJldi5wbmdcIixjbG9zZWltYWdlOlwibGlnaHRib3gtY2xvc2UucG5nXCIscGxheXZpZGVvaW1hZ2U6XCJsaWdodGJveC1wbGF5dmlkZW8ucG5nXCIsdGl0bGViZ2ltYWdlOlwibGlnaHRib3gtdGl0bGViZy5wbmdcIixcclxubmF2YXJyb3dzcHJldmltYWdlOlwibGlnaHRib3gtbmF2cHJldi5wbmdcIixuYXZhcnJvd3NuZXh0aW1hZ2U6XCJsaWdodGJveC1uYXZuZXh0LnBuZ1wiLG5hdmFycm93c2Fsd2F5c3Nob3dvbnRvdWNoOnRydWUsc2hvd2Fycm93c2JvdHRvbW9uc21hbGxzY3JlZW46dHJ1ZSxuYXZhcnJvd3Nib3R0b21zY3JlZW53aWR0aDo0NzksY2xvc2Vvbm92ZXJsYXk6dHJ1ZSxhbHdheXNzaG93bmF2YXJyb3dzOmZhbHNlLHNob3dwbGF5YnV0dG9uOnRydWUscGxheWltYWdlOlwibGlnaHRib3gtcGxheS5wbmdcIixwYXVzZWltYWdlOlwibGlnaHRib3gtcGF1c2UucG5nXCIscGxheWltYWdlc2l6ZTozMixmdWxsc2NyZWVubW9kZTpmYWxzZSxmdWxsc2NyZWVuY2xvc2VpbWFnZTpcImxpZ2h0Ym94LWNsb3NlLWZ1bGxzY3JlZW4ucG5nXCIsZnVsbHNjcmVlbm5leHRpbWFnZTpcImxpZ2h0Ym94LW5leHQtZnVsbHNjcmVlbi5wbmdcIixmdWxsc2NyZWVucHJldmltYWdlOlwibGlnaHRib3gtcHJldi1mdWxsc2NyZWVuLnBuZ1wiLFxyXG5mdWxsc2NyZWVubm9tYXJnaW46ZmFsc2UsZnVsbHNjcmVlbm1vZGVvbnNtYWxsc2NyZWVuOmZhbHNlLGZ1bGxzY3JlZW5ub21hcmdpbm9uc21hbGxzY3JlZW46ZmFsc2UsZnVsbHNjcmVlbnNtYWxsc2NyZWVud2lkdGg6ODAwLGZ1bGxzY3JlZW5iZ2NvbG9yOlwidHJhbnNwYXJlbnRcIixmdWxsc2NyZWVuYm9yZGVyc2l6ZTowLGZ1bGxzY3JlZW50ZXh0aW5zaWRlOmZhbHNlLGZ1bGxzY3JlZW50ZXh0b3V0c2lkZTp0cnVlLGZ1bGxzY3JlZW5ub3RyYW5zaXRpb246dHJ1ZSx2aWRlb2JnY29sb3I6XCIjMDAwXCIsaHRtbDV2aWRlb3Bvc3RlcjpcIlwiLHNob3d0aXRsZTp0cnVlLHRpdGxlc3R5bGU6XCJib3R0b21cIix0aXRsZWluc2lkZWNzczpcImNvbG9yOiNmZmY7IGZvbnQtc2l6ZToxNnB4OyBmb250LWZhbWlseTpBcmlhbCxIZWx2ZXRpY2Esc2Fucy1zZXJpZjsgb3ZlcmZsb3c6aGlkZGVuOyB0ZXh0LWFsaWduOmxlZnQ7IG1hcmdpbjo0cHggOHB4O1wiLHRpdGxlYm90dG9tY3NzOlwiY29sb3I6IzMzMzsgZm9udC1zaXplOjE2cHg7IGZvbnQtZmFtaWx5OkFyaWFsLEhlbHZldGljYSxzYW5zLXNlcmlmOyBvdmVyZmxvdzpoaWRkZW47IHRleHQtYWxpZ246bGVmdDtcIixcclxudGl0bGVvdXRzaWRlY3NzOlwiY29sb3I6I2ZmZjsgZm9udC1zaXplOjE4cHg7IGZvbnQtZmFtaWx5OkFyaWFsLEhlbHZldGljYSxzYW5zLXNlcmlmOyBvdmVyZmxvdzpoaWRkZW47IHRleHQtYWxpZ246Y2VudGVyOyBtYXJnaW46IDhweDtcIixyZXNpemVsZWZ0cmlnaHQ6dHJ1ZSxzaG93b25tb3VzZW92ZXJpbnNpZGU6ZmFsc2Usc2hvd2luc2lkZXRpdGxlZm9yaW1hZ2Vvbmx5OnRydWUsc2hvd2Rlc2NyaXB0aW9uOnRydWUsZGVzY3JpcHRpb25pbnNpZGVjc3M6XCJjb2xvcjojZmZmOyBmb250LXNpemU6MTJweDsgZm9udC1mYW1pbHk6QXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWY7IG92ZXJmbG93OmhpZGRlbjsgdGV4dC1hbGlnbjpsZWZ0OyBtYXJnaW46NHB4IDBweCAwcHg7IHBhZGRpbmc6IDBweDtcIixkZXNjcmlwdGlvbmJvdHRvbWNzczpcImNvbG9yOiMzMzM7IGZvbnQtc2l6ZToxMnB4OyBmb250LWZhbWlseTpBcmlhbCxIZWx2ZXRpY2Esc2Fucy1zZXJpZjsgb3ZlcmZsb3c6aGlkZGVuOyB0ZXh0LWFsaWduOmxlZnQ7IG1hcmdpbjo0cHggMHB4IDBweDsgcGFkZGluZzogMHB4O1wiLFxyXG5kZXNjcmlwdGlvbm91dHNpZGVjc3M6XCJjb2xvcjojZmZmOyBmb250LXNpemU6MTRweDsgZm9udC1mYW1pbHk6QXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWY7IG92ZXJmbG93OmhpZGRlbjsgdGV4dC1hbGlnbjpjZW50ZXI7IG1hcmdpbjo4cHg7IHBhZGRpbmc6IDBweDtcIixmdWxsc2NyZWVudGl0bGVib3R0b21jc3M6XCJjb2xvcjojZmZmOyBmb250LXNpemU6MTZweDsgZm9udC1mYW1pbHk6QXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWY7IG92ZXJmbG93OmhpZGRlbjsgdGV4dC1hbGlnbjpsZWZ0OyBtYXJnaW46NHB4IDhweCA4cHg7XCIsZnVsbHNjcmVlbmRlc2NyaXB0aW9uYm90dG9tY3NzOlwiY29sb3I6I2ZmZjsgZm9udC1zaXplOjEycHg7IGZvbnQtZmFtaWx5OkFyaWFsLEhlbHZldGljYSxzYW5zLXNlcmlmOyBvdmVyZmxvdzpoaWRkZW47IHRleHQtYWxpZ246bGVmdDsgbWFyZ2luOjRweCAwcHggMHB4OyBwYWRkaW5nOiAwcHg7XCIsc2hvd3NvY2lhbG1lZGlhOnRydWUsc29jaWFsbWVkaWFwb3NpdGlvbjpcInBvc2l0aW9uOmFic29sdXRlO3RvcDo4cHg7cmlnaHQ6OHB4O1wiLFxyXG5zaG93dGl0bGVwcmVmaXg6dHJ1ZSx0aXRsZXByZWZpeDpcIiVOVU0gLyAlVE9UQUxcIixhdXRvc2xpZGU6ZmFsc2Usc2xpZGVpbnRlcnZhbDo1RTMsc2hvd3RpbWVyOnRydWUsdGltZXJwb3NpdGlvbjpcImJvdHRvbVwiLHRpbWVyaGVpZ2h0OjIsdGltZXJjb2xvcjpcIiNkYzU3MmVcIix0aW1lcm9wYWNpdHk6MSxpbml0dmltZW86dHJ1ZSxpbml0eW91dHViZTp0cnVlLHN3aXBlcHJldmVudGRlZmF1bHRvbmFuZHJvaWQ6ZmFsc2UsaW5pdHNvY2lhbDp0cnVlLHNob3dzb2NpYWw6ZmFsc2Usc29jaWFscG9zaXRpb246XCJwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MTAwJTtyaWdodDowO1wiLHNvY2lhbHBvc2l0aW9uc21hbGxzY3JlZW46XCJwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MTAwJTtyaWdodDowO2xlZnQ6MDtcIixzb2NpYWxkaXJlY3Rpb246XCJob3Jpem9udGFsXCIsc29jaWFsYnV0dG9uc2l6ZTozMixzb2NpYWxidXR0b25mb250c2l6ZToxOCxzb2NpYWxyb3RhdGVlZmZlY3Q6dHJ1ZSxzaG93ZmFjZWJvb2s6dHJ1ZSxcclxuc2hvd3R3aXR0ZXI6dHJ1ZSxzaG93cGludGVyZXN0OnRydWUsc2hvd2VtYWlsOnRydWUsaW1hZ2VwZXJjZW50YWdlOjc1LHNpZGV0b2JvdHRvbXNjcmVlbndpZHRoOjQ3OSxlcnJvcndpZHRoOjI4MCxlcnJvcmhlaWdodDo0OCxlcnJvcmNzczpcInRleHQtYWxpZ246Y2VudGVyOyBjb2xvcjojZmYwMDAwOyBmb250LXNpemU6MTRweDsgZm9udC1mYW1pbHk6QXJpYWwsIHNhbnMtc2VyaWY7XCIsZW5hYmxldG91Y2hzd2lwZTp0cnVlLG1vYmlsZXJlc2l6ZWV2ZW50OmZhbHNlLHN3aXBlZGlzdGFuY2U6MCxib2R5bm9zY3JvbGw6ZmFsc2UsdXNlYWJzb2x1dGVwb3M6ZmFsc2UsdXNlYWJzb2x1dGVwb3Nvbm1vYmlsZTpmYWxzZSxzdXBwb3J0ZXNja2V5OnRydWUsc3VwcG9ydGFycm93a2V5czp0cnVlLHZlcnNpb246XCIzLjNcIixzdGFtcDp0cnVlLGZyZWVtYXJrOlwiNzIsODQsNzcsNzYsNTMsMzIsNzYsMTA1LDEwMywxMDQsMTE2LDk4LDExMSwxMjAsMzIsNzAsMTE0LDEwMSwxMDEsMzIsODYsMTAxLDExNCwxMTUsMTA1LDExMSwxMTBcIixcclxud2F0ZXJtYXJrOlwiXCIsd2F0ZXJtYXJrbGluazpcIlwifSxvcHRpb25zKTtpZih0eXBlb2YgaHRtbDVsaWdodGJveF9vcHRpb25zIT1cInVuZGVmaW5lZFwiJiZodG1sNWxpZ2h0Ym94X29wdGlvbnMpJC5leHRlbmQoaW5zdC5vcHRpb25zLGh0bWw1bGlnaHRib3hfb3B0aW9ucyk7aWYoJChcImRpdi5odG1sNWxpZ2h0Ym94X29wdGlvbnNcIikubGVuZ3RoKSQuZWFjaCgkKFwiZGl2Lmh0bWw1bGlnaHRib3hfb3B0aW9uc1wiKS5kYXRhKCksZnVuY3Rpb24oa2V5LHZhbHVlKXtpbnN0Lm9wdGlvbnNba2V5LnRvTG93ZXJDYXNlKCldPXZhbHVlfSk7aWYoJChcImRpdiNodG1sNWxpZ2h0Ym94X29wdGlvbnNcIikubGVuZ3RoKSQuZWFjaCgkKFwiZGl2I2h0bWw1bGlnaHRib3hfb3B0aW9uc1wiKS5kYXRhKCksZnVuY3Rpb24oa2V5LHZhbHVlKXtpbnN0Lm9wdGlvbnNba2V5LnRvTG93ZXJDYXNlKCldPXZhbHVlfSk7aWYoJChcImRpdiNodG1sNWxpZ2h0Ym94X2dlbmVyYWxfb3B0aW9uc1wiKS5sZW5ndGgpJC5lYWNoKCQoXCJkaXYjaHRtbDVsaWdodGJveF9nZW5lcmFsX29wdGlvbnNcIikuZGF0YSgpLFxyXG5mdW5jdGlvbihrZXksdmFsdWUpe2luc3Qub3B0aW9uc1trZXkudG9Mb3dlckNhc2UoKV09dmFsdWV9KTt2YXIgRUxFTV9UWVBFPTAsRUxFTV9IUkVGPTEsRUxFTV9USVRMRT0yLEVMRU1fR1JPVVA9MyxFTEVNX1dJRFRIPTQsRUxFTV9IRUlHSFQ9NSxFTEVNX0hSRUZfV0VCTT02LEVMRU1fSFJFRl9PR0c9NyxFTEVNX1RIVU1CTkFJTD04LEVMRU1fREVTQ1JJUFRJT049OSxFTEVNX0RJVj0xMCxFTEVNX09SSUdJTkFMV0lEVEg9MTEsRUxFTV9PUklHSU5BTEhFSUdIVD0xMixFTEVNX1NPQ0lBTE1FRElBPTEzLEVMRU1fV0VCTElOSz0xNCxFTEVNX1dFQkxJTktUQVJHRVQ9MTUsRUxFTV9XRUJMSU5LVEVYVD0xNjtpbnN0Lm9wdGlvbnMudHlwZXM9W1wiSU1BR0VcIixcIkZMQVNIXCIsXCJWSURFT1wiLFwiWU9VVFVCRVwiLFwiVklNRU9cIixcIlBERlwiLFwiTVAzXCIsXCJXRUJcIixcIkZMVlwiLFwiREFJTFlNT1RJT05cIixcIkRJVlwiLFwiV0lTVElBXCIsXCJJRlJBTUVWSURFT1wiXTtpbnN0Lm9wdGlvbnMuaHRtbGZvbGRlcj13aW5kb3cubG9jYXRpb24uaHJlZi5zdWJzdHIoMCxcclxud2luZG93LmxvY2F0aW9uLmhyZWYubGFzdEluZGV4T2YoXCIvXCIpKzEpO2luc3Qub3B0aW9ucy5za2luc2ZvbGRlcj1pbnN0Lm9wdGlvbnMuc2tpbnNmb2xkZXJuYW1lO2lmKGluc3Qub3B0aW9ucy5za2luc2ZvbGRlci5sZW5ndGg+MCYmaW5zdC5vcHRpb25zLnNraW5zZm9sZGVyW2luc3Qub3B0aW9ucy5za2luc2ZvbGRlci5sZW5ndGgtMV0hPVwiL1wiKWluc3Qub3B0aW9ucy5za2luc2ZvbGRlcis9XCIvXCI7aWYoaW5zdC5vcHRpb25zLnNraW5zZm9sZGVyLmNoYXJBdCgwKSE9XCIvXCImJmluc3Qub3B0aW9ucy5za2luc2ZvbGRlci5zdWJzdHJpbmcoMCw1KSE9XCJodHRwOlwiJiZpbnN0Lm9wdGlvbnMuc2tpbnNmb2xkZXIuc3Vic3RyaW5nKDAsNikhPVwiaHR0cHM6XCIpaW5zdC5vcHRpb25zLnNraW5zZm9sZGVyPWluc3Qub3B0aW9ucy5qc2ZvbGRlcitpbnN0Lm9wdGlvbnMuc2tpbnNmb2xkZXI7dmFyIGltYWdlX2xpc3Q9W1wibG9hZGluZ2ltYWdlXCIsXCJuZXh0aW1hZ2VcIixcInByZXZpbWFnZVwiLFwiY2xvc2VpbWFnZVwiLFxyXG5cInBsYXl2aWRlb2ltYWdlXCIsXCJ0aXRsZWJnaW1hZ2VcIixcIm5hdmFycm93c3ByZXZpbWFnZVwiLFwibmF2YXJyb3dzbmV4dGltYWdlXCIsXCJuYXZjb250cm9saW1hZ2VcIixcInBsYXlpbWFnZVwiLFwicGF1c2VpbWFnZVwiLFwiZnVsbHNjcmVlbmNsb3NlaW1hZ2VcIixcImZ1bGxzY3JlZW5uZXh0aW1hZ2VcIixcImZ1bGxzY3JlZW5wcmV2aW1hZ2VcIl07Zm9yKHZhciBpPTA7aTxpbWFnZV9saXN0Lmxlbmd0aDtpKyspaWYoaW5zdC5vcHRpb25zW2ltYWdlX2xpc3RbaV1dKWlmKGluc3Qub3B0aW9uc1tpbWFnZV9saXN0W2ldXS5zdWJzdHJpbmcoMCw3KS50b0xvd2VyQ2FzZSgpIT1cImh0dHA6Ly9cIiYmaW5zdC5vcHRpb25zW2ltYWdlX2xpc3RbaV1dLnN1YnN0cmluZygwLDgpLnRvTG93ZXJDYXNlKCkhPVwiaHR0cHM6Ly9cIilpbnN0Lm9wdGlvbnNbaW1hZ2VfbGlzdFtpXV09aW5zdC5vcHRpb25zLnNraW5zZm9sZGVyK2luc3Qub3B0aW9uc1tpbWFnZV9saXN0W2ldXTt2YXIgaTt2YXIgbDt2YXIgbWFyaz1cIlwiO3ZhciBieXRlcz1cclxuaW5zdC5vcHRpb25zLmZyZWVtYXJrLnNwbGl0KFwiLFwiKTtmb3IoaT0wO2k8Ynl0ZXMubGVuZ3RoO2krKyltYXJrKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldKTtpbnN0Lm9wdGlvbnMuZnJlZW1hcms9bWFyazt2YXIgZDA9XCJobXRhbWdsaTVjYm94aC5pY2xvbG1zXCI7Zm9yKGk9MTtpPD01O2krKylkMD1kMC5zbGljZSgwLGkpK2QwLnNsaWNlKGkrMSk7bD1kMC5sZW5ndGg7Zm9yKGk9MDtpPDU7aSsrKWQwPWQwLnNsaWNlKDAsbC05K2kpK2QwLnNsaWNlKGwtOCtpKTtpZihpbnN0Lm9wdGlvbnMuaHRtbGZvbGRlci5pbmRleE9mKGQwKSE9LTEpaW5zdC5vcHRpb25zLnN0YW1wPWZhbHNlO2luc3Qub3B0aW9ucy5mbGFzaEluc3RhbGxlZD1mYWxzZTt0cnl7aWYobmV3IEFjdGl2ZVhPYmplY3QoXCJTaG9ja3dhdmVGbGFzaC5TaG9ja3dhdmVGbGFzaFwiKSlpbnN0Lm9wdGlvbnMuZmxhc2hJbnN0YWxsZWQ9dHJ1ZX1jYXRjaChlKXtpZihuYXZpZ2F0b3IubWltZVR5cGVzW1wiYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2hcIl0paW5zdC5vcHRpb25zLmZsYXNoSW5zdGFsbGVkPVxyXG50cnVlfWluc3Qub3B0aW9ucy5odG1sNVZpZGVvU3VwcG9ydGVkPSEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpLmNhblBsYXlUeXBlO2luc3Qub3B0aW9ucy5pc0Nocm9tZT1uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9DaHJvbWUvaSkhPW51bGw7aW5zdC5vcHRpb25zLmlzRmlyZWZveD1uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9GaXJlZm94L2kpIT1udWxsO2luc3Qub3B0aW9ucy5pc09wZXJhPW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL09wZXJhL2kpIT1udWxsfHxuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9PUFJcXC8vaSkhPW51bGw7aW5zdC5vcHRpb25zLmlzU2FmYXJpPW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1NhZmFyaS9pKSE9bnVsbDtpbnN0Lm9wdGlvbnMuaXNJRTExPW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL1RyaWRlbnRcXC83LykhPW51bGwmJm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL3J2OjExLykhPW51bGw7aW5zdC5vcHRpb25zLmlzSUU9XHJcbm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL01TSUUvaSkhPW51bGwmJiFpbnN0Lm9wdGlvbnMuaXNPcGVyYTtpbnN0Lm9wdGlvbnMuaXNJRTEwPW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL01TSUUgMTAvaSkhPW51bGwmJiF0aGlzLm9wdGlvbnMuaXNPcGVyYTtpbnN0Lm9wdGlvbnMuaXNJRTk9bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvTVNJRSA5L2kpIT1udWxsJiYhaW5zdC5vcHRpb25zLmlzT3BlcmE7aW5zdC5vcHRpb25zLmlzSUU4PW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL01TSUUgOC9pKSE9bnVsbCYmIWluc3Qub3B0aW9ucy5pc09wZXJhO2luc3Qub3B0aW9ucy5pc0lFNz1uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9NU0lFIDcvaSkhPW51bGwmJiFpbnN0Lm9wdGlvbnMuaXNPcGVyYTtpbnN0Lm9wdGlvbnMuaXNJRTY9bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvTVNJRSA2L2kpIT1udWxsJiYhaW5zdC5vcHRpb25zLmlzT3BlcmE7aW5zdC5vcHRpb25zLmlzSUU2Nzg9XHJcbmluc3Qub3B0aW9ucy5pc0lFNnx8aW5zdC5vcHRpb25zLmlzSUU3fHxpbnN0Lm9wdGlvbnMuaXNJRTg7aW5zdC5vcHRpb25zLmlzSUU2Nzg5PWluc3Qub3B0aW9ucy5pc0lFNnx8aW5zdC5vcHRpb25zLmlzSUU3fHxpbnN0Lm9wdGlvbnMuaXNJRTh8fGluc3Qub3B0aW9ucy5pc0lFOTtpbnN0Lm9wdGlvbnMuaXNBbmRyb2lkPW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FuZHJvaWQvaSkhPW51bGw7aW5zdC5vcHRpb25zLmlzSVBhZD1uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9pUGFkL2kpIT1udWxsO2luc3Qub3B0aW9ucy5pc0lQaG9uZT1uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9pUG9kL2kpIT1udWxsfHxuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9pUGhvbmUvaSkhPW51bGw7aW5zdC5vcHRpb25zLmlzSU9TPWluc3Qub3B0aW9ucy5pc0lQYWR8fGluc3Qub3B0aW9ucy5pc0lQaG9uZTtpbnN0Lm9wdGlvbnMuaXNNb2JpbGU9aW5zdC5vcHRpb25zLmlzQW5kcm9pZHx8XHJcbmluc3Qub3B0aW9ucy5pc0lQYWR8fGluc3Qub3B0aW9ucy5pc0lQaG9uZTtpbnN0Lm9wdGlvbnMuaXNJT1NMZXNzNT1pbnN0Lm9wdGlvbnMuaXNJUGFkJiZpbnN0Lm9wdGlvbnMuaXNJUGhvbmUmJihuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9PUyA0L2kpIT1udWxsfHxuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9PUyAzL2kpIT1udWxsKTtpbnN0Lm9wdGlvbnMuc3VwcG9ydENTU1Bvc2l0aW9uRml4ZWQ9IWluc3Qub3B0aW9ucy5pc0lFNiYmIWluc3Qub3B0aW9ucy5pc0lPU0xlc3M1O2luc3Qub3B0aW9ucy5pZXF1aXJrc21vZGU9aW5zdC5vcHRpb25zLmlzSUU2Nzg5JiZkb2N1bWVudC5jb21wYXRNb2RlIT1cIkNTUzFDb21wYXRcIjtpbnN0Lm9wdGlvbnMuaXNUb3VjaD1cIm9udG91Y2hzdGFydFwiaW4gd2luZG93O2lmKGluc3Qub3B0aW9ucy5pc0Nocm9tZSl7dmFyIG1hdGNoPW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0Nocm9tZVxcLyhbMC05XSspLyk7aW5zdC5vcHRpb25zLmNocm9tZVZlcnNpb249XHJcbm1hdGNoJiZtYXRjaC5sZW5ndGg+PTI/cGFyc2VJbnQobWF0Y2hbMV0sMTApOjB9aWYoaW5zdC5vcHRpb25zLmlzQW5kcm9pZCl7dmFyIG1hdGNoPW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FuZHJvaWRcXHMoWzAtOVxcLl0qKS9pKTtpbnN0Lm9wdGlvbnMuYW5kcm9pZFZlcnNpb249bWF0Y2gmJm1hdGNoLmxlbmd0aD49Mj9wYXJzZUludChtYXRjaFsxXSwxMCk6LTF9dmFyIHY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpO2luc3Qub3B0aW9ucy5jYW5wbGF5bXA0PXYmJnYuY2FuUGxheVR5cGUmJnYuY2FuUGxheVR5cGUoXCJ2aWRlby9tcDRcIikucmVwbGFjZSgvbm8vLFwiXCIpO2lmKGluc3Qub3B0aW9ucy5pc0ZpcmVmb3gmJmluc3Qub3B0aW9ucy5uYXRpdmVjb250cm9sc29uZmlyZWZveHx8KGluc3Qub3B0aW9ucy5pc0lFNjc4OXx8aW5zdC5vcHRpb25zLmlzSUUxMHx8aW5zdC5vcHRpb25zLmlzSUUxMSkmJmluc3Qub3B0aW9ucy5uYXRpdmVjb250cm9sc29uaWV8fGluc3Qub3B0aW9ucy5pc0lQaG9uZSYmXHJcbmluc3Qub3B0aW9ucy5uYXRpdmVjb250cm9sc29uaXBob25lfHxpbnN0Lm9wdGlvbnMuaXNJUGFkJiZpbnN0Lm9wdGlvbnMubmF0aXZlY29udHJvbHNvbmlwYWR8fGluc3Qub3B0aW9ucy5pc0FuZHJvaWQmJmluc3Qub3B0aW9ucy5uYXRpdmVjb250cm9sc29uYW5kcm9pZClpbnN0Lm9wdGlvbnMubmF0aXZlaHRtbDVjb250cm9scz10cnVlO2lmKGluc3Qub3B0aW9ucy5pc0lPU3x8aW5zdC5vcHRpb25zLmlzQW5kcm9pZClpbnN0Lm9wdGlvbnMubmF0aXZlY29udHJvbHNvbmZ1bGxzY3JlZW49dHJ1ZTtpbnN0Lm9wdGlvbnMubmF2aGVpZ2h0PTA7aW5zdC5vcHRpb25zLnRodW1iZ2FwKz0yKmluc3Qub3B0aW9ucy50aHVtYmJvcmRlcjtpbnN0Lm9wdGlvbnMucmVzaXplVGltZW91dD0tMTtpbnN0LnNsaWRlVGltZW91dD1udWxsO2luc3QuYXV0b3NsaWRpbmc9ZmFsc2U7aW5zdC5leGlzdGluZ0VsZW09LTE7aW5zdC5kaXJlY3Rpb249LTM7aW5zdC5lbGVtQXJyYXk9bmV3IEFycmF5O2luc3Qub3B0aW9ucy5jdXJFbGVtPVxyXG4tMTtpbnN0LmRlZmF1bHRvcHRpb25zPSQuZXh0ZW5kKHt9LGluc3Qub3B0aW9ucyk7aWYoaW5zdC5vcHRpb25zLmdvb2dsZWFuYWx5dGljc2FjY291bnQmJiF3aW5kb3cuX2dhcSl7d2luZG93Ll9nYXE9d2luZG93Ll9nYXF8fFtdO3dpbmRvdy5fZ2FxLnB1c2goW1wiX3NldEFjY291bnRcIixpbnN0Lm9wdGlvbnMuZ29vZ2xlYW5hbHl0aWNzYWNjb3VudF0pO3dpbmRvdy5fZ2FxLnB1c2goW1wiX3RyYWNrUGFnZXZpZXdcIl0pOyQuZ2V0U2NyaXB0KFwiaHR0cHM6Ly9zc2wuZ29vZ2xlLWFuYWx5dGljcy5jb20vZ2EuanNcIil9aWYoaW5zdC5vcHRpb25zLmluaXR2aW1lbyl7dmFyIHRhZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO3RhZy5zcmM9aW5zdC5vcHRpb25zLmpzZm9sZGVyK1wiZnJvb2dhbG9vcDIubWluLmpzXCI7dmFyIGZpcnN0U2NyaXB0VGFnPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpWzBdO2ZpcnN0U2NyaXB0VGFnLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRhZyxcclxuZmlyc3RTY3JpcHRUYWcpfWlmKGluc3Qub3B0aW9ucy5pbml0eW91dHViZSl7dmFyIHRhZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO3RhZy5zcmM9XCJodHRwczovL3d3dy55b3V0dWJlLmNvbS9pZnJhbWVfYXBpXCI7dmFyIGZpcnN0U2NyaXB0VGFnPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpWzBdO2ZpcnN0U2NyaXB0VGFnLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRhZyxmaXJzdFNjcmlwdFRhZyl9aWYoaW5zdC5vcHRpb25zLmluaXRzb2NpYWwpJChcImhlYWRcIikuYXBwZW5kKCc8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgaHJlZj1cIicraW5zdC5vcHRpb25zLmpzZm9sZGVyKydpY29ucy9jc3MvZm9udGVsbG8uY3NzXCIgdHlwZT1cInRleHQvY3NzXCIgLz4nKTtpbnN0LnNob3dpbmc9ZmFsc2U7aW5zdC5uYXZ2aXNpYmxlPWZhbHNlO2luc3QuZGlzYWJsZUVzY0tleT1mdW5jdGlvbihpc0Z1bGxzY3JlZW4pe2lmKGlzRnVsbHNjcmVlbilpbnN0LmRpc2FibGVlc2NrZXlpbmZ1bGxzY3JlZW49XHJcbnRydWU7ZWxzZSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aW5zdC5kaXNhYmxlZXNja2V5aW5mdWxsc2NyZWVuPWZhbHNlfSwxRTMpfTtpbnN0LnN1cHBvcnRLZXlib2FyZD1mdW5jdGlvbigpe2luc3QuZGlzYWJsZWVzY2tleWluZnVsbHNjcmVlbj1mYWxzZTskKGRvY3VtZW50KS5rZXl1cChmdW5jdGlvbihlKXtpZighaW5zdC5zaG93aW5nKXJldHVybjtpZighaW5zdC5kaXNhYmxlZXNja2V5aW5mdWxsc2NyZWVuJiZpbnN0Lm9wdGlvbnMuc3VwcG9ydGVzY2tleSYmZS5rZXlDb2RlPT0yNylpbnN0LmZpbmlzaCgpO2Vsc2UgaWYoaW5zdC5vcHRpb25zLnN1cHBvcnRhcnJvd2tleXMpaWYoZS5rZXlDb2RlPT0zOSlpbnN0LmdvdG9TbGlkZSgtMSk7ZWxzZSBpZihlLmtleUNvZGU9PTM3KWluc3QuZ290b1NsaWRlKC0yKX0pO2lmKGluc3Qub3B0aW9ucy5zdXBwb3J0ZXNja2V5JiZkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKXtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiTVNGdWxsc2NyZWVuQ2hhbmdlXCIsXHJcbmZ1bmN0aW9uKCl7aW5zdC5kaXNhYmxlRXNjS2V5KGRvY3VtZW50Lm1zRnVsbHNjcmVlbkVsZW1lbnQhPW51bGwpfSxmYWxzZSk7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2VcIixmdW5jdGlvbigpe2luc3QuZGlzYWJsZUVzY0tleShkb2N1bWVudC53ZWJraXRJc0Z1bGxTY3JlZW4pfSxmYWxzZSl9fTtpbnN0LnN1cHBvcnRLZXlib2FyZCgpO2luc3QuaW5pdD1mdW5jdGlvbigpe2luc3Quc2hvd2luZz1mYWxzZTtpbnN0LnJlYWREYXRhKCk7aW5zdC5jcmVhdGVNYXJrdXAoKTtpbnN0LmluaXRTbGlkZSgpfTtpbnN0LmNoZWNrUGFyZW50RGF0YT1mdW5jdGlvbihub2RlLHBhcmVudE5vZGUsYXR0cil7cmV0dXJuIG5vZGUuZGF0YShhdHRyKT9ub2RlLmRhdGEoYXR0cik6cGFyZW50Tm9kZSYmcGFyZW50Tm9kZS5kYXRhKGF0dHIpP3BhcmVudE5vZGUuZGF0YShhdHRyKTpudWxsfTtpbnN0LmNoZWNrUGFyZW50Q2xhc3M9ZnVuY3Rpb24obm9kZSxwYXJlbnROb2RlLFxyXG5hdHRyKXt2YXIgcmV0PW51bGw7JC5lYWNoKFtub2RlLHBhcmVudE5vZGVdLGZ1bmN0aW9uKGluZGV4LG5vZGVWYWx1ZSl7aWYobm9kZVZhbHVlJiZub2RlVmFsdWUuYXR0cihcImNsYXNzXCIpKXt2YXIgY2xhc3NMaXN0PW5vZGVWYWx1ZS5hdHRyKFwiY2xhc3NcIikuc3BsaXQoL1xccysvKTskLmVhY2goY2xhc3NMaXN0LGZ1bmN0aW9uKGluZGV4LGNsYXNzTmFtZSl7aWYoY2xhc3NOYW1lJiZjbGFzc05hbWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiaHRtbDVsaWdodGJveC1cIithdHRyK1wiLVwiKT09MCl7dmFyIG5hbWVzPWNsYXNzTmFtZS5zcGxpdChcIi1cIik7aWYobmFtZXMubGVuZ3RoPT0zKXJldD1wYXJzZUludChuYW1lc1syXSl9fSl9fSk7cmV0dXJuIHJldH07aW5zdC5yZWFkTm9kZURhdGE9ZnVuY3Rpb24obm9kZSxwYXJlbnROb2RlKXt2YXIgZmlsZVR5cGU9XCJtZWRpYXR5cGVcImluIG5vZGUuZGF0YSgpP25vZGUuZGF0YShcIm1lZGlhdHlwZVwiKTppbnN0LmNoZWNrVHlwZShub2RlLmF0dHIoXCJocmVmXCIpKTtcclxuaWYoZmlsZVR5cGU8MClyZXR1cm47dmFyIHRpdGxlPW5vZGUuZGF0YShcInRpdGxlXCIpP25vZGUuZGF0YShcInRpdGxlXCIpOm5vZGUuYXR0cihcInRpdGxlXCIpO3ZhciBncm91cD1ub2RlLmRhdGEoXCJncm91cFwiKT9ub2RlLmRhdGEoXCJncm91cFwiKTppbnN0Lm9wdGlvbnMudXNlcmVsZm9yZ3JvdXA/bm9kZS5hdHRyKFwicmVsXCIpOm51bGw7aWYoIWdyb3VwJiZwYXJlbnROb2RlKWdyb3VwPXBhcmVudE5vZGUuZGF0YShcImdyb3VwXCIpP3BhcmVudE5vZGUuZGF0YShcImdyb3VwXCIpOmluc3Qub3B0aW9ucy51c2VyZWxmb3Jncm91cD9wYXJlbnROb2RlLmF0dHIoXCJyZWxcIik6bnVsbDtmb3IodmFyIGk9MDtpPGluc3QuZWxlbUFycmF5Lmxlbmd0aDtpKyspaWYobm9kZS5hdHRyKFwiaHJlZlwiKT09aW5zdC5lbGVtQXJyYXlbaV1bRUxFTV9IUkVGXSl7aW5zdC5lbGVtQXJyYXlbaV1bRUxFTV9USVRMRV09dGl0bGU7aW5zdC5lbGVtQXJyYXlbaV1bRUxFTV9HUk9VUF09Z3JvdXA7cmV0dXJufXZhciB3PWluc3QuY2hlY2tQYXJlbnREYXRhKG5vZGUsXHJcbnBhcmVudE5vZGUsXCJ3aWR0aFwiKTt2YXIgaD1pbnN0LmNoZWNrUGFyZW50RGF0YShub2RlLHBhcmVudE5vZGUsXCJoZWlnaHRcIik7aWYoIXcpdz1pbnN0LmNoZWNrUGFyZW50Q2xhc3Mobm9kZSxwYXJlbnROb2RlLFwid2lkdGhcIik7aWYoIWgpaD1pbnN0LmNoZWNrUGFyZW50Q2xhc3Mobm9kZSxwYXJlbnROb2RlLFwiaGVpZ2h0XCIpO2luc3QuZWxlbUFycmF5LnB1c2gobmV3IEFycmF5KGZpbGVUeXBlLG5vZGUuYXR0cihcImhyZWZcIiksdGl0bGUsZ3JvdXAsdyxoLGluc3QuY2hlY2tQYXJlbnREYXRhKG5vZGUscGFyZW50Tm9kZSxcIndlYm1cIiksaW5zdC5jaGVja1BhcmVudERhdGEobm9kZSxwYXJlbnROb2RlLFwib2dnXCIpLGluc3QuY2hlY2tQYXJlbnREYXRhKG5vZGUscGFyZW50Tm9kZSxcInRodW1ibmFpbFwiKSxpbnN0LmNoZWNrUGFyZW50RGF0YShub2RlLHBhcmVudE5vZGUsXCJkZXNjcmlwdGlvblwiKSxudWxsLG51bGwsbnVsbCxpbnN0LmNoZWNrUGFyZW50RGF0YShub2RlLHBhcmVudE5vZGUsXCJzb2NpYWxtZWRpYVwiKSxcclxuaW5zdC5jaGVja1BhcmVudERhdGEobm9kZSxwYXJlbnROb2RlLFwid2VibGlua1wiKSxpbnN0LmNoZWNrUGFyZW50RGF0YShub2RlLHBhcmVudE5vZGUsXCJ3ZWJsaW5rdGFyZ2V0XCIpLGluc3QuY2hlY2tQYXJlbnREYXRhKG5vZGUscGFyZW50Tm9kZSxcIndlYmxpbmt0ZXh0XCIpKSl9O2luc3QucmVhZERhdGE9ZnVuY3Rpb24oKXtpbnN0LmVhY2goZnVuY3Rpb24oKXt2YXIgc2VsZj0kKHRoaXMpO2lmKHRoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09XCJhXCJ8fHRoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09XCJhcmVhXCIpaW5zdC5yZWFkTm9kZURhdGEoc2VsZik7ZWxzZSBzZWxmLmZpbmQoXCJhLGFyZWFcIikuZWFjaChmdW5jdGlvbigpe2luc3QucmVhZE5vZGVEYXRhKCQodGhpcyksc2VsZil9KX0pfTtpbnN0LmNyZWF0ZU1hcmt1cD1mdW5jdGlvbigpe2lmKCQod2luZG93KS53aWR0aCgpPD1pbnN0Lm9wdGlvbnMuZnVsbHNjcmVlbnNtYWxsc2NyZWVud2lkdGgpe2lmKGluc3Qub3B0aW9ucy5mdWxsc2NyZWVubW9kZW9uc21hbGxzY3JlZW4pe2luc3Qub3B0aW9ucy5mdWxsc2NyZWVubW9kZT1cclxudHJ1ZTtpZihpbnN0Lm9wdGlvbnMuZnVsbHNjcmVlbm5vbWFyZ2lub25zbWFsbHNjcmVlbilpbnN0Lm9wdGlvbnMuZnVsbHNjcmVlbm5vbWFyZ2luPXRydWV9aWYoaW5zdC5vcHRpb25zLmZ1bGxzY3JlZW5tb2RlJiZpbnN0Lm9wdGlvbnMuZnVsbHNjcmVlbm5vbWFyZ2lub25zbWFsbHNjcmVlbilpbnN0Lm9wdGlvbnMuZnVsbHNjcmVlbm5vbWFyZ2luPXRydWV9aWYoaW5zdC5vcHRpb25zLmZ1bGxzY3JlZW5tb2RlKXtpbnN0Lm9wdGlvbnMuYmdjb2xvcj1pbnN0Lm9wdGlvbnMuZnVsbHNjcmVlbmJnY29sb3I7aW5zdC5vcHRpb25zLmJvcmRlcnNpemU9aW5zdC5vcHRpb25zLmZ1bGxzY3JlZW5ib3JkZXJzaXplO2lmKGluc3Qub3B0aW9ucy5mdWxsc2NyZWVubm9tYXJnaW4pe2luc3Qub3B0aW9ucy5ib3JkZXJzaXplPTA7aW5zdC5vcHRpb25zLmJvcmRlcm1hcmdpbj0wO2luc3Qub3B0aW9ucy5ib3JkZXJ0b3BtYXJnaW49MDtpbnN0Lm9wdGlvbnMuYm9yZGVydG9wbWFyZ2luc21hbGw9XHJcbjB9aWYoaW5zdC5vcHRpb25zLmZ1bGxzY3JlZW50ZXh0b3V0c2lkZSl7aW5zdC5vcHRpb25zLnRpdGxlc3R5bGU9XCJvdXRzaWRlXCI7aW5zdC5vcHRpb25zLnRpdGxlY3NzPWluc3Qub3B0aW9ucy50aXRsZW91dHNpZGVjc3M7aW5zdC5vcHRpb25zLmRlc2NyaXB0aW9uY3NzPWluc3Qub3B0aW9ucy5kZXNjcmlwdGlvbm91dHNpZGVjc3N9ZWxzZSBpZihpbnN0Lm9wdGlvbnMuZnVsbHNjcmVlbnRleHRpbnNpZGUpe2luc3Qub3B0aW9ucy50aXRsZXN0eWxlPVwiaW5zaWRlXCI7aW5zdC5vcHRpb25zLnRpdGxlY3NzPWluc3Qub3B0aW9ucy50aXRsZWluc2lkZWNzcztpbnN0Lm9wdGlvbnMuZGVzY3JpcHRpb25jc3M9aW5zdC5vcHRpb25zLmRlc2NyaXB0aW9uaW5zaWRlY3NzfWVsc2V7aW5zdC5vcHRpb25zLnRpdGxlYm90dG9tY3NzPWluc3Qub3B0aW9ucy5mdWxsc2NyZWVudGl0bGVib3R0b21jc3M7aW5zdC5vcHRpb25zLmRlc2NyaXB0aW9uYm90dG9tY3NzPWluc3Qub3B0aW9ucy5mdWxsc2NyZWVuZGVzY3JpcHRpb25ib3R0b21jc3N9fWluc3Qub3B0aW9ucy5iYXJoZWlnaHRvcmlnaW5hbD1cclxuaW5zdC5vcHRpb25zLmJhcmhlaWdodDtpZihpbnN0Lm9wdGlvbnMucmVzcG9uc2l2ZWJhcmhlaWdodCl7dmFyIHdpbkg9JCh3aW5kb3cpLmhlaWdodCgpO2lmKHdpbkg8PWluc3Qub3B0aW9ucy5zbWFsbHNjcmVlbmhlaWdodClpbnN0Lm9wdGlvbnMuYmFyaGVpZ2h0PWluc3Qub3B0aW9ucy5iYXJoZWlnaHRvbnNtYWxsaGVpZ2h0fXN3aXRjaChpbnN0Lm9wdGlvbnMudGl0bGVzdHlsZSl7Y2FzZSBcImluc2lkZVwiOmluc3Qub3B0aW9ucy50aXRsZWNzcz1pbnN0Lm9wdGlvbnMudGl0bGVpbnNpZGVjc3M7aW5zdC5vcHRpb25zLmRlc2NyaXB0aW9uY3NzPWluc3Qub3B0aW9ucy5kZXNjcmlwdGlvbmluc2lkZWNzczticmVhaztjYXNlIFwib3V0c2lkZVwiOmluc3Qub3B0aW9ucy50aXRsZWNzcz1pbnN0Lm9wdGlvbnMudGl0bGVvdXRzaWRlY3NzO2luc3Qub3B0aW9ucy5kZXNjcmlwdGlvbmNzcz1pbnN0Lm9wdGlvbnMuZGVzY3JpcHRpb25vdXRzaWRlY3NzO2JyZWFrO2RlZmF1bHQ6aW5zdC5vcHRpb25zLnRpdGxlY3NzPVxyXG5pbnN0Lm9wdGlvbnMudGl0bGVib3R0b21jc3M7aW5zdC5vcHRpb25zLmRlc2NyaXB0aW9uY3NzPWluc3Qub3B0aW9ucy5kZXNjcmlwdGlvbmJvdHRvbWNzc31pbnN0Lm9wdGlvbnMudGl0bGVjc3M9JC50cmltKGluc3Qub3B0aW9ucy50aXRsZWNzcyk7aWYoaW5zdC5vcHRpb25zLnRpdGxlY3NzLmxlbmd0aD4xKXtpZihpbnN0Lm9wdGlvbnMudGl0bGVjc3MuY2hhckF0KDApPT1cIntcIilpbnN0Lm9wdGlvbnMudGl0bGVjc3M9aW5zdC5vcHRpb25zLnRpdGxlY3NzLnN1YnN0cmluZygxKTtpZihpbnN0Lm9wdGlvbnMudGl0bGVjc3MuY2hhckF0KGluc3Qub3B0aW9ucy50aXRsZWNzcy5sZW5ndGgtMSk9PVwifVwiKWluc3Qub3B0aW9ucy50aXRsZWNzcz1pbnN0Lm9wdGlvbnMudGl0bGVjc3Muc3Vic3RyaW5nKDAsaW5zdC5vcHRpb25zLnRpdGxlY3NzLmxlbmd0aC0xKX1pbnN0Lm9wdGlvbnMuZGVzY3JpcHRpb25jc3M9JC50cmltKGluc3Qub3B0aW9ucy5kZXNjcmlwdGlvbmNzcyk7aWYoaW5zdC5vcHRpb25zLmRlc2NyaXB0aW9uY3NzLmxlbmd0aD5cclxuMSl7aWYoaW5zdC5vcHRpb25zLmRlc2NyaXB0aW9uY3NzLmNoYXJBdCgwKT09XCJ7XCIpaW5zdC5vcHRpb25zLmRlc2NyaXB0aW9uY3NzPWluc3Qub3B0aW9ucy5kZXNjcmlwdGlvbmNzcy5zdWJzdHJpbmcoMSk7aWYoaW5zdC5vcHRpb25zLmRlc2NyaXB0aW9uY3NzLmNoYXJBdChpbnN0Lm9wdGlvbnMuZGVzY3JpcHRpb25jc3MubGVuZ3RoLTEpPT1cIn1cIilpbnN0Lm9wdGlvbnMuZGVzY3JpcHRpb25jc3M9aW5zdC5vcHRpb25zLmRlc2NyaXB0aW9uY3NzLnN1YnN0cmluZygwLGluc3Qub3B0aW9ucy5kZXNjcmlwdGlvbmNzcy5sZW5ndGgtMSl9aW5zdC5vcHRpb25zLmVycm9yY3NzPSQudHJpbShpbnN0Lm9wdGlvbnMuZXJyb3Jjc3MpO2lmKGluc3Qub3B0aW9ucy5lcnJvcmNzcy5sZW5ndGg+MSl7aWYoaW5zdC5vcHRpb25zLmVycm9yY3NzLmNoYXJBdCgwKT09XCJ7XCIpaW5zdC5vcHRpb25zLmVycm9yY3NzPWluc3Qub3B0aW9ucy5lcnJvcmNzcy5zdWJzdHJpbmcoMSk7aWYoaW5zdC5vcHRpb25zLmVycm9yY3NzLmNoYXJBdChpbnN0Lm9wdGlvbnMuZXJyb3Jjc3MubGVuZ3RoLVxyXG4xKT09XCJ9XCIpaW5zdC5vcHRpb25zLmVycm9yY3NzPWluc3Qub3B0aW9ucy5lcnJvcmNzcy5zdWJzdHJpbmcoMCxpbnN0Lm9wdGlvbnMuZXJyb3Jjc3MubGVuZ3RoLTEpfXZhciBzdHlsZUNzcz1cIi5ib2R5bm9zY3JvbGwge2hlaWdodDoxMDAlO292ZXJmbG93OmhpZGRlbjt9XCI7c3R5bGVDc3MrPVwiLmh0bWw1LWhpZGUge2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50O30gI2h0bWw1Ym94LWh0bWw1LWxpZ2h0Ym94IC5odG1sNS10ZXh0IHtcIitpbnN0Lm9wdGlvbnMudGl0bGVjc3MrXCJ9XCI7c3R5bGVDc3MrPVwiI2h0bWw1Ym94LWh0bWw1LWxpZ2h0Ym94IC5odG1sNS1kZXNjcmlwdGlvbiB7XCIraW5zdC5vcHRpb25zLmRlc2NyaXB0aW9uY3NzK1wifVwiO3N0eWxlQ3NzKz1cIiNodG1sNWJveC1odG1sNS1saWdodGJveCAuaHRtbDUtZXJyb3Ige1wiK2luc3Qub3B0aW9ucy5lcnJvcmNzcytcIn1cIjtpZihpbnN0Lm9wdGlvbnMubmF2YXJyb3dzYWx3YXlzc2hvd29udG91Y2h8fGluc3Qub3B0aW9ucy5hbHdheXNzaG93bmF2YXJyb3dzKXtzdHlsZUNzcys9XHJcblwiI2h0bWw1Ym94LWh0bWw1LWxpZ2h0Ym94IC5odG1sNS1wcmV2LXRvdWNoIHtsZWZ0OjBweDt0b3A6NTAlO21hcmdpbi10b3A6LTE2cHg7bWFyZ2luLWxlZnQ6LTMycHg7fSAjaHRtbDVib3gtaHRtbDUtbGlnaHRib3ggLmh0bWw1LW5leHQtdG91Y2gge3JpZ2h0OjBweDt0b3A6NTAlO21hcmdpbi10b3A6LTE2cHg7bWFyZ2luLXJpZ2h0Oi0zMnB4O31cIjtpZihpbnN0Lm9wdGlvbnMuc2hvd2Fycm93c2JvdHRvbW9uc21hbGxzY3JlZW4pc3R5bGVDc3MrPVwiQG1lZGlhIChtYXgtd2lkdGg6IFwiK2luc3Qub3B0aW9ucy5uYXZhcnJvd3Nib3R0b21zY3JlZW53aWR0aCtcInB4KSB7ICNodG1sNWJveC1odG1sNS1saWdodGJveCAuaHRtbDUtcHJldi10b3VjaCB7dG9wOjEwMCU7bGVmdDowO21hcmdpbjowO30gI2h0bWw1Ym94LWh0bWw1LWxpZ2h0Ym94IC5odG1sNS1uZXh0LXRvdWNoIHt0b3A6MTAwJTtyaWdodDowO21hcmdpbjowO30gfVwifXN0eWxlQ3NzKz1cIiNodG1sNWJveC1odG1sNS1saWdodGJveCAuaHRtbDUtcHJldi1mdWxsc2NyZWVuIHtkaXNwbGF5OmJsb2NrO30gI2h0bWw1Ym94LWh0bWw1LWxpZ2h0Ym94IC5odG1sNS1uZXh0LWZ1bGxzY3JlZW4ge2Rpc3BsYXk6YmxvY2s7fSAjaHRtbDVib3gtaHRtbDUtbGlnaHRib3ggLmh0bWw1LXByZXYtYm90dG9tLWZ1bGxzY3JlZW4ge2Rpc3BsYXk6bm9uZTt9ICNodG1sNWJveC1odG1sNS1saWdodGJveCAuaHRtbDUtbmV4dC1ib3R0b20tZnVsbHNjcmVlbiB7ZGlzcGxheTpub25lO31cIjtcclxuaWYoaW5zdC5vcHRpb25zLnNob3dhcnJvd3Nib3R0b21vbnNtYWxsc2NyZWVuKXN0eWxlQ3NzKz1cIkBtZWRpYSAobWF4LXdpZHRoOiBcIitpbnN0Lm9wdGlvbnMubmF2YXJyb3dzYm90dG9tc2NyZWVud2lkdGgrXCJweCkgeyNodG1sNWJveC1odG1sNS1saWdodGJveCAuaHRtbDUtcHJldi1mdWxsc2NyZWVuIHtkaXNwbGF5Om5vbmU7fSAjaHRtbDVib3gtaHRtbDUtbGlnaHRib3ggLmh0bWw1LW5leHQtZnVsbHNjcmVlbiB7ZGlzcGxheTpub25lO30gI2h0bWw1Ym94LWh0bWw1LWxpZ2h0Ym94IC5odG1sNS1wcmV2LWJvdHRvbS1mdWxsc2NyZWVuIHtkaXNwbGF5OmJsb2NrO30gI2h0bWw1Ym94LWh0bWw1LWxpZ2h0Ym94IC5odG1sNS1uZXh0LWJvdHRvbS1mdWxsc2NyZWVuIHtkaXNwbGF5OmJsb2NrO30gfVwiO2lmKGluc3Qub3B0aW9ucy50aXRsZXN0eWxlPT1cInJpZ2h0XCIpe3N0eWxlQ3NzKz1cIiNodG1sNWJveC1odG1sNS1saWdodGJveCAuaHRtbDUtZWxlbS13cmFwIHt3aWR0aDpcIitpbnN0Lm9wdGlvbnMuaW1hZ2VwZXJjZW50YWdlK1xyXG5cIiU7aGVpZ2h0OjEwMCU7fSAjaHRtbDVib3gtaHRtbDUtbGlnaHRib3ggLmh0bWw1LWVsZW0tZGF0YS1ib3gge21pbi1oZWlnaHQ6MTAwJTt9XCI7c3R5bGVDc3MrPVwiQG1lZGlhIChtYXgtd2lkdGg6IFwiK2luc3Qub3B0aW9ucy5zaWRldG9ib3R0b21zY3JlZW53aWR0aCtcInB4KSB7I2h0bWw1Ym94LWh0bWw1LWxpZ2h0Ym94IC5odG1sNS1lbGVtLXdyYXAge3dpZHRoOjEwMCU7aGVpZ2h0OmF1dG87fSAjaHRtbDVib3gtaHRtbDUtbGlnaHRib3ggLmh0bWw1LWVsZW0tZGF0YS1ib3gge3dpZHRoOjEwMCU7aGVpZ2h0OmF1dG87bWluLWhlaWdodDowO319XCJ9ZWxzZSBpZihpbnN0Lm9wdGlvbnMudGl0bGVzdHlsZT09XCJsZWZ0XCIpe3N0eWxlQ3NzKz1cIiNodG1sNWJveC1odG1sNS1saWdodGJveCAuaHRtbDUtZWxlbS13cmFwIHtoZWlnaHQ6MTAwJTt9ICNodG1sNWJveC1odG1sNS1saWdodGJveCAuaHRtbDUtZWxlbS1kYXRhLWJveCB7d2lkdGg6XCIrU3RyaW5nKDEwMC1pbnN0Lm9wdGlvbnMuaW1hZ2VwZXJjZW50YWdlKStcclxuXCIlO21pbi1oZWlnaHQ6MTAwJTt9XCI7c3R5bGVDc3MrPVwiQG1lZGlhIChtYXgtd2lkdGg6IFwiK2luc3Qub3B0aW9ucy5zaWRldG9ib3R0b21zY3JlZW53aWR0aCtcInB4KSB7I2h0bWw1Ym94LWh0bWw1LWxpZ2h0Ym94IC5odG1sNS1lbGVtLXdyYXAge3dpZHRoOjEwMCU7aGVpZ2h0OmF1dG87fSAjaHRtbDVib3gtaHRtbDUtbGlnaHRib3ggLmh0bWw1LWVsZW0tZGF0YS1ib3gge3dpZHRoOjEwMCU7aGVpZ2h0OmF1dG87bWluLWhlaWdodDowO319XCJ9c3R5bGVDc3MrPVwiLmh0bWw1LXJvdGF0ZSB7IGJvcmRlci1yYWRpdXM6NTAlOyAtd2Via2l0LXRyYW5zaXRpb246LXdlYmtpdC10cmFuc2Zvcm0gLjRzIGVhc2UtaW47IHRyYW5zaXRpb246IHRyYW5zZm9ybSAuNHMgZWFzZS1pbjsgfSAuaHRtbDUtcm90YXRlOmhvdmVyIHsgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOyB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOyB9XCI7c3R5bGVDc3MrPVwiQG1lZGlhIChtYXgtd2lkdGg6IFwiK1xyXG5pbnN0Lm9wdGlvbnMubmF2YXJyb3dzYm90dG9tc2NyZWVud2lkdGgrXCJweCkgeyNodG1sNS1zb2NpYWwge1wiK2luc3Qub3B0aW9ucy5zb2NpYWxwb3NpdGlvbnNtYWxsc2NyZWVuK1wifX1cIjtzdHlsZUNzcys9XCIuaHRtbDVib3gtYW5pbWF0ZWQgeyAtd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjpcIitpbnN0Lm9wdGlvbnMuYW5pbWF0aW9uZHVyYXRpb24rXCI7IGFuaW1hdGlvbi1kdXJhdGlvbjpcIitpbnN0Lm9wdGlvbnMuYW5pbWF0aW9uZHVyYXRpb24rXCI7IC13ZWJraXQtYW5pbWF0aW9uLWZpbGwtbW9kZTogYm90aDsgYW5pbWF0aW9uLWZpbGwtbW9kZTogYm90aDsgfSBALXdlYmtpdC1rZXlmcmFtZXMgaHRtbDVib3gtZmFkZU91dCB7IGZyb20geyBvcGFjaXR5OiAxOyB9IHRvIHsgb3BhY2l0eTogMDsgfSB9IEBrZXlmcmFtZXMgaHRtbDVib3gtZmFkZU91dCB7IGZyb20geyBvcGFjaXR5OiAxOyB9IHRvIHsgb3BhY2l0eTogMDsgfSB9IC5odG1sNWJveC1mYWRlT3V0IHsgLXdlYmtpdC1hbmltYXRpb24tbmFtZTogaHRtbDVib3gtZmFkZU91dDsgYW5pbWF0aW9uLW5hbWU6IGh0bWw1Ym94LWZhZGVPdXQ7IH1cIjtcclxuc3R5bGVDc3MrPVwiQC13ZWJraXQta2V5ZnJhbWVzIGh0bWw1Ym94LWZhZGVPdXREb3duIHsgZnJvbSB7IG9wYWNpdHk6IDE7IH0gdG8geyBvcGFjaXR5OiAwOyAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMTAwJSwgMCk7IHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMTAwJSwgMCk7IH0gfSBAa2V5ZnJhbWVzIGh0bWw1Ym94LWZhZGVPdXREb3duIHsgZnJvbSB7IG9wYWNpdHk6IDE7IH0gdG8geyBvcGFjaXR5OiAwOyAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMTAwJSwgMCk7IHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMTAwJSwgMCk7IH0gfSAuaHRtbDVib3gtZmFkZU91dERvd24geyAtd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBodG1sNWJveC1mYWRlT3V0RG93bjsgYW5pbWF0aW9uLW5hbWU6IGh0bWw1Ym94LWZhZGVPdXREb3duOyB9XCI7JChcImhlYWRcIikuYXBwZW5kKFwiPHN0eWxlIHR5cGU9J3RleHQvY3NzJyBkYXRhLWNyZWF0b3I9J2h0bWw1Ym94LWh0bWw1LWxpZ2h0Ym94Jz5cIitcclxuc3R5bGVDc3MrXCI8L3N0eWxlPlwiKTt2YXIgZWxlbWhlaWdodD1pbnN0Lm9wdGlvbnMuZWxlbWF1dG9oZWlnaHQ/XCJhdXRvXCI6XCIxMDAlXCI7aW5zdC4kbGlnaHRib3g9JChcIjxkaXYgaWQ9J2h0bWw1Ym94LWh0bWw1LWxpZ2h0Ym94JyBzdHlsZT0nZGlzcGxheTpub25lO3RvcDowcHg7bGVmdDowcHg7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTt6LWluZGV4Ojk5OTk5OTg7dGV4dC1hbGlnbjpjZW50ZXI7Jz5cIitcIjxkaXYgaWQ9J2h0bWw1LWxpZ2h0Ym94LW92ZXJsYXknIHN0eWxlPSdkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowcHg7bGVmdDowcHg7d2lkdGg6MTAwJTttaW4taGVpZ2h0OjEwMCU7YmFja2dyb3VuZC1jb2xvcjpcIitpbnN0Lm9wdGlvbnMub3ZlcmxheWJnY29sb3IrXCI7b3BhY2l0eTpcIitpbnN0Lm9wdGlvbnMub3ZlcmxheW9wYWNpdHkrXCI7ZmlsdGVyOmFscGhhKG9wYWNpdHk9XCIrTWF0aC5yb3VuZChpbnN0Lm9wdGlvbnMub3ZlcmxheW9wYWNpdHkqMTAwKStcclxuXCIpOyc+PC9kaXY+XCIrXCI8ZGl2IGlkPSdodG1sNS1saWdodGJveC1ib3gnIHN0eWxlPSdkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbjowcHggYXV0bzsnPlwiK1wiPGRpdiBjbGFzcz0naHRtbDUtZWxlbS1ib3gnIHN0eWxlPSdkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjEwMCU7b3ZlcmZsb3cteDpoaWRkZW47b3ZlcmZsb3cteTphdXRvO2hlaWdodDpcIitlbGVtaGVpZ2h0K1wiO21hcmdpbjowcHggYXV0bzt0ZXh0LWFsaWduOmNlbnRlcjtib3gtc2l6aW5nOmJvcmRlci1ib3g7LW1vei1ib3gtc2l6aW5nOmJvcmRlci1ib3g7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Jz5cIitcIjxkaXYgY2xhc3M9J2h0bWw1LWVsZW0td3JhcCcgc3R5bGU9J2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246cmVsYXRpdmU7b3ZlcmZsb3c6aGlkZGVuO21hcmdpbjowcHggYXV0bzt0ZXh0LWFsaWduOmNlbnRlcjtib3gtc2l6aW5nOmJvcmRlci1ib3g7LW1vei1ib3gtc2l6aW5nOmJvcmRlci1ib3g7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7YmFja2dyb3VuZC1jb2xvcjpcIitcclxuaW5zdC5vcHRpb25zLmJnY29sb3IrXCI7Jz5cIitcIjxkaXYgY2xhc3M9J2h0bWw1LWxvYWRpbmcnIHN0eWxlPSdkaXNwbGF5Om5vbmU7cG9zaXRpb246YWJzb2x1dGU7dG9wOjBweDtsZWZ0OjBweDt0ZXh0LWFsaWduOmNlbnRlcjt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2JhY2tncm91bmQ6dXJsKFxcXCJcIitpbnN0Lm9wdGlvbnMubG9hZGluZ2ltYWdlK1wiXFxcIikgbm8tcmVwZWF0IGNlbnRlciBjZW50ZXI7Jz48L2Rpdj5cIitcIjxkaXYgY2xhc3M9J2h0bWw1LWVycm9yLWJveCBodG1sNS1lcnJvcicgc3R5bGU9J2Rpc3BsYXk6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTtwYWRkaW5nOlwiK2luc3Qub3B0aW9ucy5ib3JkZXJzaXplK1wicHg7dGV4dC1hbGlnbjpjZW50ZXI7d2lkdGg6XCIraW5zdC5vcHRpb25zLmVycm9yd2lkdGgrXCJweDtoZWlnaHQ6XCIraW5zdC5vcHRpb25zLmVycm9yaGVpZ2h0K1wicHg7Jz5cIitcIlRoZSByZXF1ZXN0ZWQgY29udGVudCBjYW5ub3QgYmUgbG9hZGVkLjxiciAvPlBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuXCIrXHJcblwiPC9kaXY+XCIrXCI8ZGl2IGNsYXNzPSdodG1sNS1pbWFnZScgc3R5bGU9J2Rpc3BsYXk6bm9uZTtwb3NpdGlvbjpyZWxhdGl2ZTt0b3A6MHB4O2xlZnQ6MHB4O3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7XCIrKGluc3Qub3B0aW9ucy5pZXF1aXJrc21vZGU/XCJtYXJnaW5cIjpcInBhZGRpbmdcIikrXCI6XCIraW5zdC5vcHRpb25zLmJvcmRlcnNpemUrXCJweDt0ZXh0LWFsaWduOmNlbnRlcjtib3gtc2l6aW5nOmJvcmRlci1ib3g7LW1vei1ib3gtc2l6aW5nOmJvcmRlci1ib3g7LXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7Jz48L2Rpdj5cIitcIjwvZGl2PlwiK1wiPC9kaXY+XCIrXCI8ZGl2IGlkPSdodG1sNS13YXRlcm1hcmsnIHN0eWxlPSdkaXNwbGF5Om5vbmU7cG9zaXRpb246YWJzb2x1dGU7bGVmdDpcIitTdHJpbmcoaW5zdC5vcHRpb25zLmJvcmRlcnNpemUrMikrXCJweDt0b3A6XCIrU3RyaW5nKGluc3Qub3B0aW9ucy5ib3JkZXJzaXplKzIpK1wicHg7Jz48L2Rpdj5cIitcIjwvZGl2PlwiK1wiPC9kaXY+XCIpO1xyXG5pbnN0Lm9wdGlvbnMucG9zaXRpb25GaXhlZD1pbnN0Lm9wdGlvbnMuc3VwcG9ydENTU1Bvc2l0aW9uRml4ZWQmJmluc3Qub3B0aW9ucy5yZXNwb25zaXZlJiYhaW5zdC5vcHRpb25zLmllcXVpcmtzbW9kZTtpZihpbnN0Lm9wdGlvbnMudXNlYWJzb2x1dGVwb3N8fGluc3Qub3B0aW9ucy51c2VhYnNvbHV0ZXBvc29ubW9iaWxlJiZpbnN0Lm9wdGlvbnMuaXNNb2JpbGUpaW5zdC5vcHRpb25zLnBvc2l0aW9uRml4ZWQ9ZmFsc2U7aW5zdC4kbGlnaHRib3guY3NzKHtwb3NpdGlvbjppbnN0Lm9wdGlvbnMucG9zaXRpb25GaXhlZD9cImZpeGVkXCI6XCJhYnNvbHV0ZVwifSk7aW5zdC4kbGlnaHRib3guYXBwZW5kVG8oXCJib2R5XCIpO2luc3QuJGxpZ2h0Ym94Qm94PSQoXCIjaHRtbDUtbGlnaHRib3gtYm94XCIsaW5zdC4kbGlnaHRib3gpO2luc3QuJGVsZW09JChcIi5odG1sNS1lbGVtLWJveFwiLGluc3QuJGxpZ2h0Ym94KTtpbnN0LiRlbGVtV3JhcD0kKFwiLmh0bWw1LWVsZW0td3JhcFwiLGluc3QuJGxpZ2h0Ym94KTtcclxuaW5zdC4kbG9hZGluZz0kKFwiLmh0bWw1LWxvYWRpbmdcIixpbnN0LiRsaWdodGJveCk7aW5zdC4kZXJyb3I9JChcIi5odG1sNS1lcnJvci1ib3hcIixpbnN0LiRsaWdodGJveCk7aW5zdC4kaW1hZ2U9JChcIi5odG1sNS1pbWFnZVwiLGluc3QuJGxpZ2h0Ym94KTtpZihpbnN0Lm9wdGlvbnMuZnVsbHNjcmVlbm1vZGUmJmluc3Qub3B0aW9ucy5mdWxsc2NyZWVubm9tYXJnaW4paW5zdC4kZWxlbS5jc3Moe292ZXJmbG93OlwiaGlkZGVuXCJ9KTt2YXIgZWxlbVRleHQ9XCI8ZGl2IGNsYXNzPSdodG1sNS1lbGVtLWRhdGEtYm94JyBzdHlsZT0nZGlzcGxheTpub25lO2JveC1zaXppbmc6Ym9yZGVyLWJveDsnPjxkaXYgY2xhc3M9J2h0bWw1LXRleHQnIHN0eWxlPSdkaXNwbGF5OmJsb2NrO292ZXJmbG93OmhpZGRlbjsnPjwvZGl2PjwvZGl2PlwiO2lmKGluc3Qub3B0aW9ucy50aXRsZXN0eWxlPT1cImxlZnRcIilpbnN0LiRlbGVtLnByZXBlbmQoZWxlbVRleHQpO2Vsc2UgaWYoaW5zdC5vcHRpb25zLnRpdGxlc3R5bGU9PVxyXG5cIm91dHNpZGVcIilpbnN0LiRsaWdodGJveC5hcHBlbmQoZWxlbVRleHQpO2Vsc2UgaW5zdC4kZWxlbS5hcHBlbmQoZWxlbVRleHQpO2luc3QuJGVsZW1EYXRhPSQoXCIuaHRtbDUtZWxlbS1kYXRhLWJveFwiLGluc3QuJGxpZ2h0Ym94KTtpbnN0LiR0ZXh0PSQoXCIuaHRtbDUtdGV4dFwiLGluc3QuJGxpZ2h0Ym94KTtpZihpbnN0Lm9wdGlvbnMuYm9yZGVycmFkaXVzPjApe2luc3QuJGVsZW0uY3NzKHtcImJvcmRlci1yYWRpdXNcIjppbnN0Lm9wdGlvbnMuYm9yZGVycmFkaXVzK1wicHhcIixcIi1tb3otYm9yZGVyLXJhZGl1c1wiOmluc3Qub3B0aW9ucy5ib3JkZXJyYWRpdXMrXCJweFwiLFwiLXdlYmtpdC1ib3JkZXItcmFkaXVzXCI6aW5zdC5vcHRpb25zLmJvcmRlcnJhZGl1cytcInB4XCJ9KTtpZihpbnN0Lm9wdGlvbnMudGl0bGVzdHlsZT09XCJpbnNpZGVcIilpbnN0LiRlbGVtV3JhcC5jc3Moe1wiYm9yZGVyLXJhZGl1c1wiOmluc3Qub3B0aW9ucy5ib3JkZXJyYWRpdXMrXCJweFwiLFwiLW1vei1ib3JkZXItcmFkaXVzXCI6aW5zdC5vcHRpb25zLmJvcmRlcnJhZGl1cytcclxuXCJweFwiLFwiLXdlYmtpdC1ib3JkZXItcmFkaXVzXCI6aW5zdC5vcHRpb25zLmJvcmRlcnJhZGl1cytcInB4XCJ9KTtlbHNlIGlmKGluc3Qub3B0aW9ucy50aXRsZXN0eWxlPT1cImJvdHRvbVwiKXtpbnN0LiRlbGVtV3JhcC5jc3Moe1wiYm9yZGVyLXRvcC1sZWZ0LXJhZGl1c1wiOmluc3Qub3B0aW9ucy5ib3JkZXJyYWRpdXMrXCJweFwiLFwiLW1vei10b3AtbGVmdC1ib3JkZXItcmFkaXVzXCI6aW5zdC5vcHRpb25zLmJvcmRlcnJhZGl1cytcInB4XCIsXCItd2Via2l0LXRvcC1sZWZ0LWJvcmRlci1yYWRpdXNcIjppbnN0Lm9wdGlvbnMuYm9yZGVycmFkaXVzK1wicHhcIixcImJvcmRlci10b3AtcmlnaHQtcmFkaXVzXCI6aW5zdC5vcHRpb25zLmJvcmRlcnJhZGl1cytcInB4XCIsXCItbW96LXRvcC1yaWdodC1ib3JkZXItcmFkaXVzXCI6aW5zdC5vcHRpb25zLmJvcmRlcnJhZGl1cytcInB4XCIsXCItd2Via2l0LXRvcC1yaWdodC1ib3JkZXItcmFkaXVzXCI6aW5zdC5vcHRpb25zLmJvcmRlcnJhZGl1cytcInB4XCJ9KTtpbnN0LiRlbGVtRGF0YS5jc3Moe1wiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1c1wiOmluc3Qub3B0aW9ucy5ib3JkZXJyYWRpdXMrXHJcblwicHhcIixcIi1tb3otdG9wLWJvdHRvbS1ib3JkZXItcmFkaXVzXCI6aW5zdC5vcHRpb25zLmJvcmRlcnJhZGl1cytcInB4XCIsXCItd2Via2l0LWJvdHRvbS1sZWZ0LWJvcmRlci1yYWRpdXNcIjppbnN0Lm9wdGlvbnMuYm9yZGVycmFkaXVzK1wicHhcIixcImJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzXCI6aW5zdC5vcHRpb25zLmJvcmRlcnJhZGl1cytcInB4XCIsXCItbW96LWJvdHRvbS1yaWdodC1ib3JkZXItcmFkaXVzXCI6aW5zdC5vcHRpb25zLmJvcmRlcnJhZGl1cytcInB4XCIsXCItd2Via2l0LWJvdHRvbS1yaWdodC1ib3JkZXItcmFkaXVzXCI6aW5zdC5vcHRpb25zLmJvcmRlcnJhZGl1cytcInB4XCJ9KX19aWYoaW5zdC5vcHRpb25zLnRpdGxlc3R5bGU9PVwicmlnaHRcInx8aW5zdC5vcHRpb25zLnRpdGxlc3R5bGU9PVwibGVmdFwiKXtpbnN0LiRsaWdodGJveEJveC5jc3Moe1wiYmFja2dyb3VuZC1jb2xvclwiOmluc3Qub3B0aW9ucy5iZ2NvbG9yfSk7aWYoaW5zdC5vcHRpb25zLnRpdGxlc3R5bGU9PVwicmlnaHRcIil7aW5zdC4kZWxlbVdyYXAuY3NzKHtwb3NpdGlvbjpcInJlbGF0aXZlXCIsXHJcblwiZmxvYXRcIjpcImxlZnRcIn0pO2luc3QuJGVsZW1EYXRhLmNzcyh7cG9zaXRpb246XCJyZWxhdGl2ZVwiLG92ZXJmbG93OlwiaGlkZGVuXCIscGFkZGluZzppbnN0Lm9wdGlvbnMuYm9yZGVyc2l6ZStcInB4XCJ9KX1lbHNle2luc3QuJGVsZW1XcmFwLmNzcyh7cG9zaXRpb246XCJyZWxhdGl2ZVwiLG92ZXJmbG93OlwiaGlkZGVuXCJ9KTtpbnN0LiRlbGVtRGF0YS5jc3Moe3Bvc2l0aW9uOlwicmVsYXRpdmVcIixcImZsb2F0XCI6XCJsZWZ0XCIscGFkZGluZzppbnN0Lm9wdGlvbnMuYm9yZGVyc2l6ZStcInB4XCJ9KX19ZWxzZSBpZihpbnN0Lm9wdGlvbnMudGl0bGVzdHlsZT09XCJpbnNpZGVcIil7aW5zdC4kZWxlbURhdGEuY3NzKHtwb3NpdGlvbjpcImFic29sdXRlXCIsbWFyZ2luOjAscGFkZGluZzowLGJvdHRvbTppbnN0Lm9wdGlvbnMuYm9yZGVyc2l6ZStcInB4XCIsbGVmdDppbnN0Lm9wdGlvbnMuYm9yZGVyc2l6ZStcInB4XCIscmlnaHQ6aW5zdC5vcHRpb25zLmJvcmRlcnNpemUrXCJweFwiLFwiYmFja2dyb3VuZC1jb2xvclwiOlwiIzMzM1wiLFxyXG5cImJhY2tncm91bmQtY29sb3JcIjpcInJnYmEoNTEsIDUxLCA1MSwgMC42KVwifSk7aWYoaW5zdC5vcHRpb25zLnNob3dvbm1vdXNlb3Zlcmluc2lkZSlpbnN0LiRlbGVtRGF0YS5jc3Moe29wYWNpdHk6MH0pO2luc3QuJHRleHQuY3NzKHtwYWRkaW5nOmluc3Qub3B0aW9ucy5ib3JkZXJzaXplK1wicHggXCIrMippbnN0Lm9wdGlvbnMuYm9yZGVyc2l6ZStcInB4XCJ9KX1lbHNlIGlmKGluc3Qub3B0aW9ucy50aXRsZXN0eWxlPT1cIm91dHNpZGVcIilpbnN0LiRlbGVtRGF0YS5jc3Moe3Bvc2l0aW9uOlwicmVsYXRpdmVcIix3aWR0aDpcIjEwMCVcIixoZWlnaHQ6XCJhdXRvXCJ9KTtlbHNle2luc3QuJGVsZW1EYXRhLmNzcyh7cG9zaXRpb246XCJyZWxhdGl2ZVwiLHdpZHRoOlwiMTAwJVwiLGhlaWdodDppbnN0Lm9wdGlvbnMuYmFyYXV0b2hlaWdodD9cImF1dG9cIjppbnN0Lm9wdGlvbnMuYmFyaGVpZ2h0K1wicHhcIixcInBhZGRpbmdcIjpcIjAgMCBcIitpbnN0Lm9wdGlvbnMuYm9yZGVyc2l6ZStcInB4XCIrXCIgMFwiLFwiYmFja2dyb3VuZC1jb2xvclwiOmluc3Qub3B0aW9ucy5iZ2NvbG9yLFxyXG5cInRleHQtYWxpZ25cIjpcImxlZnRcIn0pO2lmKCFpbnN0Lm9wdGlvbnMuZnVsbHNjcmVlbm1vZGV8fCFpbnN0Lm9wdGlvbnMuZnVsbHNjcmVlbm5vbWFyZ2luKWluc3QuJHRleHQuY3NzKHtcIm1hcmdpblwiOlwiMCBcIitpbnN0Lm9wdGlvbnMuYm9yZGVyc2l6ZStcInB4XCJ9KX1pZihpbnN0Lm9wdGlvbnMuc2hvd3NvY2lhbCl7dmFyIHNvY2lhbENvZGU9JzxkaXYgaWQ9XCJodG1sNS1zb2NpYWxcIiBzdHlsZT1cImRpc3BsYXk6bm9uZTsnK2luc3Qub3B0aW9ucy5zb2NpYWxwb3NpdGlvbisnXCI+Jzt2YXIgc29jaWFsQnRuQ1NTPShpbnN0Lm9wdGlvbnMuc29jaWFsZGlyZWN0aW9uPT1cImhvcml6b250YWxcIj9cImRpc3BsYXk6aW5saW5lLWJsb2NrO1wiOlwiZGlzcGxheTpibG9jaztcIikrXCJtYXJnaW46NHB4O1wiO3ZhciBzb2NpYWxDU1M9XCJkaXNwbGF5OnRhYmxlLWNlbGw7d2lkdGg6XCIraW5zdC5vcHRpb25zLnNvY2lhbGJ1dHRvbnNpemUrXCJweDtoZWlnaHQ6XCIraW5zdC5vcHRpb25zLnNvY2lhbGJ1dHRvbnNpemUrXHJcblwicHg7Zm9udC1zaXplOlwiK2luc3Qub3B0aW9ucy5zb2NpYWxidXR0b25mb250c2l6ZStcInB4O2JvcmRlci1yYWRpdXM6NTAlO2NvbG9yOiNmZmY7dmVydGljYWwtYWxpZ246bWlkZGxlO3RleHQtYWxpZ246Y2VudGVyO2N1cnNvcjpwb2ludGVyO3BhZGRpbmc6MDtcIjtpZihpbnN0Lm9wdGlvbnMuc2hvd2VtYWlsKXNvY2lhbENvZGUrPSc8ZGl2IGNsYXNzPVwiaHRtbDUtc29jaWFsLWJ0bicrKGluc3Qub3B0aW9ucy5zb2NpYWxyb3RhdGVlZmZlY3Q/XCIgaHRtbDUtcm90YXRlXCI6XCJcIikrJyBodG1sNS1zb2NpYWwtZW1haWxcIiBzdHlsZT1cIicrc29jaWFsQnRuQ1NTKydcIj48ZGl2IGNsYXNzPVwibWgtaWNvbi1tYWlsXCIgc3R5bGU9XCInK3NvY2lhbENTUysnYmFja2dyb3VuZC1jb2xvcjojNGQ4M2ZmO1wiPjwvZGl2PjwvZGl2Pic7aWYoaW5zdC5vcHRpb25zLnNob3dmYWNlYm9vaylzb2NpYWxDb2RlKz0nPGRpdiBjbGFzcz1cImh0bWw1LXNvY2lhbC1idG4nKyhpbnN0Lm9wdGlvbnMuc29jaWFscm90YXRlZWZmZWN0P1xyXG5cIiBodG1sNS1yb3RhdGVcIjpcIlwiKSsnIGh0bWw1LXNvY2lhbC1mYWNlYm9va1wiIHN0eWxlPVwiJytzb2NpYWxCdG5DU1MrJ1wiPjxkaXYgY2xhc3M9XCJtaC1pY29uLWZhY2Vib29rXCIgc3R5bGU9XCInK3NvY2lhbENTUysnYmFja2dyb3VuZC1jb2xvcjojM2I1OTk4O1wiPjwvZGl2PjwvZGl2Pic7aWYoaW5zdC5vcHRpb25zLnNob3d0d2l0dGVyKXNvY2lhbENvZGUrPSc8ZGl2IGNsYXNzPVwiaHRtbDUtc29jaWFsLWJ0bicrKGluc3Qub3B0aW9ucy5zb2NpYWxyb3RhdGVlZmZlY3Q/XCIgaHRtbDUtcm90YXRlXCI6XCJcIikrJyBodG1sNS1zb2NpYWwtdHdpdHRlclwiIHN0eWxlPVwiJytzb2NpYWxCdG5DU1MrJ1wiPjxkaXYgY2xhc3M9XCJtaC1pY29uLXR3aXR0ZXJcIiBzdHlsZT1cIicrc29jaWFsQ1NTKydiYWNrZ3JvdW5kLWNvbG9yOiMwM2IzZWU7XCI+PC9kaXY+PC9kaXY+JztpZihpbnN0Lm9wdGlvbnMuc2hvd3BpbnRlcmVzdClzb2NpYWxDb2RlKz0nPGRpdiBjbGFzcz1cImh0bWw1LXNvY2lhbC1idG4nKyhpbnN0Lm9wdGlvbnMuc29jaWFscm90YXRlZWZmZWN0P1xyXG5cIiBodG1sNS1yb3RhdGVcIjpcIlwiKSsnIGh0bWw1LXNvY2lhbC1waW50ZXJlc3RcIiBzdHlsZT1cIicrc29jaWFsQnRuQ1NTKydcIj48ZGl2IGNsYXNzPVwibWgtaWNvbi1waW50ZXJlc3RcIiBzdHlsZT1cIicrc29jaWFsQ1NTKydiYWNrZ3JvdW5kLWNvbG9yOiNjOTIyMjg7XCI+PC9kaXY+PC9kaXY+Jztzb2NpYWxDb2RlKz0nPGRpdiBzdHlsZT1cImNsZWFyOmJvdGg7XCI+PC9kaXY+PC9kaXY+JztpbnN0LiRsaWdodGJveEJveC5hcHBlbmQoc29jaWFsQ29kZSk7JChcIi5odG1sNS1zb2NpYWwtYnRuXCIsaW5zdC4kbGlnaHRib3gpLmNsaWNrKGZ1bmN0aW9uKCl7dmFyIHNoYXJlVXJsPXdpbmRvdy5sb2NhdGlvbi5ocmVmKyh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKFwiP1wiKTwwP1wiP1wiOlwiJlwiKStcImh0bWw1bGlnaHRib3hzaGFyZT1cIitlbmNvZGVVUklDb21wb25lbnQoaW5zdC5jdXJyZW50RWxlbVtFTEVNX0hSRUZdKTt2YXIgc2hhcmVUaXRsZT1pbnN0LmN1cnJlbnRFbGVtW0VMRU1fVElUTEVdO1xyXG52YXIgc2hhcmVNZWRpYT1pbnN0LmN1cnJlbnRFbGVtW0VMRU1fSFJFRl07aWYoaW5zdC5jdXJyZW50RWxlbVtFTEVNX1RZUEVdPT0wKXNoYXJlTWVkaWE9aW5zdC5hYnNvbHV0ZVVybChpbnN0LmN1cnJlbnRFbGVtW0VMRU1fSFJFRl0pO2Vsc2UgaWYoaW5zdC5jdXJyZW50RWxlbVtFTEVNX1RZUEVdPT0zKXNoYXJlTWVkaWE9XCJodHRwczovL2ltZy55b3V0dWJlLmNvbS92aS9cIitpbnN0LmdldFlvdXR1YmVJZChpbnN0LmN1cnJlbnRFbGVtW0VMRU1fSFJFRl0pK1wiLzAuanBnXCI7ZWxzZXt2YXIgbGlnaHRib3hMaW5rPSQoJy5odG1sNWxpZ2h0Ym94W2hyZWY9XCInK2luc3QuY3VycmVudEVsZW1bRUxFTV9IUkVGXSsnXCJdJyk7aWYobGlnaHRib3hMaW5rLmxlbmd0aD4wKWlmKGxpZ2h0Ym94TGluay5kYXRhKFwic2hhcmVpbWFnZVwiKSYmbGlnaHRib3hMaW5rLmRhdGEoXCJzaGFyZWltYWdlXCIpLmxlbmd0aD4wKXNoYXJlTWVkaWE9aW5zdC5hYnNvbHV0ZVVybChsaWdodGJveExpbmsuZGF0YShcInNoYXJlaW1hZ2VcIikpO1xyXG5lbHNlIGlmKGxpZ2h0Ym94TGluay5kYXRhKFwidGh1bWJuYWlsXCIpJiZsaWdodGJveExpbmsuZGF0YShcInRodW1ibmFpbFwiKS5sZW5ndGg+MClzaGFyZU1lZGlhPWluc3QuYWJzb2x1dGVVcmwobGlnaHRib3hMaW5rLmRhdGEoXCJ0aHVtYm5haWxcIikpO2Vsc2V7dmFyIGxpZ2h0Ym94SW1nPSQoXCJpbWdcIixsaWdodGJveExpbmspO2lmKGxpZ2h0Ym94SW1nLmxlbmd0aD4wKXNoYXJlTWVkaWE9aW5zdC5hYnNvbHV0ZVVybChsaWdodGJveEltZy5hdHRyKFwic3JjXCIpKX19dmFyIGlzVmlkZW89aW5zdC5jdXJyZW50RWxlbVtFTEVNX1RZUEVdPT0yfHxpbnN0LmN1cnJlbnRFbGVtW0VMRU1fVFlQRV09PTN8fGluc3QuY3VycmVudEVsZW1bRUxFTV9UWVBFXT09NHx8aW5zdC5jdXJyZW50RWxlbVtFTEVNX1RZUEVdPT04fHxpbnN0LmN1cnJlbnRFbGVtW0VMRU1fVFlQRV09PTl8fGluc3QuY3VycmVudEVsZW1bRUxFTV9UWVBFXT09MTF8fGluc3QuY3VycmVudEVsZW1bRUxFTV9UWVBFXT09MTI7aWYoIXNoYXJlVGl0bGUpc2hhcmVUaXRsZT1cclxuXCJcIjtlbHNlIHNoYXJlVGl0bGU9aW5zdC5odG1sMlRleHQoc2hhcmVUaXRsZSk7aWYoJCh0aGlzKS5oYXNDbGFzcyhcImh0bWw1LXNvY2lhbC1mYWNlYm9va1wiKSl3aW5kb3cub3BlbihcImh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9zaGFyZXIvc2hhcmVyLnBocD91PVwiK2VuY29kZVVSSUNvbXBvbmVudChzaGFyZVVybCkrXCImdD1cIitlbmNvZGVVUklDb21wb25lbnQoc2hhcmVUaXRsZSksXCJfYmxhbmtcIik7ZWxzZSBpZigkKHRoaXMpLmhhc0NsYXNzKFwiaHRtbDUtc29jaWFsLXR3aXR0ZXJcIikpd2luZG93Lm9wZW4oXCJodHRwczovL3R3aXR0ZXIuY29tL3NoYXJlP3VybD1cIitlbmNvZGVVUklDb21wb25lbnQoc2hhcmVVcmwpK1wiJnRleHQ9XCIrZW5jb2RlVVJJQ29tcG9uZW50KHNoYXJlVGl0bGUpLFwiX2JsYW5rXCIpO2Vsc2UgaWYoJCh0aGlzKS5oYXNDbGFzcyhcImh0bWw1LXNvY2lhbC1waW50ZXJlc3RcIikpd2luZG93Lm9wZW4oXCJodHRwczovL3BpbnRlcmVzdC5jb20vcGluL2NyZWF0ZS9ib29rbWFya2xldC8/bWVkaWE9XCIrXHJcbmVuY29kZVVSSUNvbXBvbmVudChzaGFyZU1lZGlhKStcIiZ1cmw9XCIrZW5jb2RlVVJJQ29tcG9uZW50KHNoYXJlVXJsKStcIiZkZXNjcmlwdGlvbj1cIitlbmNvZGVVUklDb21wb25lbnQoc2hhcmVUaXRsZSkrXCImaXNfdmlkZW89XCIrKGlzVmlkZW8/XCJ0cnVlXCI6XCJmYWxzZVwiKSxcIl9ibGFua1wiKTtlbHNlIGlmKCQodGhpcykuaGFzQ2xhc3MoXCJodG1sNS1zb2NpYWwtZW1haWxcIikpd2luZG93Lm9wZW4oXCJtYWlsdG86P3N1YmplY3Q9XCIrZW5jb2RlVVJJQ29tcG9uZW50KHNoYXJlVGl0bGUpK1wiJmJvZHk9Q2hlY2sgb3V0IHRoaXM6IFwiK2VuY29kZVVSSUNvbXBvbmVudChzaGFyZVVybCkpO3JldHVybiBmYWxzZX0pfWlmKGluc3Qub3B0aW9ucy5mdWxsc2NyZWVubW9kZSl7aW5zdC4kbGlnaHRib3guYXBwZW5kKFwiPGRpdiBjbGFzcz0naHRtbDUtbmV4dC1mdWxsc2NyZWVuJyBzdHlsZT0nY3Vyc29yOnBvaW50ZXI7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6XCIraW5zdC5vcHRpb25zLmJvcmRlcnNpemUrXHJcblwicHg7dG9wOjUwJTttYXJnaW4tdG9wOi0xNnB4O3otaW5kZXg6MTsnPjxpbWcgYWx0PScnIHNyYz0nXCIraW5zdC5vcHRpb25zLmZ1bGxzY3JlZW5uZXh0aW1hZ2UrXCInPjwvZGl2PlwiK1wiPGRpdiBjbGFzcz0naHRtbDUtcHJldi1mdWxsc2NyZWVuJyBzdHlsZT0nY3Vyc29yOnBvaW50ZXI7cG9zaXRpb246YWJzb2x1dGU7bGVmdDpcIitpbnN0Lm9wdGlvbnMuYm9yZGVyc2l6ZStcInB4O3RvcDo1MCU7bWFyZ2luLXRvcDotMTZweDt6LWluZGV4OjE7Jz48aW1nIGFsdD0nJyBzcmM9J1wiK2luc3Qub3B0aW9ucy5mdWxsc2NyZWVucHJldmltYWdlK1wiJz48L2Rpdj5cIik7aW5zdC4kbmV4dD0kKFwiLmh0bWw1LW5leHQtZnVsbHNjcmVlblwiLGluc3QuJGxpZ2h0Ym94KTtpbnN0LiRwcmV2PSQoXCIuaHRtbDUtcHJldi1mdWxsc2NyZWVuXCIsaW5zdC4kbGlnaHRib3gpO2luc3QuJGxpZ2h0Ym94Qm94LmFwcGVuZChcIjxkaXYgY2xhc3M9J2h0bWw1LW5leHQtYm90dG9tLWZ1bGxzY3JlZW4nIHN0eWxlPSdjdXJzb3I6cG9pbnRlcjtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MTAwJTtyaWdodDowO21hcmdpbi10b3A6OHB4O3otaW5kZXg6MTsnPjxpbWcgYWx0PScnIHNyYz0nXCIrXHJcbmluc3Qub3B0aW9ucy5mdWxsc2NyZWVubmV4dGltYWdlK1wiJz48L2Rpdj5cIitcIjxkaXYgY2xhc3M9J2h0bWw1LXByZXYtYm90dG9tLWZ1bGxzY3JlZW4nIHN0eWxlPSdjdXJzb3I6cG9pbnRlcjtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MTAwJTtsZWZ0OjA7bWFyZ2luLXRvcDo4cHg7ei1pbmRleDoxOyc+PGltZyBhbHQ9Jycgc3JjPSdcIitpbnN0Lm9wdGlvbnMuZnVsbHNjcmVlbnByZXZpbWFnZStcIic+PC9kaXY+XCIpO2luc3QuJG5leHRib3R0b209JChcIi5odG1sNS1uZXh0LWJvdHRvbS1mdWxsc2NyZWVuXCIsaW5zdC4kbGlnaHRib3gpO2luc3QuJHByZXZib3R0b209JChcIi5odG1sNS1wcmV2LWJvdHRvbS1mdWxsc2NyZWVuXCIsaW5zdC4kbGlnaHRib3gpO2luc3QuJG5leHRib3R0b20uY2xpY2soZnVuY3Rpb24oKXtpbnN0Lm5leHRBcnJvd0NsaWNrZWQoKX0pO2luc3QuJHByZXZib3R0b20uY2xpY2soZnVuY3Rpb24oKXtpbnN0LnByZXZBcnJvd0NsaWNrZWQoKX0pO2luc3QuJGxpZ2h0Ym94LmFwcGVuZChcIjxkaXYgaWQ9J2h0bWw1LWNsb3NlLWZ1bGxzY3JlZW4nIHN0eWxlPSdkaXNwbGF5OmJsb2NrO2N1cnNvcjpwb2ludGVyO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3JpZ2h0OjA7bWFyZ2luLXRvcDowO21hcmdpbi1yaWdodDowOyc+PGltZyBhbHQ9Jycgc3JjPSdcIitcclxuaW5zdC5vcHRpb25zLmZ1bGxzY3JlZW5jbG9zZWltYWdlK1wiJz48L2Rpdj5cIik7aW5zdC4kY2xvc2U9JChcIiNodG1sNS1jbG9zZS1mdWxsc2NyZWVuXCIsaW5zdC4kbGlnaHRib3gpfWVsc2V7aW5zdC4kbGlnaHRib3hCb3guYXBwZW5kKFwiPGRpdiBjbGFzcz0naHRtbDUtbmV4dCcgc3R5bGU9J2Rpc3BsYXk6bm9uZTtjdXJzb3I6cG9pbnRlcjtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDpcIitpbnN0Lm9wdGlvbnMuYm9yZGVyc2l6ZStcInB4O3RvcDo1MCU7bWFyZ2luLXRvcDotMzJweDt6LWluZGV4OjE7Jz48aW1nIGFsdD0nJyBzcmM9J1wiK2luc3Qub3B0aW9ucy5uZXh0aW1hZ2UrXCInPjwvZGl2PlwiK1wiPGRpdiBjbGFzcz0naHRtbDUtcHJldicgc3R5bGU9J2Rpc3BsYXk6bm9uZTtjdXJzb3I6cG9pbnRlcjtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OlwiK2luc3Qub3B0aW9ucy5ib3JkZXJzaXplK1wicHg7dG9wOjUwJTttYXJnaW4tdG9wOi0zMnB4O3otaW5kZXg6MTsnPjxpbWcgYWx0PScnIHNyYz0nXCIrXHJcbmluc3Qub3B0aW9ucy5wcmV2aW1hZ2UrXCInPjwvZGl2PlwiKTtpbnN0LiRuZXh0PSQoXCIuaHRtbDUtbmV4dFwiLGluc3QuJGxpZ2h0Ym94KTtpbnN0LiRwcmV2PSQoXCIuaHRtbDUtcHJldlwiLGluc3QuJGxpZ2h0Ym94KTtpZihpbnN0Lm9wdGlvbnMuaXNUb3VjaCYmaW5zdC5vcHRpb25zLm5hdmFycm93c2Fsd2F5c3Nob3dvbnRvdWNofHxpbnN0Lm9wdGlvbnMuYWx3YXlzc2hvd25hdmFycm93cyl7aW5zdC4kbGlnaHRib3hCb3guYXBwZW5kKFwiPGRpdiBjbGFzcz0naHRtbDUtbmV4dC10b3VjaCcgc3R5bGU9J2Rpc3BsYXk6YmxvY2s7Y3Vyc29yOnBvaW50ZXI7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoxOyc+PGltZyBhbHQ9Jycgc3JjPSdcIitpbnN0Lm9wdGlvbnMubmV4dGltYWdlK1wiJz48L2Rpdj5cIitcIjxkaXYgY2xhc3M9J2h0bWw1LXByZXYtdG91Y2gnIHN0eWxlPSdkaXNwbGF5OmJsb2NrO2N1cnNvcjpwb2ludGVyO3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MTsnPjxpbWcgYWx0PScnIHNyYz0nXCIrXHJcbmluc3Qub3B0aW9ucy5wcmV2aW1hZ2UrXCInPjwvZGl2PlwiKTtpbnN0LiRuZXh0dG91Y2g9JChcIi5odG1sNS1uZXh0LXRvdWNoXCIsaW5zdC4kbGlnaHRib3gpO2luc3QuJHByZXZ0b3VjaD0kKFwiLmh0bWw1LXByZXYtdG91Y2hcIixpbnN0LiRsaWdodGJveCk7aW5zdC4kbmV4dHRvdWNoLmNsaWNrKGZ1bmN0aW9uKCl7aW5zdC5uZXh0QXJyb3dDbGlja2VkKCl9KTtpbnN0LiRwcmV2dG91Y2guY2xpY2soZnVuY3Rpb24oKXtpbnN0LnByZXZBcnJvd0NsaWNrZWQoKX0pfWluc3QuJGxpZ2h0Ym94Qm94LmFwcGVuZChcIjxkaXYgaWQ9J2h0bWw1LWNsb3NlJyBzdHlsZT0nZGlzcGxheTpub25lO2N1cnNvcjpwb2ludGVyO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3JpZ2h0OjA7bWFyZ2luLXRvcDotMTZweDttYXJnaW4tcmlnaHQ6LTE2cHg7Jz48aW1nIGFsdD0nJyBzcmM9J1wiK2luc3Qub3B0aW9ucy5jbG9zZWltYWdlK1wiJz48L2Rpdj5cIik7aW5zdC4kY2xvc2U9JChcIiNodG1sNS1jbG9zZVwiLGluc3QuJGxpZ2h0Ym94KX1pZihpbnN0Lm9wdGlvbnMudGl0bGVzdHlsZT09XHJcblwiaW5zaWRlXCImJmluc3Qub3B0aW9ucy5zaG93b25tb3VzZW92ZXJpbnNpZGUpaW5zdC4kbGlnaHRib3hCb3guaG92ZXIoZnVuY3Rpb24oKXtpZihpbnN0LmN1cnJlbnRFbGVtW0VMRU1fVFlQRV09PTB8fCFpbnN0Lm9wdGlvbnMuc2hvd2luc2lkZXRpdGxlZm9yaW1hZ2Vvbmx5KWluc3QuJGVsZW1EYXRhLmFuaW1hdGUoe29wYWNpdHk6MX0sNDAwKX0sZnVuY3Rpb24oKXtpbnN0LiRlbGVtRGF0YS5hbmltYXRlKHtvcGFjaXR5OjB9LDQwMCl9KTtpbnN0LiR3YXRlcm1hcms9JChcIiNodG1sNS13YXRlcm1hcmtcIixpbnN0LiRsaWdodGJveCk7aWYoaW5zdC5vcHRpb25zLnN0YW1wKWluc3QuJHdhdGVybWFyay5odG1sKFwiPGEgaHJlZj0nXCIraW5zdC5vcHRpb25zLmZyZWVsaW5rK1wiJyBzdHlsZT0ndGV4dC1kZWNvcmF0aW9uOm5vbmU7JyB0aXRsZT0nalF1ZXJ5IExpZ2h0Ym94Jz48ZGl2IHN0eWxlPSdkaXNwbGF5OmJsb2NrO3dpZHRoOjE3MHB4O2hlaWdodDoyMHB4O3RleHQtYWxpZ246Y2VudGVyO2JvcmRlci1yYWRpdXM6M3B4Oy1tb3otYm9yZGVyLXJhZGl1czozcHg7LXdlYmtpdC1ib3JkZXItcmFkaXVzOjNweDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Y29sb3I6IzMzMztmb250OjEycHggQXJpYWwsc2Fucy1zZXJpZjsnPjxkaXYgc3R5bGU9J2xpbmUtaGVpZ2h0OjIwcHg7Jz5cIitcclxuaW5zdC5vcHRpb25zLmZyZWVtYXJrK1wiPC9kaXY+PC9kaXY+PC9hPlwiKTtlbHNlIGlmKGluc3Qub3B0aW9ucy53YXRlcm1hcmspe3ZhciBodG1sPVwiPGltZyBhbHQ9Jycgc3JjPSdcIitpbnN0Lm9wdGlvbnMud2F0ZXJtYXJrK1wiJyBzdHlsZT0nYm9yZGVyOm5vbmU7JyAvPlwiO2lmKGluc3Qub3B0aW9ucy53YXRlcm1hcmtsaW5rKWh0bWw9XCI8YSBocmVmPSdcIitpbnN0Lm9wdGlvbnMud2F0ZXJtYXJrbGluaytcIicgdGFyZ2V0PSdfYmxhbmsnPlwiK2h0bWwrXCI8L2E+XCI7aW5zdC4kd2F0ZXJtYXJrLmh0bWwoaHRtbCl9aWYoaW5zdC5vcHRpb25zLmNsb3Nlb25vdmVybGF5KSQoXCIjaHRtbDUtbGlnaHRib3gtb3ZlcmxheVwiLGluc3QuJGxpZ2h0Ym94KS5jbGljayhpbnN0LmZpbmlzaCk7aW5zdC4kY2xvc2UuY2xpY2soaW5zdC5maW5pc2gpO2luc3QuJG5leHQuY2xpY2soZnVuY3Rpb24oKXtpbnN0Lm5leHRBcnJvd0NsaWNrZWQoKX0pO2luc3QuJHByZXYuY2xpY2soZnVuY3Rpb24oKXtpbnN0LnByZXZBcnJvd0NsaWNrZWQoKX0pO1xyXG4kKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCl7aWYoaW5zdC5vcHRpb25zLmlzSU9TJiYhaW5zdC5vcHRpb25zLm1vYmlsZXJlc2l6ZWV2ZW50KXJldHVybjtjbGVhclRpbWVvdXQoaW5zdC5vcHRpb25zLnJlc2l6ZVRpbWVvdXQpO2luc3Qub3B0aW9ucy5yZXNpemVUaW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtpbnN0LnJlc2l6ZVdpbmRvdygpfSxpbnN0Lm9wdGlvbnMucmVzaXplZGVsYXkpfSk7JCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpe2lmKGluc3Qub3B0aW9ucy5pc0lPUyYmIWluc3Qub3B0aW9ucy5tb2JpbGVyZXNpemVldmVudClyZXR1cm47aW5zdC5zY3JvbGxCb3goKX0pOyQod2luZG93KS5vbihcIm9yaWVudGF0aW9uY2hhbmdlXCIsZnVuY3Rpb24oZSl7aWYoaW5zdC5vcHRpb25zLmlzTW9iaWxlKXtjbGVhclRpbWVvdXQoaW5zdC5vcHRpb25zLnJlc2l6ZVRpbWVvdXQpO2luc3Qub3B0aW9ucy5yZXNpemVUaW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtpbnN0LnJlc2l6ZVdpbmRvdygpfSxcclxuaW5zdC5vcHRpb25zLnJlc2l6ZWRlbGF5KX19KTtpZihpbnN0Lm9wdGlvbnMuZW5hYmxldG91Y2hzd2lwZSlpbnN0LmVuYWJsZVN3aXBlKCl9O2luc3QuaHRtbDJUZXh0PWZ1bmN0aW9uKGh0bWwpe3ZhciB0YWc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0YWcuaW5uZXJIVE1MPWh0bWw7cmV0dXJuIHRhZy5pbm5lclRleHR9O2luc3Quc2xpZGVUaW1lcj1mdW5jdGlvbihpbnRlcnZhbCxjYWxsYmFjayx1cGRhdGVjYWxsYmFjayl7dmFyIHRpbWVySW5zdGFuY2U9dGhpczt0aW1lckluc3RhbmNlLnRpbWVvdXQ9aW50ZXJ2YWw7dmFyIHVwZGF0ZWludGVydmFsPTUwO3ZhciB1cGRhdGVUaW1lcklkPW51bGw7dmFyIHJ1bm5pbmdUaW1lPTA7dmFyIHBhdXNlZD1mYWxzZTt2YXIgc3RhcnRlZD1mYWxzZTt2YXIgc3RhcnRlZGFuZHBhdXNlZD1mYWxzZTt0aGlzLnBhdXNlPWZ1bmN0aW9uKCl7aWYoc3RhcnRlZCl7cGF1c2VkPXRydWU7Y2xlYXJJbnRlcnZhbCh1cGRhdGVUaW1lcklkKX19O1xyXG50aGlzLnJlc3VtZT1mdW5jdGlvbihmb3JjZXJlc3VtZSl7aWYoc3RhcnRlZGFuZHBhdXNlZCYmIWZvcmNlcmVzdW1lKXJldHVybjtzdGFydGVkYW5kcGF1c2VkPWZhbHNlO2lmKHN0YXJ0ZWQmJnBhdXNlZCl7cGF1c2VkPWZhbHNlO3VwZGF0ZVRpbWVySWQ9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtydW5uaW5nVGltZSs9dXBkYXRlaW50ZXJ2YWw7aWYocnVubmluZ1RpbWU+dGltZXJJbnN0YW5jZS50aW1lb3V0KXtjbGVhckludGVydmFsKHVwZGF0ZVRpbWVySWQpO2lmKGNhbGxiYWNrKWNhbGxiYWNrKCl9aWYodXBkYXRlY2FsbGJhY2spdXBkYXRlY2FsbGJhY2socnVubmluZ1RpbWUvdGltZXJJbnN0YW5jZS50aW1lb3V0KX0sdXBkYXRlaW50ZXJ2YWwpfX07dGhpcy5zdG9wPWZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbCh1cGRhdGVUaW1lcklkKTtpZih1cGRhdGVjYWxsYmFjayl1cGRhdGVjYWxsYmFjaygtMSk7cnVubmluZ1RpbWU9MDtwYXVzZWQ9ZmFsc2U7c3RhcnRlZD1mYWxzZX07XHJcbnRoaXMuc3RhcnQ9ZnVuY3Rpb24oKXtydW5uaW5nVGltZT0wO3BhdXNlZD1mYWxzZTtzdGFydGVkPXRydWU7dXBkYXRlVGltZXJJZD1zZXRJbnRlcnZhbChmdW5jdGlvbigpe3J1bm5pbmdUaW1lKz11cGRhdGVpbnRlcnZhbDtpZihydW5uaW5nVGltZT50aW1lckluc3RhbmNlLnRpbWVvdXQpe2NsZWFySW50ZXJ2YWwodXBkYXRlVGltZXJJZCk7aWYoY2FsbGJhY2spY2FsbGJhY2soKX1pZih1cGRhdGVjYWxsYmFjayl1cGRhdGVjYWxsYmFjayhydW5uaW5nVGltZS90aW1lckluc3RhbmNlLnRpbWVvdXQpfSx1cGRhdGVpbnRlcnZhbCl9O3RoaXMuc3RhcnRhbmRwYXVzZT1mdW5jdGlvbigpe3J1bm5pbmdUaW1lPTA7cGF1c2VkPXRydWU7c3RhcnRlZD10cnVlO3N0YXJ0ZWRhbmRwYXVzZWQ9dHJ1ZX07cmV0dXJuIHRoaXN9O2luc3QudXBkYXRlVGltZXI9ZnVuY3Rpb24ocGVyY2VudCl7dmFyIHc9TWF0aC5yb3VuZChwZXJjZW50KjEwMCk7aWYodz4xMDApdz0xMDA7aWYodzwwKXc9MDskKFwiLmh0bWw1LXRpbWVyXCIsXHJcbmluc3QuJGxpZ2h0Ym94KS5jc3Moe2Rpc3BsYXk6XCJibG9ja1wiLHdpZHRoOncrXCIlXCJ9KX07aW5zdC5pbml0U2xpZGU9ZnVuY3Rpb24oKXtpbnN0LmF1dG9zbGlkaW5nPWZhbHNlO2luc3Quc2xpZGVUaW1lb3V0PWluc3Quc2xpZGVUaW1lcihpbnN0Lm9wdGlvbnMuc2xpZGVpbnRlcnZhbCxmdW5jdGlvbigpe2luc3QuZ290b1NsaWRlKC0xKX0saW5zdC5vcHRpb25zLnNob3d0aW1lcj9mdW5jdGlvbihwZXJjZW50KXtpbnN0LnVwZGF0ZVRpbWVyKHBlcmNlbnQpfTpudWxsKTtpZihpbnN0Lm9wdGlvbnMuYXV0b3NsaWRlKXtpbnN0LnNsaWRlVGltZW91dC5zdG9wKCk7aW5zdC5hdXRvc2xpZGluZz10cnVlfX07aW5zdC5uZXh0QXJyb3dDbGlja2VkPWZ1bmN0aW9uKCl7aWYoaW5zdC5vcHRpb25zLm5leHRFbGVtPD1pbnN0Lm9wdGlvbnMuY3VyRWxlbSlpZihpbnN0Lm9wdGlvbnMub25sYXN0YXJyb3djbGlja2VkJiZ3aW5kb3dbaW5zdC5vcHRpb25zLm9ubGFzdGFycm93Y2xpY2tlZF0mJnR5cGVvZiB3aW5kb3dbaW5zdC5vcHRpb25zLm9ubGFzdGFycm93Y2xpY2tlZF09PVxyXG5cImZ1bmN0aW9uXCIpd2luZG93W2luc3Qub3B0aW9ucy5vbmxhc3RhcnJvd2NsaWNrZWRdKCk7aW5zdC5nb3RvU2xpZGUoLTEpfTtpbnN0LnByZXZBcnJvd0NsaWNrZWQ9ZnVuY3Rpb24oKXtpZihpbnN0Lm9wdGlvbnMucHJldkVsZW0+PWluc3Qub3B0aW9ucy5jdXJFbGVtKWlmKGluc3Qub3B0aW9ucy5vbmZpcnN0YXJyb3djbGlja2VkJiZ3aW5kb3dbaW5zdC5vcHRpb25zLm9uZmlyc3RhcnJvd2NsaWNrZWRdJiZ0eXBlb2Ygd2luZG93W2luc3Qub3B0aW9ucy5vbmZpcnN0YXJyb3djbGlja2VkXT09XCJmdW5jdGlvblwiKXdpbmRvd1tpbnN0Lm9wdGlvbnMub25maXJzdGFycm93Y2xpY2tlZF0oKTtpbnN0LmdvdG9TbGlkZSgtMil9O2luc3QuY2FsY05leHRQcmV2RWxlbT1mdW5jdGlvbigpe2luc3Qub3B0aW9ucy5uZXh0RWxlbT0tMTtpbnN0Lm9wdGlvbnMucHJldkVsZW09LTE7aW5zdC5vcHRpb25zLmluR3JvdXA9ZmFsc2U7aW5zdC5vcHRpb25zLmdyb3VwSW5kZXg9MDtpbnN0Lm9wdGlvbnMuZ3JvdXBDb3VudD1cclxuMDt2YXIgZ3JvdXA9aW5zdC5lbGVtQXJyYXlbaW5zdC5vcHRpb25zLmN1ckVsZW1dW0VMRU1fR1JPVVBdO2Zvcih2YXIgaT0wO2k8aW5zdC5lbGVtQXJyYXkubGVuZ3RoO2krKylpZihpbnN0Lm1hdGNoR3JvdXAoZ3JvdXAsaW5zdC5lbGVtQXJyYXlbaV1bRUxFTV9HUk9VUF0pKXtpZihpPT1pbnN0Lm9wdGlvbnMuY3VyRWxlbSlpbnN0Lm9wdGlvbnMuZ3JvdXBJbmRleD1pbnN0Lm9wdGlvbnMuZ3JvdXBDb3VudDtpbnN0Lm9wdGlvbnMuZ3JvdXBDb3VudCsrfXZhciBqLGN1ckdyb3VwPWluc3QuZWxlbUFycmF5W2luc3Qub3B0aW9ucy5jdXJFbGVtXVtFTEVNX0dST1VQXTtpZihjdXJHcm91cCE9dW5kZWZpbmVkJiZjdXJHcm91cCE9bnVsbCl7Zm9yKGo9aW5zdC5vcHRpb25zLmN1ckVsZW0rMTtqPGluc3QuZWxlbUFycmF5Lmxlbmd0aDtqKyspaWYoaW5zdC5tYXRjaEdyb3VwKGN1ckdyb3VwLGluc3QuZWxlbUFycmF5W2pdW0VMRU1fR1JPVVBdKSl7aW5zdC5vcHRpb25zLm5leHRFbGVtPVxyXG5qO2JyZWFrfWlmKGluc3Qub3B0aW9ucy5uZXh0RWxlbTwwKWZvcihqPTA7ajxpbnN0Lm9wdGlvbnMuY3VyRWxlbTtqKyspaWYoaW5zdC5tYXRjaEdyb3VwKGN1ckdyb3VwLGluc3QuZWxlbUFycmF5W2pdW0VMRU1fR1JPVVBdKSl7aW5zdC5vcHRpb25zLm5leHRFbGVtPWo7YnJlYWt9aWYoaW5zdC5vcHRpb25zLm5leHRFbGVtPj0wKXtmb3Ioaj1pbnN0Lm9wdGlvbnMuY3VyRWxlbS0xO2o+PTA7ai0tKWlmKGluc3QubWF0Y2hHcm91cChjdXJHcm91cCxpbnN0LmVsZW1BcnJheVtqXVtFTEVNX0dST1VQXSkpe2luc3Qub3B0aW9ucy5wcmV2RWxlbT1qO2JyZWFrfWlmKGluc3Qub3B0aW9ucy5wcmV2RWxlbTwwKWZvcihqPWluc3QuZWxlbUFycmF5Lmxlbmd0aC0xO2o+aW5zdC5vcHRpb25zLmN1ckVsZW07ai0tKWlmKGluc3QubWF0Y2hHcm91cChjdXJHcm91cCxpbnN0LmVsZW1BcnJheVtqXVtFTEVNX0dST1VQXSkpe2luc3Qub3B0aW9ucy5wcmV2RWxlbT1qO2JyZWFrfX19aWYoaW5zdC5vcHRpb25zLm5leHRFbGVtPj1cclxuMHx8aW5zdC5vcHRpb25zLnByZXZFbGVtPj0wKWluc3Qub3B0aW9ucy5pbkdyb3VwPXRydWV9O2luc3QuY2FsY0JveFBvc2l0aW9uPWZ1bmN0aW9uKGluaXRXLGluaXRIKXt2YXIgYm94Vz1pbml0VysyKmluc3Qub3B0aW9ucy5ib3JkZXJzaXplO3ZhciBib3hIPWluaXRIKzIqaW5zdC5vcHRpb25zLmJvcmRlcnNpemU7dmFyIG5hdkg9aW5zdC5vcHRpb25zLnNob3duYXZpZ2F0aW9uJiZpbnN0Lm5hdnZpc2libGU/aW5zdC5vcHRpb25zLm5hdmhlaWdodDowO3ZhciB3aW5IPSQod2luZG93KS5oZWlnaHQoKTt2YXIgYm94VD1NYXRoLnJvdW5kKCh3aW5ILW5hdkgpLzItYm94SC8yKTtpZihpbnN0Lm9wdGlvbnMudGl0bGVzdHlsZT09XCJib3R0b21cIilib3hULT1NYXRoLnJvdW5kKGluc3Qub3B0aW9ucy5iYXJoZWlnaHQvMik7dmFyIHRvcG1hcmdpbj0kKHdpbmRvdykuaGVpZ2h0KCk8aW5zdC5vcHRpb25zLnNtYWxsc2NyZWVuaGVpZ2h0P2luc3Qub3B0aW9ucy5ib3JkZXJ0b3BtYXJnaW5zbWFsbDpcclxuaW5zdC5vcHRpb25zLmJvcmRlcnRvcG1hcmdpbjtpZihib3hUPHRvcG1hcmdpbilib3hUPXRvcG1hcmdpbjtpZihpbnN0Lm9wdGlvbnMuaW5zaWRlaWZyYW1lJiZ3aW5kb3cuc2VsZiE9d2luZG93LnRvcClpZihwYXJlbnQud2luZG93LmpRdWVyeSYmcGFyZW50LndpbmRvdy5qUXVlcnkoXCIjXCIraW5zdC5vcHRpb25zLmlmcmFtZWlkKS5sZW5ndGgpe3ZhciBpZnJhbWV0b3A9cGFyZW50LndpbmRvdy5qUXVlcnkoXCIjXCIraW5zdC5vcHRpb25zLmlmcmFtZWlkKS5vZmZzZXQoKS50b3A7dmFyIHBhcmVudHNjcm9sbD1wYXJlbnQud2luZG93LmRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wO2JveFQ9dG9wbWFyZ2luO2JveFQrPXBhcmVudHNjcm9sbD5pZnJhbWV0b3A/cGFyZW50c2Nyb2xsLWlmcmFtZXRvcDowfXJldHVybltib3hXLGJveEgsYm94VF19O2luc3QuaGlkZU5hdkFycm93cz1mdW5jdGlvbigpe3ZhciBzaG93UHJldj1mYWxzZTt2YXIgc2hvd05leHQ9ZmFsc2U7aWYoaW5zdC5vcHRpb25zLmluR3JvdXApe2lmKGluc3Qub3B0aW9ucy5hcnJvd2xvb3B8fFxyXG4haW5zdC5vcHRpb25zLmFycm93bG9vcCYmaW5zdC5vcHRpb25zLnByZXZFbGVtPGluc3Qub3B0aW9ucy5jdXJFbGVtKXNob3dQcmV2PXRydWU7aWYoaW5zdC5vcHRpb25zLmFycm93bG9vcHx8IWluc3Qub3B0aW9ucy5hcnJvd2xvb3AmJmluc3Qub3B0aW9ucy5uZXh0RWxlbT5pbnN0Lm9wdGlvbnMuY3VyRWxlbSlzaG93TmV4dD10cnVlfWlmKHNob3dQcmV2KXtpbnN0LiRwcmV2LnJlbW92ZUNsYXNzKFwiaHRtbDUtaGlkZVwiKTtpZihpbnN0LiRwcmV2Ym90dG9tKWluc3QuJHByZXZib3R0b20ucmVtb3ZlQ2xhc3MoXCJodG1sNS1oaWRlXCIpO2lmKGluc3QuJHByZXZ0b3VjaClpbnN0LiRwcmV2dG91Y2gucmVtb3ZlQ2xhc3MoXCJodG1sNS1oaWRlXCIpfWVsc2V7aW5zdC4kcHJldi5hZGRDbGFzcyhcImh0bWw1LWhpZGVcIik7aWYoaW5zdC4kcHJldmJvdHRvbSlpbnN0LiRwcmV2Ym90dG9tLmFkZENsYXNzKFwiaHRtbDUtaGlkZVwiKTtpZihpbnN0LiRwcmV2dG91Y2gpaW5zdC4kcHJldnRvdWNoLmFkZENsYXNzKFwiaHRtbDUtaGlkZVwiKX1pZihzaG93TmV4dCl7aW5zdC4kbmV4dC5yZW1vdmVDbGFzcyhcImh0bWw1LWhpZGVcIik7XHJcbmlmKGluc3QuJG5leHRib3R0b20paW5zdC4kbmV4dGJvdHRvbS5yZW1vdmVDbGFzcyhcImh0bWw1LWhpZGVcIik7aWYoaW5zdC4kbmV4dHRvdWNoKWluc3QuJG5leHR0b3VjaC5yZW1vdmVDbGFzcyhcImh0bWw1LWhpZGVcIil9ZWxzZXtpbnN0LiRuZXh0LmFkZENsYXNzKFwiaHRtbDUtaGlkZVwiKTtpZihpbnN0LiRuZXh0Ym90dG9tKWluc3QuJG5leHRib3R0b20uYWRkQ2xhc3MoXCJodG1sNS1oaWRlXCIpO2lmKGluc3QuJG5leHR0b3VjaClpbnN0LiRuZXh0dG91Y2guYWRkQ2xhc3MoXCJodG1sNS1oaWRlXCIpfX07aW5zdC5yZXNpemVQb3NpdGlvbkZpeGVkPWZ1bmN0aW9uKCl7aWYoIWluc3Qub3B0aW9ucy5wb3NpdGlvbkZpeGVkKWluc3QuJGxpZ2h0Ym94LmNzcyh7XCJwYWRkaW5nLXRvcFwiOiQod2luZG93KS5zY3JvbGxUb3AoKStcInB4XCIsXCJoZWlnaHRcIjpNYXRoLm1heCgkKGRvY3VtZW50KS5oZWlnaHQoKSwkKHdpbmRvdykuaGVpZ2h0KCkpK1wicHhcIn0pfTtpbnN0LmFkanVzdExpZ2h0Ym94UG9zPVxyXG5mdW5jdGlvbih3LGgpe3ZhciB3aW5XaWR0aD0kKHdpbmRvdykud2lkdGgoKTt2YXIgYm94UG9zPWluc3QuY2FsY0JveFBvc2l0aW9uKHcsaCk7dmFyIGJveFc9Ym94UG9zWzBdO3ZhciBib3hIPWJveFBvc1sxXTt2YXIgYm94VD1ib3hQb3NbMl07aWYoaW5zdC5vcHRpb25zLmllcXVpcmtzbW9kZSlpbnN0LiRsaWdodGJveEJveC5jc3Moe1widG9wXCI6Ym94VH0pO2Vsc2UgaW5zdC4kbGlnaHRib3hCb3guY3NzKHtcIm1hcmdpbi10b3BcIjpib3hUfSk7aW5zdC5yZXNpemVQb3NpdGlvbkZpeGVkKCk7aWYoKGluc3Qub3B0aW9ucy50aXRsZXN0eWxlPT1cImxlZnRcInx8aW5zdC5vcHRpb25zLnRpdGxlc3R5bGU9PVwicmlnaHRcIikmJndpbldpZHRoPmluc3Qub3B0aW9ucy5zaWRldG9ib3R0b21zY3JlZW53aWR0aCl7aW5zdC4kbGlnaHRib3hCb3guY3NzKHtcIndpZHRoXCI6Ym94VyxcImhlaWdodFwiOmJveEh9KTtpbnN0LiRlbGVtV3JhcC5jc3Moe1wid2lkdGhcIjppbnN0Lm9wdGlvbnMuaW1hZ2VwZXJjZW50YWdlK1xyXG5cIiVcIixcImhlaWdodFwiOlwiMTAwJVwifSl9ZWxzZXtpbnN0LiRsaWdodGJveEJveC5jc3Moe1wid2lkdGhcIjpib3hXLFwiaGVpZ2h0XCI6XCJhdXRvXCJ9KTtpbnN0LiRlbGVtV3JhcC5jc3Moe1wid2lkdGhcIjpib3hXLFwiaGVpZ2h0XCI6Ym94SH0pfX07aW5zdC5jbGlja0hhbmRsZXI9ZnVuY3Rpb24oKXt2YXIgJHRoaXM9JCh0aGlzKTt2YXIgZGF0YW9wdGlvbnM9e307JC5lYWNoKCR0aGlzLmRhdGEoKSxmdW5jdGlvbihrZXksdmFsdWUpe2RhdGFvcHRpb25zW2tleS50b0xvd2VyQ2FzZSgpXT12YWx1ZX0pO2luc3Qub3B0aW9ucz0kLmV4dGVuZChpbnN0Lm9wdGlvbnMsaW5zdC5kZWZhdWx0b3B0aW9ucyxkYXRhb3B0aW9ucyk7JCh3aW5kb3cpLnRyaWdnZXIoXCJodG1sNWxpZ2h0Ym94LmxpZ2h0Ym94c2hvd1wiKTtpbnN0LmluaXQoKTtpZihpbnN0LmVsZW1BcnJheS5sZW5ndGg8PTApcmV0dXJuIHRydWU7aW5zdC5oaWRlT2JqZWN0cygpO2Zvcih2YXIgaT0wO2k8aW5zdC5lbGVtQXJyYXkubGVuZ3RoO2krKylpZihpbnN0LmVsZW1BcnJheVtpXVtFTEVNX0hSRUZdPT1cclxuJHRoaXMuYXR0cihcImhyZWZcIikpYnJlYWs7aWYoaT09aW5zdC5lbGVtQXJyYXkubGVuZ3RoKXJldHVybiB0cnVlO2luc3Qub3B0aW9ucy5jdXJFbGVtPWk7aW5zdC5jYWxjTmV4dFByZXZFbGVtKCk7aW5zdC5yZXNldCgpO2luc3QuJGxpZ2h0Ym94LnNob3coKTtpbnN0LmFkanVzdExpZ2h0Ym94UG9zKGluc3Qub3B0aW9ucy5sb2FkaW5nd2lkdGgsaW5zdC5vcHRpb25zLmxvYWRpbmdoZWlnaHQpO2luc3QubG9hZEN1ckVsZW0oKTtyZXR1cm4gZmFsc2V9O2luc3QubG9hZFRodW1ibmFpbD1mdW5jdGlvbihzcmMsaW5kZXgsdGl0bGUpe3ZhciBpbWdMb2FkZXI9bmV3IEltYWdlOyQoaW1nTG9hZGVyKS5vbihcImxvYWRcIixmdW5jdGlvbigpe3ZhciBzdHlsZTtpZih0aGlzLndpZHRoL3RoaXMuaGVpZ2h0PD1pbnN0Lm9wdGlvbnMudGh1bWJ3aWR0aC9pbnN0Lm9wdGlvbnMudGh1bWJoZWlnaHQpc3R5bGU9XCJ3aWR0aDoxMDAlO1wiO2Vsc2Ugc3R5bGU9XCJoZWlnaHQ6MTAwJTtcIjskKFwiLmh0bWw1LW5hdi10aHVtYlwiKS5lcShpbmRleCkuaHRtbChcIjxpbWcgYWx0PSdcIitcclxuaW5zdC5odG1sMlRleHQodGl0bGUpK1wiJyBzdHlsZT0nXCIrc3R5bGUrXCInIHNyYz0nXCIrc3JjK1wiJyAvPlwiKX0pO2ltZ0xvYWRlci5zcmM9c3JjfTtpbnN0Lm1hdGNoR3JvdXA9ZnVuY3Rpb24oY3VyR3JvdXAsZWxlbUdyb3VwKXtpZihpbnN0Lm9wdGlvbnMuc2hvd2FsbClyZXR1cm4gdHJ1ZTtpZighY3VyR3JvdXB8fCFlbGVtR3JvdXApcmV0dXJuIGZhbHNlO3ZhciBjdXJzPWN1ckdyb3VwLnNwbGl0KFwiOlwiKTt2YXIgZWxlbXM9ZWxlbUdyb3VwLnNwbGl0KFwiOlwiKTt2YXIgcmVzdWx0PWZhbHNlO2Zvcih2YXIgaSBpbiBjdXJzKWlmKCQuaW5BcnJheShjdXJzW2ldLGVsZW1zKT4tMSl7cmVzdWx0PXRydWU7YnJlYWt9cmV0dXJuIHJlc3VsdH07aW5zdC5zaG93TmF2aWdhdGlvbj1mdW5jdGlvbigpe2lmKCFpbnN0Lm9wdGlvbnMuc2hvd25hdmlnYXRpb24pcmV0dXJuO2lmKCFpbnN0LmN1cnJlbnRFbGVtfHwhaW5zdC5jdXJyZW50RWxlbVtFTEVNX0dST1VQXSlyZXR1cm47dmFyIGk7dmFyIHNob3dOYXY9XHJcbmZhbHNlO3ZhciBncm91cD1pbnN0LmN1cnJlbnRFbGVtW0VMRU1fR1JPVVBdO2ZvcihpPTA7aTxpbnN0LmVsZW1BcnJheS5sZW5ndGg7aSsrKWlmKGluc3QubWF0Y2hHcm91cChncm91cCxpbnN0LmVsZW1BcnJheVtpXVtFTEVNX0dST1VQXSkpaWYoaW5zdC5lbGVtQXJyYXlbaV1bRUxFTV9USFVNQk5BSUxdJiZpbnN0LmVsZW1BcnJheVtpXVtFTEVNX1RIVU1CTkFJTF0ubGVuZ3RoPjApe3Nob3dOYXY9dHJ1ZTticmVha31pZighc2hvd05hdilyZXR1cm47aW5zdC5vcHRpb25zLm5hdmhlaWdodD1pbnN0Lm9wdGlvbnMudGh1bWJoZWlnaHQraW5zdC5vcHRpb25zLnRodW1idG9wbWFyZ2luK2luc3Qub3B0aW9ucy50aHVtYmJvdHRvbW1hcmdpbjtpZigkKFwiLmh0bWw1LW5hdlwiKS5sZW5ndGg+MClyZXR1cm47dmFyIHBvc0Nzcz1pbnN0Lm9wdGlvbnMuaGlkZW5hdmRlZmF1bHQ/XCJ0b3A6MTAwJTtib3R0b206YXV0bztsZWZ0OjA7cmlnaHQ6MDtcIjpcInRvcDphdXRvO2JvdHRvbTowO2xlZnQ6MDtyaWdodDowO1wiO1xyXG52YXIgcG9zVHlwZT1pbnN0Lm9wdGlvbnMucG9zaXRpb25GaXhlZD9cImZpeGVkXCI6XCJhYnNvbHV0ZVwiOyQoXCJib2R5XCIpLmFwcGVuZChcIjxkaXYgY2xhc3M9J2h0bWw1LW5hdicgc3R5bGU9J2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246XCIrcG9zVHlwZStcIjtcIitwb3NDc3MrXCJ3aWR0aDoxMDAlO2hlaWdodDpcIitpbnN0Lm9wdGlvbnMubmF2aGVpZ2h0K1wicHg7ei1pbmRleDo5OTk5OTk5O1wiKyhpbnN0Lm9wdGlvbnMubmF2Ymdjb2xvcj9cImJhY2tncm91bmQtY29sb3I6XCIraW5zdC5vcHRpb25zLm5hdmJnY29sb3IrXCI7XCI6XCJcIikrXCInPlwiK1wiPGRpdiBjbGFzcz0naHRtbDUtbmF2LWNvbnRhaW5lcicgc3R5bGU9J3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbjpcIitpbnN0Lm9wdGlvbnMudGh1bWJ0b3BtYXJnaW4rXCJweCBhdXRvIFwiK2luc3Qub3B0aW9ucy50aHVtYmJvdHRvbW1hcmdpbitcInB4Oyc+XCIrXCI8ZGl2IGNsYXNzPSdodG1sNS1uYXYtcHJldicgc3R5bGU9J2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246YWJzb2x1dGU7Y3Vyc29yOnBvaW50ZXI7d2lkdGg6XCIrXHJcbmluc3Qub3B0aW9ucy5uYXZidXR0b253aWR0aCsncHg7aGVpZ2h0OjEwMCU7bGVmdDowO3RvcDowO2JhY2tncm91bmQ6dXJsKFwiJytpbnN0Lm9wdGlvbnMubmF2YXJyb3dzcHJldmltYWdlK1wiXFxcIikgbm8tcmVwZWF0IGxlZnQgY2VudGVyOyc+PC9kaXY+XCIrXCI8ZGl2IGNsYXNzPSdodG1sNS1uYXYtbWFzaycgc3R5bGU9J2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246cmVsYXRpdmU7bWFyZ2luOjAgYXV0bztvdmVyZmxvdzpoaWRkZW47Jz5cIitcIjxkaXYgY2xhc3M9J2h0bWw1LW5hdi1saXN0Jz48L2Rpdj5cIitcIjwvZGl2PlwiK1wiPGRpdiBjbGFzcz0naHRtbDUtbmF2LW5leHQnIHN0eWxlPSdkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOmFic29sdXRlO2N1cnNvcjpwb2ludGVyO3dpZHRoOlwiK2luc3Qub3B0aW9ucy5uYXZidXR0b253aWR0aCsncHg7aGVpZ2h0OjEwMCU7cmlnaHQ6MDt0b3A6MDtiYWNrZ3JvdW5kOnVybChcIicraW5zdC5vcHRpb25zLm5hdmFycm93c25leHRpbWFnZStcIlxcXCIpIG5vLXJlcGVhdCByaWdodCBjZW50ZXI7Jz48L2Rpdj5cIitcclxuXCI8L2Rpdj5cIitcIjwvZGl2PlwiKTtpbnN0Lm5hdnZpc2libGU9aW5zdC5vcHRpb25zLmhpZGVuYXZkZWZhdWx0P2ZhbHNlOnRydWU7aWYoaW5zdC5vcHRpb25zLnNob3duYXZjb250cm9sKXskKFwiLmh0bWw1LW5hdlwiKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJodG1sNS1uYXYtc2hvd2NvbnRyb2xcIiBzdHlsZT1cInBvc2l0aW9uOmFic29sdXRlO2Rpc3BsYXk6YmxvY2s7Y3Vyc29yOnBvaW50ZXI7Ym90dG9tOjEwMCU7cmlnaHQ6MTJweDttYXJnaW46MDtwYWRkaW5nOjA7XCI+PGltZyBhbHQ9XCJcIiBzcmM9XCInK2luc3Qub3B0aW9ucy5uYXZjb250cm9saW1hZ2UrJ1wiPjwvZGl2PicpOyQoXCIuaHRtbDUtbmF2LXNob3djb250cm9sXCIpLmNsaWNrKGZ1bmN0aW9uKCl7dmFyIHdpbkg9JCh3aW5kb3cpLmhlaWdodCgpO3ZhciBuYXZIPSQoXCIuaHRtbDUtbmF2XCIpLmhlaWdodCgpO2lmKGluc3QubmF2dmlzaWJsZSl7aW5zdC5uYXZ2aXNpYmxlPWZhbHNlOyQoXCIuaHRtbDUtbmF2XCIpLmNzcyh7dG9wOndpbkgtXHJcbm5hdkgrXCJweFwiLGJvdHRvbTpcImF1dG9cIn0pLmFuaW1hdGUoe3RvcDp3aW5IK1wicHhcIn0sZnVuY3Rpb24oKXskKHRoaXMpLmNzcyh7dG9wOlwiMTAwJVwiLGJvdHRvbTpcImF1dG9cIn0pfSl9ZWxzZXtpbnN0Lm5hdnZpc2libGU9dHJ1ZTt2YXIgbmF2SD0kKFwiLmh0bWw1LW5hdlwiKS5oZWlnaHQoKTskKFwiLmh0bWw1LW5hdlwiKS5jc3Moe3RvcDp3aW5IK1wicHhcIixib3R0b206XCJhdXRvXCJ9KS5hbmltYXRlKHt0b3A6d2luSC1uYXZIK1wicHhcIn0sZnVuY3Rpb24oKXskKHRoaXMpLmNzcyh7dG9wOlwiYXV0b1wiLGJvdHRvbTowfSl9KX1pbnN0LnJlc2l6ZVdpbmRvdygpfSl9dmFyIGluZGV4PTA7Zm9yKGk9MDtpPGluc3QuZWxlbUFycmF5Lmxlbmd0aDtpKyspaWYoaW5zdC5tYXRjaEdyb3VwKGdyb3VwLGluc3QuZWxlbUFycmF5W2ldW0VMRU1fR1JPVVBdKSlpZihpbnN0LmVsZW1BcnJheVtpXVtFTEVNX1RIVU1CTkFJTF0mJmluc3QuZWxlbUFycmF5W2ldW0VMRU1fVEhVTUJOQUlMXS5sZW5ndGg+MCl7JChcIi5odG1sNS1uYXYtbGlzdFwiKS5hcHBlbmQoXCI8ZGl2IGNsYXNzPSdodG1sNS1uYXYtdGh1bWInIGRhdGEtYXJyYXlpbmRleD0nXCIrXHJcbmkrXCInIHN0eWxlPSdmbG9hdDpsZWZ0O292ZXJmbG93OmhpZGRlbjtjdXJzb3I6cG9pbnRlcjtvcGFjaXR5OlwiK2luc3Qub3B0aW9ucy50aHVtYm9wYWNpdHkrXCI7bWFyZ2luOiAwIFwiK2luc3Qub3B0aW9ucy50aHVtYmdhcC8yK1wicHg7d2lkdGg6XCIraW5zdC5vcHRpb25zLnRodW1id2lkdGgrXCJweDtoZWlnaHQ6XCIraW5zdC5vcHRpb25zLnRodW1iaGVpZ2h0K1wicHg7Ym9yZGVyOlwiK2luc3Qub3B0aW9ucy50aHVtYmJvcmRlcitcInB4IHNvbGlkIFwiK2luc3Qub3B0aW9ucy50aHVtYmJvcmRlcmNvbG9yK1wiOyc+PC9kaXY+XCIpO3RoaXMubG9hZFRodW1ibmFpbChpbnN0LmVsZW1BcnJheVtpXVtFTEVNX1RIVU1CTkFJTF0saW5kZXgsaW5zdC5lbGVtQXJyYXlbaV1bRUxFTV9USVRMRV0pO2luZGV4Kyt9JChcIi5odG1sNS1uYXYtdGh1bWJcIikuaG92ZXIoZnVuY3Rpb24oKXskKHRoaXMpLmNzcyh7b3BhY2l0eToxfSk7JCh0aGlzKS5jc3Moe2JvcmRlcjppbnN0Lm9wdGlvbnMudGh1bWJib3JkZXIrXHJcblwicHggc29saWQgXCIraW5zdC5vcHRpb25zLnRodW1iaGlnaGxpZ2h0Ym9yZGVyY29sb3J9KX0sZnVuY3Rpb24oKXskKHRoaXMpLmNzcyh7b3BhY2l0eTppbnN0Lm9wdGlvbnMudGh1bWJvcGFjaXR5fSk7JCh0aGlzKS5jc3Moe2JvcmRlcjppbnN0Lm9wdGlvbnMudGh1bWJib3JkZXIrXCJweCBzb2xpZCBcIitpbnN0Lm9wdGlvbnMudGh1bWJib3JkZXJjb2xvcn0pfSk7JChcIi5odG1sNS1uYXYtdGh1bWJcIikuY2xpY2soZnVuY3Rpb24oKXt2YXIgaW5kZXg9JCh0aGlzKS5kYXRhKFwiYXJyYXlpbmRleFwiKTtpZihpbmRleD49MClpbnN0LmdvdG9TbGlkZShpbmRleCl9KTtpbnN0Lm9wdGlvbnMudG90YWx3aWR0aD1pbmRleCooaW5zdC5vcHRpb25zLnRodW1iZ2FwK2luc3Qub3B0aW9ucy50aHVtYndpZHRoKzIqaW5zdC5vcHRpb25zLnRodW1iYm9yZGVyKTskKFwiLmh0bWw1LW5hdi1saXN0XCIpLmNzcyh7ZGlzcGxheTpcImJsb2NrXCIscG9zaXRpb246XCJyZWxhdGl2ZVwiLFwibWFyZ2luLWxlZnRcIjowLHdpZHRoOmluc3Qub3B0aW9ucy50b3RhbHdpZHRoK1xyXG5cInB4XCJ9KS5hcHBlbmQoXCI8ZGl2IHN0eWxlPSdjbGVhcjpib3RoOyc+PC9kaXY+XCIpO3ZhciAkbmF2TWFzaz0kKFwiLmh0bWw1LW5hdi1tYXNrXCIpO3ZhciAkbmF2UHJldj0kKFwiLmh0bWw1LW5hdi1wcmV2XCIpO3ZhciAkbmF2TmV4dD0kKFwiLmh0bWw1LW5hdi1uZXh0XCIpOyRuYXZQcmV2LmNsaWNrKGZ1bmN0aW9uKCl7dmFyICRuYXZMaXN0PSQoXCIuaHRtbDUtbmF2LWxpc3RcIik7dmFyICRuYXZOZXh0PSQoXCIuaHRtbDUtbmF2LW5leHRcIik7dmFyIHdpbldpZHRoPSQod2luZG93KS53aWR0aCgpO3ZhciBtYXNrV2lkdGg9d2luV2lkdGgtMippbnN0Lm9wdGlvbnMubmF2YnV0dG9ud2lkdGg7dmFyIG1hcmdpbkxlZnQ9cGFyc2VJbnQoJG5hdkxpc3QuY3NzKFwibWFyZ2luLWxlZnRcIikpK21hc2tXaWR0aDtpZihtYXJnaW5MZWZ0Pj0wKXttYXJnaW5MZWZ0PTA7JCh0aGlzKS5jc3Moe1wiYmFja2dyb3VuZC1wb3NpdGlvblwiOlwiY2VudGVyIGxlZnRcIn0pfWVsc2UgJCh0aGlzKS5jc3Moe1wiYmFja2dyb3VuZC1wb3NpdGlvblwiOlwiY2VudGVyIHJpZ2h0XCJ9KTtcclxuaWYobWFyZ2luTGVmdDw9bWFza1dpZHRoLWluc3Qub3B0aW9ucy50b3RhbHdpZHRoKSRuYXZOZXh0LmNzcyh7XCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCI6XCJjZW50ZXIgbGVmdFwifSk7ZWxzZSAkbmF2TmV4dC5jc3Moe1wiYmFja2dyb3VuZC1wb3NpdGlvblwiOlwiY2VudGVyIHJpZ2h0XCJ9KTskbmF2TGlzdC5hbmltYXRlKHtcIm1hcmdpbi1sZWZ0XCI6bWFyZ2luTGVmdH0pfSk7JG5hdk5leHQuY2xpY2soZnVuY3Rpb24oKXt2YXIgJG5hdkxpc3Q9JChcIi5odG1sNS1uYXYtbGlzdFwiKTt2YXIgJG5hdlByZXY9JChcIi5odG1sNS1uYXYtcHJldlwiKTt2YXIgd2luV2lkdGg9JCh3aW5kb3cpLndpZHRoKCk7dmFyIG1hc2tXaWR0aD13aW5XaWR0aC0yKmluc3Qub3B0aW9ucy5uYXZidXR0b253aWR0aDt2YXIgbWFyZ2luTGVmdD1wYXJzZUludCgkbmF2TGlzdC5jc3MoXCJtYXJnaW4tbGVmdFwiKSktbWFza1dpZHRoO2lmKG1hcmdpbkxlZnQ8PW1hc2tXaWR0aC1pbnN0Lm9wdGlvbnMudG90YWx3aWR0aCl7bWFyZ2luTGVmdD1cclxubWFza1dpZHRoLWluc3Qub3B0aW9ucy50b3RhbHdpZHRoOyQodGhpcykuY3NzKHtcImJhY2tncm91bmQtcG9zaXRpb25cIjpcImNlbnRlciBsZWZ0XCJ9KX1lbHNlICQodGhpcykuY3NzKHtcImJhY2tncm91bmQtcG9zaXRpb25cIjpcImNlbnRlciByaWdodFwifSk7aWYobWFyZ2luTGVmdD49MCkkbmF2UHJldi5jc3Moe1wiYmFja2dyb3VuZC1wb3NpdGlvblwiOlwiY2VudGVyIGxlZnRcIn0pO2Vsc2UgJG5hdlByZXYuY3NzKHtcImJhY2tncm91bmQtcG9zaXRpb25cIjpcImNlbnRlciByaWdodFwifSk7JG5hdkxpc3QuYW5pbWF0ZSh7XCJtYXJnaW4tbGVmdFwiOm1hcmdpbkxlZnR9KX0pO3ZhciB3aW5XaWR0aD0kKHdpbmRvdykud2lkdGgoKTtpZihpbnN0Lm9wdGlvbnMudG90YWx3aWR0aDw9d2luV2lkdGgpeyRuYXZNYXNrLmNzcyh7d2lkdGg6aW5zdC5vcHRpb25zLnRvdGFsd2lkdGgrXCJweFwifSk7JG5hdlByZXYuaGlkZSgpOyRuYXZOZXh0LmhpZGUoKX1lbHNleyRuYXZNYXNrLmNzcyh7d2lkdGg6d2luV2lkdGgtXHJcbjIqaW5zdC5vcHRpb25zLm5hdmJ1dHRvbndpZHRoK1wicHhcIn0pOyRuYXZQcmV2LnNob3coKTskbmF2TmV4dC5zaG93KCl9fTtpbnN0LmxvYWRFbGVtPWZ1bmN0aW9uKGVsZW0pe2luc3QuY3VycmVudEVsZW09ZWxlbTtpbnN0LnNob3dpbmc9dHJ1ZTtpZihpbnN0Lm9wdGlvbnMuYm9keW5vc2Nyb2xsKSQoXCJodG1sLGJvZHlcIikuYWRkQ2xhc3MoXCJib2R5bm9zY3JvbGxcIik7aWYoIShpbnN0Lm9wdGlvbnMuc2hvd3RpdGxlJiZpbnN0LmN1cnJlbnRFbGVtW0VMRU1fVElUTEVdJiZpbnN0LmN1cnJlbnRFbGVtW0VMRU1fVElUTEVdLmxlbmd0aD4wfHxpbnN0Lm9wdGlvbnMuc2hvd2Rlc2NyaXB0aW9uJiZpbnN0LmN1cnJlbnRFbGVtW0VMRU1fREVTQ1JJUFRJT05dJiZpbnN0LmN1cnJlbnRFbGVtW0VMRU1fREVTQ1JJUFRJT05dLmxlbmd0aD4wfHxpbnN0Lm9wdGlvbnMuaW5Hcm91cCYmKGluc3Qub3B0aW9ucy5zaG93cGxheWJ1dHRvbnx8aW5zdC5vcHRpb25zLnNob3d0aXRsZXByZWZpeCkpKWluc3Qub3B0aW9ucy5iYXJoZWlnaHQ9XHJcbjA7aW5zdC5zaG93TmF2aWdhdGlvbigpO2luc3QuJGVsZW0ub2ZmKFwibW91c2VlbnRlclwiKS5vZmYoXCJtb3VzZWxlYXZlXCIpLm9mZihcIm1vdXNlbW92ZVwiKTtpbnN0LiRsb2FkaW5nLnNob3coKTtpZihpbnN0Lm9wdGlvbnMub25zaG93aXRlbSYmd2luZG93W2luc3Qub3B0aW9ucy5vbnNob3dpdGVtXSYmdHlwZW9mIHdpbmRvd1tpbnN0Lm9wdGlvbnMub25zaG93aXRlbV09PVwiZnVuY3Rpb25cIil3aW5kb3dbaW5zdC5vcHRpb25zLm9uc2hvd2l0ZW1dKGVsZW0pO2lmKChpbnN0Lm9wdGlvbnMudHJhbnNpdGlvbj09XCJzbGlkZVwifHxpbnN0Lm9wdGlvbnMudHJhbnNpdGlvbj09XCJjcm9zc2ZhZGVcIikmJmluc3QuZXhpc3RpbmdFbGVtPj0wKXskKFwiLmh0bWw1LWVsZW0tYm94LXByZXZpb3VzXCIpLnJlbW92ZSgpO3ZhciBuZXdpdGVtPWluc3QuJGVsZW0uY2xvbmUoKTtuZXdpdGVtLmluc2VydEFmdGVyKGluc3QuJGVsZW0pO2luc3QuJHByZXZlbGVtPWluc3QuJGVsZW07aW5zdC4kZWxlbT1uZXdpdGVtO1xyXG5pbnN0LiRwcmV2ZWxlbS5hZGRDbGFzcyhcImh0bWw1LWVsZW0tYm94LXByZXZpb3VzXCIpO2luc3QuJGVsZW0uYWRkQ2xhc3MoXCJodG1sNS1lbGVtLWJveC1jdXJyZW50XCIpO2luc3QuJGVsZW1XcmFwPSQoXCIuaHRtbDUtZWxlbS13cmFwXCIsaW5zdC4kZWxlbSk7aW5zdC4kbG9hZGluZz0kKFwiLmh0bWw1LWxvYWRpbmdcIixpbnN0LiRlbGVtKTtpbnN0LiRlcnJvcj0kKFwiLmh0bWw1LWVycm9yLWJveFwiLGluc3QuJGVsZW0pO2luc3QuJGltYWdlPSQoXCIuaHRtbDUtaW1hZ2VcIixpbnN0LiRlbGVtKTtpZihpbnN0Lm9wdGlvbnMudGl0bGVzdHlsZSE9XCJvdXRzaWRlXCIpe2luc3QuJGVsZW1EYXRhPSQoXCIuaHRtbDUtZWxlbS1kYXRhLWJveFwiLGluc3QuJGVsZW0pO2luc3QuJHRleHQ9JChcIi5odG1sNS10ZXh0XCIsaW5zdC4kZWxlbSl9aW5zdC4kZWxlbS5jc3Moe3Bvc2l0aW9uOlwiYWJzb2x1dGVcIix0b3A6MCxsZWZ0Omluc3Qub3B0aW9ucy50cmFuc2l0aW9uPT1cInNsaWRlXCI/aW5zdC5kaXJlY3Rpb249PVxyXG4tMT9cIjEwMCVcIjpcIi0xMDAlXCI6MCxvcGFjaXR5OjAsaGVpZ2h0OlwiYXV0b1wifSk7aW5zdC4kcHJldmVsZW0uY3NzKHt3aWR0aDppbnN0LiRwcmV2ZWxlbS53aWR0aCgpK1wicHhcIixoZWlnaHQ6aW5zdC4kcHJldmVsZW0uaGVpZ2h0KCkrXCJweFwifSl9c3dpdGNoKGVsZW1bRUxFTV9UWVBFXSl7Y2FzZSAwOnZhciBpbWdMb2FkZXI9bmV3IEltYWdlOyQoaW1nTG9hZGVyKS5vbihcImxvYWRcIixmdW5jdGlvbigpe2VsZW1bRUxFTV9PUklHSU5BTFdJRFRIXT1pbWdMb2FkZXIud2lkdGg7ZWxlbVtFTEVNX09SSUdJTkFMSEVJR0hUXT1pbWdMb2FkZXIuaGVpZ2h0O2luc3Quc2hvd0ltYWdlKGVsZW0saW1nTG9hZGVyLndpZHRoLGltZ0xvYWRlci5oZWlnaHQpfSk7JChpbWdMb2FkZXIpLm9uKFwiZXJyb3JcIixmdW5jdGlvbigpe2luc3Quc2hvd0Vycm9yKCl9KTtpbWdMb2FkZXIuc3JjPWVsZW1bRUxFTV9IUkVGXTticmVhaztjYXNlIDE6aW5zdC5zaG93U1dGKGVsZW0pO2JyZWFrO2Nhc2UgMjpjYXNlIDg6aW5zdC5zaG93VmlkZW8oZWxlbSk7XHJcbmJyZWFrO2Nhc2UgMzpjYXNlIDQ6Y2FzZSA5OmNhc2UgMTE6Y2FzZSAxMjppbnN0LnNob3dZb3V0dWJlVmltZW8oZWxlbSk7YnJlYWs7Y2FzZSA1Omluc3Quc2hvd1BERihlbGVtKTticmVhaztjYXNlIDY6aW5zdC5zaG93TVAzKGVsZW0pO2JyZWFrO2Nhc2UgNzppbnN0LnNob3dXZWIoZWxlbSk7YnJlYWs7Y2FzZSAxMDppbnN0LnNob3dEaXYoZWxlbSk7YnJlYWt9aWYoaW5zdC5vcHRpb25zLmdvb2dsZWFuYWx5dGljc2FjY291bnQmJndpbmRvdy5fZ2FxKXdpbmRvdy5fZ2FxLnB1c2goW1wiX3RyYWNrRXZlbnRcIixcIkxpZ2h0Ym94XCIsXCJPcGVuXCIsZWxlbVtFTEVNX0hSRUZdXSk7aWYoaW5zdC5vcHRpb25zLnByZWxvYWQpe2lmKGluc3Qub3B0aW9ucy5uZXh0RWxlbT49MCYmaW5zdC5lbGVtQXJyYXlbaW5zdC5vcHRpb25zLm5leHRFbGVtXVtFTEVNX1RZUEVdPT0wKShuZXcgSW1hZ2UpLnNyYz1pbnN0LmVsZW1BcnJheVtpbnN0Lm9wdGlvbnMubmV4dEVsZW1dW0VMRU1fSFJFRl07aWYoaW5zdC5vcHRpb25zLnByZXZFbGVtPj1cclxuMCYmaW5zdC5lbGVtQXJyYXlbaW5zdC5vcHRpb25zLnByZXZFbGVtXVtFTEVNX1RZUEVdPT0wKShuZXcgSW1hZ2UpLnNyYz1pbnN0LmVsZW1BcnJheVtpbnN0Lm9wdGlvbnMucHJldkVsZW1dW0VMRU1fSFJFRl19fTtpbnN0LmxvYWRDdXJFbGVtPWZ1bmN0aW9uKCl7aW5zdC5sb2FkRWxlbShpbnN0LmVsZW1BcnJheVtpbnN0Lm9wdGlvbnMuY3VyRWxlbV0pfTtpbnN0LnNob3dFcnJvcj1mdW5jdGlvbigpe2luc3QuJGxvYWRpbmcuaGlkZSgpO2luc3QucmVzaXplTGlnaHRib3goaW5zdC5vcHRpb25zLmVycm9yd2lkdGgsaW5zdC5vcHRpb25zLmVycm9yaGVpZ2h0LHRydWUsZnVuY3Rpb24oKXtpbnN0LiRsb2FkaW5nLmhpZGUoKTtpbnN0LiRlcnJvci5zaG93KCk7aW5zdC4kZWxlbS5mYWRlSW4oaW5zdC5vcHRpb25zLmZhZGVzcGVlZCxmdW5jdGlvbigpe2luc3Quc2hvd0RhdGEoKX0pfSl9O2luc3QuY2FsY1RleHRXaWR0aD1mdW5jdGlvbihvYmpXKXtyZXR1cm4gb2JqVy0zNn07aW5zdC5zaG93VGl0bGU9XHJcbmZ1bmN0aW9uKHQsZGVzY3JpcHRpb24pe3ZhciB0ZXh0PVwiXCI7aWYoaW5zdC5vcHRpb25zLnNob3d0aXRsZSlpZih0JiZ0Lmxlbmd0aD4wKXRleHQrPXQ7aWYoaW5zdC5vcHRpb25zLmluR3JvdXApe2lmKGluc3Qub3B0aW9ucy5zaG93dGl0bGVwcmVmaXgpdGV4dD1cIjxzcGFuIGNsYXNzPSdodG1sNS10aXRsZS1wcmVmaXgnPlwiK2luc3Qub3B0aW9ucy50aXRsZXByZWZpeC5yZXBsYWNlKFwiJU5VTVwiLGluc3Qub3B0aW9ucy5ncm91cEluZGV4KzEpLnJlcGxhY2UoXCIlVE9UQUxcIixpbnN0Lm9wdGlvbnMuZ3JvdXBDb3VudCkrXCI8L3NwYW4+IDxzcGFuIGNsYXNzPSdodG1sNS10aXRsZS1jYXB0aW9uJz5cIit0ZXh0K1wiPC9zcGFuPlwiO2lmKGluc3Qub3B0aW9ucy5zaG93cGxheWJ1dHRvbil0ZXh0PVwiPGRpdiBjbGFzcz0naHRtbDUtcGxheXBhdXNlJyBzdHlsZT0nZGlzcGxheTppbmxpbmUtYmxvY2s7Y3Vyc29yOnBvaW50ZXI7dmVydGljYWwtYWxpZ246bWlkZGxlO3dpZHRoOlwiK2luc3Qub3B0aW9ucy5wbGF5aW1hZ2VzaXplK1xyXG5cInB4O2hlaWdodDpcIitpbnN0Lm9wdGlvbnMucGxheWltYWdlc2l6ZStcInB4Oyc+PGRpdiBjbGFzcz0naHRtbDUtcGxheScgc3R5bGU9J2Rpc3BsYXk6YmxvY2s7Jz48aW1nIGFsdD0nJyBzcmM9J1wiK2luc3Qub3B0aW9ucy5wbGF5aW1hZ2UrXCInPjwvZGl2PjxkaXYgY2xhc3M9J2h0bWw1LXBhdXNlJyBzdHlsZT0nZGlzcGxheTpub25lOyc+PGltZyBhbHQ9Jycgc3JjPSdcIitpbnN0Lm9wdGlvbnMucGF1c2VpbWFnZStcIic+PC9kaXY+PC9kaXY+IFwiK3RleHR9aWYodGV4dC5sZW5ndGg+MCl0ZXh0PSc8ZGl2IGNsYXNzPVwiaHRtbDUtdGl0bGVcIj4nK3RleHQrXCI8L2Rpdj5cIjtpZihpbnN0Lm9wdGlvbnMuc2hvd2Rlc2NyaXB0aW9uJiZkZXNjcmlwdGlvbiYmZGVzY3JpcHRpb24ubGVuZ3RoPjApdGV4dCs9JzxkaXYgY2xhc3M9XCJodG1sNS1kZXNjcmlwdGlvblwiPicrZGVzY3JpcHRpb24rXCI8L2Rpdj5cIjtpbnN0LiR0ZXh0Lmh0bWwodGV4dCk7aWYoaW5zdC5vcHRpb25zLmluR3JvdXAmJmluc3Qub3B0aW9ucy5zaG93cGxheWJ1dHRvbil7aWYoaW5zdC5hdXRvc2xpZGluZyl7JChcIi5odG1sNS1wbGF5XCIsXHJcbmluc3QuJGxpZ2h0Ym94KS5oaWRlKCk7JChcIi5odG1sNS1wYXVzZVwiLGluc3QuJGxpZ2h0Ym94KS5zaG93KCl9ZWxzZXskKFwiLmh0bWw1LXBsYXlcIixpbnN0LiRsaWdodGJveCkuc2hvdygpOyQoXCIuaHRtbDUtcGF1c2VcIixpbnN0LiRsaWdodGJveCkuaGlkZSgpfSQoXCIuaHRtbDUtcGxheVwiLGluc3QuJGxpZ2h0Ym94KS5jbGljayhmdW5jdGlvbigpeyQoXCIuaHRtbDUtcGxheVwiLGluc3QuJGxpZ2h0Ym94KS5oaWRlKCk7JChcIi5odG1sNS1wYXVzZVwiLGluc3QuJGxpZ2h0Ym94KS5zaG93KCk7aWYoaW5zdC5zbGlkZVRpbWVvdXQpe2luc3Quc2xpZGVUaW1lb3V0LnN0b3AoKTtpbnN0LnNsaWRlVGltZW91dC5zdGFydCgpO2luc3QuYXV0b3NsaWRpbmc9dHJ1ZX19KTskKFwiLmh0bWw1LXBhdXNlXCIsaW5zdC4kbGlnaHRib3gpLmNsaWNrKGZ1bmN0aW9uKCl7JChcIi5odG1sNS1wbGF5XCIsaW5zdC4kbGlnaHRib3gpLnNob3coKTskKFwiLmh0bWw1LXBhdXNlXCIsaW5zdC4kbGlnaHRib3gpLmhpZGUoKTtcclxuaWYoaW5zdC5zbGlkZVRpbWVvdXQpe2luc3Quc2xpZGVUaW1lb3V0LnN0b3AoKTtpbnN0LmF1dG9zbGlkaW5nPWZhbHNlfX0pfSQoXCIjaHRtbDUtc29jaWFsXCIsaW5zdC4kbGlnaHRib3gpLnNob3coKTtpZihpbnN0Lm9wdGlvbnMuc2hvd3NvY2lhbG1lZGlhKWlmKGluc3QuY3VycmVudEVsZW1bRUxFTV9TT0NJQUxNRURJQV0paWYoJChcIiNodG1sNS1zb2NpYWxtZWRpYVwiLGluc3QuJGxpZ2h0Ym94Qm94KS5sZW5ndGg+MCkkKFwiI2h0bWw1LXNvY2lhbG1lZGlhXCIsaW5zdC4kbGlnaHRib3hCb3gpLmh0bWwoaW5zdC5jdXJyZW50RWxlbVtFTEVNX1NPQ0lBTE1FRElBXSk7ZWxzZSBpbnN0LiRsaWdodGJveEJveC5hcHBlbmQoJzxkaXYgaWQ9XCJodG1sNS1zb2NpYWxtZWRpYVwiIHN0eWxlPVwiJytpbnN0Lm9wdGlvbnMuc29jaWFsbWVkaWFwb3NpdGlvbisnXCI+JytpbnN0LmN1cnJlbnRFbGVtW0VMRU1fU09DSUFMTUVESUFdK1wiPC9kaXY+XCIpO2Vsc2UgaWYoJChcIiNodG1sNS1zb2NpYWxtZWRpYVwiLFxyXG5pbnN0LiRsaWdodGJveEJveCkubGVuZ3RoPjApJChcIiNodG1sNS1zb2NpYWxtZWRpYVwiLGluc3QuJGxpZ2h0Ym94Qm94KS5yZW1vdmUoKX0saW5zdC5zaG93SW1hZ2U9ZnVuY3Rpb24oZWxlbSxpbWdXLGltZ0gpe3ZhciBlbGVtVyxlbGVtSDtpZihlbGVtW0VMRU1fV0lEVEhdKWVsZW1XPWVsZW1bRUxFTV9XSURUSF07ZWxzZXtlbGVtVz1pbWdXO2VsZW1bRUxFTV9XSURUSF09aW1nV31pZihlbGVtW0VMRU1fSEVJR0hUXSllbGVtSD1lbGVtW0VMRU1fSEVJR0hUXTtlbHNle2VsZW1IPWltZ0g7ZWxlbVtFTEVNX0hFSUdIVF09aW1nSH1pbnN0LnNob3dUaXRsZShlbGVtW0VMRU1fVElUTEVdLGVsZW1bRUxFTV9ERVNDUklQVElPTl0pO3ZhciBzaXplT2JqPWluc3QuY2FsY0VsZW1TaXplKHt3OmVsZW1XLGg6ZWxlbUh9LGluc3Qub3B0aW9ucy5pbWFnZWtlZXByYXRpbyk7aW5zdC5yZXNpemVMaWdodGJveChzaXplT2JqLncsc2l6ZU9iai5oLHRydWUsZnVuY3Rpb24oKXtpbnN0LiRsb2FkaW5nLmhpZGUoKTtcclxudmFyIHRpbWVyY29kZT0haW5zdC5vcHRpb25zLnNob3d0aW1lcnx8IWluc3Qub3B0aW9ucy5pbkdyb3VwP1wiXCI6XCI8ZGl2IGNsYXNzPSdodG1sNS10aW1lcicgc3R5bGU9J2Rpc3BsYXk6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTtcIitpbnN0Lm9wdGlvbnMudGltZXJwb3NpdGlvbitcIjowO2xlZnQ6MDt3aWR0aDowO2hlaWdodDpcIitpbnN0Lm9wdGlvbnMudGltZXJoZWlnaHQrXCJweDtiYWNrZ3JvdW5kLWNvbG9yOlwiK2luc3Qub3B0aW9ucy50aW1lcmNvbG9yK1wiO29wYWNpdHk6XCIraW5zdC5vcHRpb25zLnRpbWVyb3BhY2l0eStcIjsnPjwvZGl2PlwiO3ZhciB0aXRsZWNvZGU9ZWxlbVtFTEVNX1dFQkxJTktURVhUXSYmZWxlbVtFTEVNX1dFQkxJTktURVhUXS5sZW5ndGg+MD9cIiB0aXRsZT0nXCIrZWxlbVtFTEVNX1dFQkxJTktURVhUXS5yZXBsYWNlKC8nL2csXCImIzM5O1wiKStcIidcIjpcIlwiO3ZhciB0YXJnZXRjb2RlPWVsZW1bRUxFTV9XRUJMSU5LVEFSR0VUXSYmZWxlbVtFTEVNX1dFQkxJTktUQVJHRVRdLmxlbmd0aD5cclxuMD9cIiB0YXJnZXQ9J1wiK2VsZW1bRUxFTV9XRUJMSU5LVEFSR0VUXStcIidcIjpcIlwiO3ZhciBsaW5rY29kZT1lbGVtW0VMRU1fV0VCTElOS10mJmVsZW1bRUxFTV9XRUJMSU5LXS5sZW5ndGg+MD9cIjxhIGhyZWY9J1wiK2VsZW1bRUxFTV9XRUJMSU5LXStcIidcIit0aXRsZWNvZGUrdGFyZ2V0Y29kZStcIj5cIjpcIlwiO3ZhciBsaW5rY29kZWFmdGVyPWVsZW1bRUxFTV9XRUJMSU5LXSYmZWxlbVtFTEVNX1dFQkxJTktdLmxlbmd0aD4wP1wiPC9hPlwiOlwiXCI7aW5zdC4kaW1hZ2UuaGlkZSgpO2luc3QuJGltYWdlLmh0bWwoXCI8ZGl2IGNsYXNzPSdodG1sNS1pbWFnZS1jb250YWluZXInIHN0eWxlPSdkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7XCIrKGluc3Qub3B0aW9ucy5pbWFnZWtlZXByYXRpbz9cIm92ZXJmbG93OmhpZGRlbjtcIjpcIm92ZXJmbG93OmF1dG87XCIpK1wiJz5cIitsaW5rY29kZStcIjxpbWcgY2xhc3M9J2h0bWw1LWltYWdlLWltZycgYWx0PSdcIitpbnN0Lmh0bWwyVGV4dChlbGVtW0VMRU1fVElUTEVdKStcclxuXCInIHNyYz0nXCIrZWxlbVtFTEVNX0hSRUZdK1wiJyB3aWR0aD0nMTAwJScgaGVpZ2h0PSdhdXRvJyAvPlwiK2xpbmtjb2RlYWZ0ZXIrdGltZXJjb2RlK1wiPC9kaXY+XCIpO2luc3QuJGltYWdlLmZhZGVJbihpbnN0Lm9wdGlvbnMuZmFkZXNwZWVkKTtpbnN0LnNob3dEYXRhKCk7aWYoaW5zdC5hdXRvc2xpZGluZyl7aW5zdC5zbGlkZVRpbWVvdXQuc3RvcCgpO2luc3Quc2xpZGVUaW1lb3V0LnN0YXJ0KCl9fSl9O2luc3Quc2hvd1NXRj1mdW5jdGlvbihlbGVtKXt2YXIgZGF0YVc9ZWxlbVtFTEVNX1dJRFRIXT9lbGVtW0VMRU1fV0lEVEhdOmluc3Qub3B0aW9ucy5kZWZhdWx0d2lkdGg7dmFyIGRhdGFIPWVsZW1bRUxFTV9IRUlHSFRdP2VsZW1bRUxFTV9IRUlHSFRdOmluc3Qub3B0aW9ucy5kZWZhdWx0aGVpZ2h0O2luc3Quc2hvd1RpdGxlKGVsZW1bRUxFTV9USVRMRV0sZWxlbVtFTEVNX0RFU0NSSVBUSU9OXSk7dmFyIHNpemVPYmo9aW5zdC5jYWxjRWxlbVNpemUoe3c6ZGF0YVcsaDpkYXRhSH0sXHJcbnRydWUpO2RhdGFXPXNpemVPYmoudztkYXRhSD1zaXplT2JqLmg7aW5zdC5yZXNpemVMaWdodGJveChkYXRhVyxkYXRhSCx0cnVlLGZ1bmN0aW9uKCl7aW5zdC4kbG9hZGluZy5oaWRlKCk7aW5zdC4kaW1hZ2UuaHRtbChcIjxkaXYgY2xhc3M9J2h0bWw1bGlnaHRib3gtc3dmJyBzdHlsZT0nZGlzcGxheTpibG9jazt3aWR0aDoxMDAlO2hlaWdodDoxMDAlOyc+PC9kaXY+XCIpLnNob3coKTtpbnN0LmVtYmVkRmxhc2goJChcIi5odG1sNWxpZ2h0Ym94LXN3ZlwiLGluc3QuJGltYWdlKSxlbGVtW0VMRU1fSFJFRl0sXCJ3aW5kb3dcIix7d2lkdGg6ZGF0YVcsaGVpZ2h0OmRhdGFIfSk7aW5zdC4kZWxlbS5zaG93KCk7aW5zdC5zaG93RGF0YSgpO2lmKGluc3QuYXV0b3NsaWRpbmcpe2luc3Quc2xpZGVUaW1lb3V0LnN0b3AoKTtpbnN0LnNsaWRlVGltZW91dC5zdGFydCgpfX0pfTtpbnN0LnNob3dWaWRlbz1mdW5jdGlvbihlbGVtKXtpbnN0LnNsaWRlVGltZW91dC5zdG9wKCk7aW5zdC5zaG93VGl0bGUoZWxlbVtFTEVNX1RJVExFXSxcclxuZWxlbVtFTEVNX0RFU0NSSVBUSU9OXSk7dmFyIGRhdGFXPWVsZW1bRUxFTV9XSURUSF0/ZWxlbVtFTEVNX1dJRFRIXTppbnN0Lm9wdGlvbnMuZGVmYXVsdHdpZHRoO3ZhciBkYXRhSD1lbGVtW0VMRU1fSEVJR0hUXT9lbGVtW0VMRU1fSEVJR0hUXTppbnN0Lm9wdGlvbnMuZGVmYXVsdGhlaWdodDt2YXIgc2l6ZU9iaj1pbnN0LmNhbGNFbGVtU2l6ZSh7dzpkYXRhVyxoOmRhdGFIfSx0cnVlKTtkYXRhVz1zaXplT2JqLnc7ZGF0YUg9c2l6ZU9iai5oO2luc3QucmVzaXplTGlnaHRib3goZGF0YVcsZGF0YUgsdHJ1ZSxmdW5jdGlvbigpe2luc3QuJGxvYWRpbmcuaGlkZSgpO2luc3QuJGltYWdlLmh0bWwoXCI8ZGl2IGNsYXNzPSdodG1sNWxpZ2h0Ym94LXZpZGVvJyBzdHlsZT0nZGlzcGxheTpibG9jazt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO292ZXJmbG93OmhpZGRlbjtiYWNrZ3JvdW5kLWNvbG9yOlwiK2luc3Qub3B0aW9ucy52aWRlb2JnY29sb3IrXCI7Jz48L2Rpdj5cIikuc2hvdygpO3ZhciBpc0hUTUw1PVxyXG5mYWxzZTtpZihpbnN0Lm9wdGlvbnMuaXNJRTY3OHx8ZWxlbVtFTEVNX1RZUEVdPT04fHxpbnN0Lm9wdGlvbnMuaXNJRTkmJmluc3Qub3B0aW9ucy51c2VmbGFzaG9uaWU5fHxpbnN0Lm9wdGlvbnMuaXNJRTEwJiZpbnN0Lm9wdGlvbnMudXNlZmxhc2hvbmllMTB8fGluc3Qub3B0aW9ucy5pc0lFMTEmJmluc3Qub3B0aW9ucy51c2VmbGFzaG9uaWUxMSlpc0hUTUw1PWZhbHNlO2Vsc2UgaWYoaW5zdC5vcHRpb25zLmlzTW9iaWxlKWlzSFRNTDU9dHJ1ZTtlbHNlIGlmKChpbnN0Lm9wdGlvbnMuaHRtbDVwbGF5ZXJ8fCFpbnN0Lm9wdGlvbnMuZmxhc2hJbnN0YWxsZWQpJiZpbnN0Lm9wdGlvbnMuaHRtbDVWaWRlb1N1cHBvcnRlZCl7aXNIVE1MNT10cnVlO2lmKGluc3Qub3B0aW9ucy5pc0ZpcmVmb3h8fGluc3Qub3B0aW9ucy5pc09wZXJhKWlmKCFlbGVtW0VMRU1fSFJFRl9XRUJNXSYmIWVsZW1bRUxFTV9IUkVGX09HR10mJighaW5zdC5vcHRpb25zLmNhbnBsYXltcDR8fGluc3Qub3B0aW9ucy51c2VmbGFzaGZvcm1wNG9uZmlyZWZveCkpaXNIVE1MNT1cclxuZmFsc2V9aWYoaXNIVE1MNSl7dmFyIHZpZGVvU3JjPWVsZW1bRUxFTV9IUkVGXTtpZihpbnN0Lm9wdGlvbnMuaXNGaXJlZm94fHxpbnN0Lm9wdGlvbnMuaXNPcGVyYSlpZihlbGVtW0VMRU1fSFJFRl9XRUJNXSl2aWRlb1NyYz1lbGVtW0VMRU1fSFJFRl9XRUJNXTtlbHNlIGlmKGVsZW1bRUxFTV9IUkVGX09HR10pdmlkZW9TcmM9ZWxlbVtFTEVNX0hSRUZfT0dHXTtpbnN0LmVtYmVkSFRNTDVWaWRlbygkKFwiLmh0bWw1bGlnaHRib3gtdmlkZW9cIixpbnN0LiRpbWFnZSksdmlkZW9TcmMsaW5zdC5vcHRpb25zLmF1dG9wbGF5LGluc3Qub3B0aW9ucy5sb29wdmlkZW8saW5zdC5vcHRpb25zLm11dGV2aWRlbyk7aWYoZWxlbVtFTEVNX1dFQkxJTktdJiZlbGVtW0VMRU1fV0VCTElOS10ubGVuZ3RoPjApJChcIi5odG1sNS1saWdodGJveC12aWRlb1wiLGluc3QuJGltYWdlKS5jc3Moe2N1cnNvcjpcInBvaW50ZXJcIn0pLmNsaWNrKGZ1bmN0aW9uKCl7aWYoZWxlbVtFTEVNX1dFQkxJTktUQVJHRVRdJiZcclxuZWxlbVtFTEVNX1dFQkxJTktUQVJHRVRdLmxlbmd0aD4wKXdpbmRvdy5vcGVuKGVsZW1bRUxFTV9XRUJMSU5LXSxlbGVtW0VMRU1fV0VCTElOS1RBUkdFVF0pO2Vsc2Ugd2luZG93Lm9wZW4oZWxlbVtFTEVNX1dFQkxJTktdKX0pfWVsc2V7dmFyIHZpZGVvRmlsZT1lbGVtW0VMRU1fSFJFRl07aWYodmlkZW9GaWxlLmNoYXJBdCgwKSE9XCIvXCImJnZpZGVvRmlsZS5zdWJzdHJpbmcoMCw1KSE9XCJodHRwOlwiJiZ2aWRlb0ZpbGUuc3Vic3RyaW5nKDAsNikhPVwiaHR0cHM6XCIpdmlkZW9GaWxlPWluc3Qub3B0aW9ucy5odG1sZm9sZGVyK3ZpZGVvRmlsZTtpbnN0LmVtYmVkRmxhc2goJChcIi5odG1sNWxpZ2h0Ym94LXZpZGVvXCIsaW5zdC4kaW1hZ2UpLGluc3Qub3B0aW9ucy5qc2ZvbGRlcitcImh0bWw1Ym94cGxheWVyLnN3ZlwiLFwidHJhbnNwYXJlbnRcIix7d2lkdGg6ZGF0YVcsaGVpZ2h0OmRhdGFILGpzb2JqZWN0bmFtZTpcImh0bWw1TGlnaHRib3hcIixoaWRlY29udHJvbHM6aW5zdC5vcHRpb25zLnZpZGVvaGlkZWNvbnRyb2xzP1xyXG5cIjFcIjpcIjBcIixoaWRlcGxheWJ1dHRvbjpcIjBcIix2aWRlb2ZpbGU6dmlkZW9GaWxlLGhkZmlsZTpcIlwiLGlzaGQ6XCIwXCIsZGVmYXVsdHZvbHVtZTppbnN0Lm9wdGlvbnMuZGVmYXVsdHZpZGVvdm9sdW1lLGF1dG9wbGF5Omluc3Qub3B0aW9ucy5hdXRvcGxheT9cIjFcIjpcIjBcIixsb29wOmluc3Qub3B0aW9ucy5sb29wdmlkZW8/XCIxXCI6XCIwXCIsZXJyb3Jjc3M6XCIuaHRtbDVib3gtZXJyb3JcIitpbnN0Lm9wdGlvbnMuZXJyb3Jjc3MsaWQ6MH0pfWluc3QuJGVsZW0uc2hvdygpO2luc3Quc2hvd0RhdGEoKX0pfTtpbnN0LmxvYWROZXh0PWZ1bmN0aW9uKCl7JCh3aW5kb3cpLnRyaWdnZXIoXCJodG1sNWxpZ2h0Ym94LnZpZGVvZmluaXNoZWRcIik7aWYoaW5zdC5hdXRvc2xpZGluZylpbnN0LmdvdG9TbGlkZSgtMSk7ZWxzZSBpZihpbnN0Lm9wdGlvbnMuYXV0b2Nsb3NlKXNldFRpbWVvdXQoZnVuY3Rpb24oKXtpbnN0LmZpbmlzaCgpfSxpbnN0Lm9wdGlvbnMuYXV0b2Nsb3NlZGVsYXkpfTtpbnN0LmdldFlvdXR1YmVQYXJhbXM9XHJcbmZ1bmN0aW9uKGhyZWYpe3ZhciByZXN1bHQ9e307aWYoaHJlZi5pbmRleE9mKFwiP1wiKTwwKXJldHVybiByZXN1bHQ7dmFyIHBhcmFtcz1ocmVmLnN1YnN0cmluZyhocmVmLmluZGV4T2YoXCI/XCIpKzEpLnNwbGl0KFwiJlwiKTtmb3IodmFyIGk9MDtpPHBhcmFtcy5sZW5ndGg7aSsrKXt2YXIgdmFsdWU9cGFyYW1zW2ldLnNwbGl0KFwiPVwiKTtpZih2YWx1ZSYmdmFsdWUubGVuZ3RoPT0yJiZ2YWx1ZVswXS50b0xvd2VyQ2FzZSgpIT1cInZcIilyZXN1bHRbdmFsdWVbMF0udG9Mb3dlckNhc2UoKV09dmFsdWVbMV19cmV0dXJuIHJlc3VsdH07aW5zdC5nZXRZb3V0dWJlSWQ9ZnVuY3Rpb24oaHJlZil7dmFyIHlvdXR1YmVJZD1cIlwiO3ZhciByZWdFeHA9L14uKigoeW91dHUuYmVcXC8pfCh2XFwvKXwoXFwvdVxcL1xcd1xcLyl8KGVtYmVkXFwvKXwod2F0Y2hcXD8/dj89PykpKFteI1xcJlxcP10qKS4qLzt2YXIgbWF0Y2g9aHJlZi5tYXRjaChyZWdFeHApO2lmKG1hdGNoJiZtYXRjaFs3XSYmbWF0Y2hbN10ubGVuZ3RoPT1cclxuMTEpeW91dHViZUlkPW1hdGNoWzddO3JldHVybiB5b3V0dWJlSWR9O2luc3QucHJlcGFyZVlvdXR1YmVIcmVmPWZ1bmN0aW9uKGhyZWYpe3ZhciB5b3V0dWJlSWQ9aW5zdC5nZXRZb3V0dWJlSWQoaHJlZik7dmFyIHByb3RvY29sPVwiaHR0cHM6XCI7dmFyIHJlc3VsdD1wcm90b2NvbCtcIi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkL1wiK3lvdXR1YmVJZDt2YXIgcGFyYW1zPXRoaXMuZ2V0WW91dHViZVBhcmFtcyhocmVmKTt2YXIgZmlyc3Q9dHJ1ZTtmb3IodmFyIGtleSBpbiBwYXJhbXMpe2lmKGZpcnN0KXtyZXN1bHQrPVwiP1wiO2ZpcnN0PWZhbHNlfWVsc2UgcmVzdWx0Kz1cIiZcIjtyZXN1bHQrPWtleStcIj1cIitwYXJhbXNba2V5XX1yZXR1cm4gcmVzdWx0fTtpbnN0LnByZXBhcmVEYWlseW1vdGlvbkhyZWY9ZnVuY3Rpb24oaHJlZil7aWYoaHJlZi5tYXRjaCgvXFw6XFwvXFwvLiooZGFpXFwubHkpL2kpKXt2YXIgcHJvdG9jb2w9XCJodHRwczpcIjt2YXIgaWQ9aHJlZi5tYXRjaCgvKGRhaVxcLmx5XFwvKShbYS16QS1aMC05XFwtXFxfXSspLylbMl07XHJcbmhyZWY9cHJvdG9jb2wrXCIvL3d3dy5kYWlseW1vdGlvbi5jb20vZW1iZWQvdmlkZW8vXCIraWR9cmV0dXJuIGhyZWZ9O2luc3Quc2hvd1lvdXR1YmVWaW1lbz1mdW5jdGlvbihlbGVtKXtpbnN0LnNsaWRlVGltZW91dC5zdG9wKCk7aW5zdC5zaG93VGl0bGUoZWxlbVtFTEVNX1RJVExFXSxlbGVtW0VMRU1fREVTQ1JJUFRJT05dKTt2YXIgZGF0YVc9ZWxlbVtFTEVNX1dJRFRIXT9lbGVtW0VMRU1fV0lEVEhdOmluc3Qub3B0aW9ucy5kZWZhdWx0d2lkdGg7dmFyIGRhdGFIPWVsZW1bRUxFTV9IRUlHSFRdP2VsZW1bRUxFTV9IRUlHSFRdOmluc3Qub3B0aW9ucy5kZWZhdWx0aGVpZ2h0O3ZhciBzaXplT2JqPWluc3QuY2FsY0VsZW1TaXplKHt3OmRhdGFXLGg6ZGF0YUh9LHRydWUpO2RhdGFXPXNpemVPYmoudztkYXRhSD1zaXplT2JqLmg7aWYoaW5zdC5vcHRpb25zLm5vcmVzaXplY2FsbGJhY2spe2luc3QucmVzaXplTGlnaHRib3goZGF0YVcsZGF0YUgsdHJ1ZSxmdW5jdGlvbigpe2luc3Quc2hvd0RhdGEoKX0pO1xyXG5pbnN0LnNob3dZb3VUdWJlVmltZW9DYWxsYmFjayhlbGVtLHNpemVPYmopfWVsc2UgaW5zdC5yZXNpemVMaWdodGJveChkYXRhVyxkYXRhSCx0cnVlLGZ1bmN0aW9uKCl7aW5zdC5zaG93WW91VHViZVZpbWVvQ2FsbGJhY2soZWxlbSxzaXplT2JqKTtpbnN0LnNob3dEYXRhKCl9KX07aW5zdC5zaG93WW91VHViZVZpbWVvQ2FsbGJhY2s9ZnVuY3Rpb24oZWxlbSxzaXplT2JqKXtpbnN0LiRsb2FkaW5nLmhpZGUoKTtpbnN0LiRpbWFnZS5odG1sKFwiPGRpdiBjbGFzcz0naHRtbDVsaWdodGJveC12aWRlbycgc3R5bGU9J2Rpc3BsYXk6YmxvY2s7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtvdmVyZmxvdzpoaWRkZW47Jz48L2Rpdj5cIikuc2hvdygpO3ZhciBocmVmPWVsZW1bRUxFTV9IUkVGXTt2YXIgeW91dHViZWlkPVwiXCI7aWYoZWxlbVtFTEVNX1RZUEVdPT0zKXt5b3V0dWJlaWQ9aW5zdC5nZXRZb3V0dWJlSWQoaHJlZik7aHJlZj1pbnN0LnByZXBhcmVZb3V0dWJlSHJlZihocmVmKX1pZihlbGVtW0VMRU1fVFlQRV09PVxyXG45KWhyZWY9aW5zdC5wcmVwYXJlRGFpbHltb3Rpb25IcmVmKGhyZWYpO2lmKGluc3Qub3B0aW9ucy5hdXRvcGxheSl7aHJlZis9aHJlZi5pbmRleE9mKFwiP1wiKTwwP1wiP1wiOlwiJlwiO2lmKGVsZW1bRUxFTV9UWVBFXT09MTEpaHJlZis9XCJhdXRvUGxheT10cnVlXCI7ZWxzZSBocmVmKz1cImF1dG9wbGF5PTFcIn1pZihpbnN0Lm9wdGlvbnMubG9vcHZpZGVvKXtocmVmKz1ocmVmLmluZGV4T2YoXCI/XCIpPDA/XCI/XCI6XCImXCI7c3dpdGNoKGVsZW1bRUxFTV9UWVBFXSl7Y2FzZSAzOmhyZWYrPVwibG9vcD0xJnBsYXlsaXN0PVwiK3lvdXR1YmVpZDticmVhaztjYXNlIDQ6Y2FzZSA5OmhyZWYrPVwibG9vcD0xXCI7YnJlYWs7Y2FzZSAxMTpocmVmKz1cImVuZFZpZGVvQmVoYXZpb3I9bG9vcFwiO2JyZWFrfX1pZihlbGVtW0VMRU1fVFlQRV09PTMpe2lmKGhyZWYuaW5kZXhPZihcIj9cIik8MClocmVmKz1cIj93bW9kZT10cmFuc3BhcmVudCZyZWw9MFwiO2Vsc2UgaHJlZis9XCImd21vZGU9dHJhbnNwYXJlbnQmcmVsPTBcIjtpZihpbnN0Lm9wdGlvbnMudmlkZW9oaWRlY29udHJvbHMpaHJlZis9XHJcblwiJmNvbnRyb2xzPTAmc2hvd2luZm89MFwiO2lmKGluc3Qub3B0aW9ucy5tdXRldmlkZW8paHJlZis9XCImbXV0ZT0xXCI7aHJlZis9XCImZW5hYmxlanNhcGk9MSZvcmlnaW49XCIrZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2wrXCIvL1wiK2RvY3VtZW50LmxvY2F0aW9uLmhvc3RuYW1lfWVsc2UgaWYoZWxlbVtFTEVNX1RZUEVdPT00KXtocmVmKz1ocmVmLmluZGV4T2YoXCI/XCIpPDA/XCI/XCI6XCImXCI7aHJlZis9XCJhcGk9MSZwbGF5ZXJfaWQ9aHRtbDVib3hpZnJhbWV2aWRlb1wiK2luc3Qub3B0aW9ucy5jdXJFbGVtO2lmKGluc3Qub3B0aW9ucy5tdXRldmlkZW8paHJlZis9XCImbXV0ZWQ9MVwifSQoXCIuaHRtbDVsaWdodGJveC12aWRlb1wiLGluc3QuJGltYWdlKS5odG1sKFwiPGlmcmFtZSBzdHlsZT0nbWFyZ2luOjA7cGFkZGluZzowO2JvcmRlcjowOycgY2xhc3M9J2h0bWw1Ym94aWZyYW1ldmlkZW8nIGlkPSdodG1sNWJveGlmcmFtZXZpZGVvXCIraW5zdC5vcHRpb25zLmN1ckVsZW0rXCInIHdpZHRoPScxMDAlJyBoZWlnaHQ9JzEwMCUnIHNyYz0nXCIrXHJcbmhyZWYrXCInIGZyYW1lYm9yZGVyPScwJyBhbGxvdz0nYXV0b3BsYXknIHdlYmtpdEFsbG93RnVsbFNjcmVlbiBtb3phbGxvd2Z1bGxzY3JlZW4gYWxsb3dGdWxsU2NyZWVuPjwvaWZyYW1lPlwiKTtpbnN0LiRlbGVtLnNob3coKTtpZihlbGVtW0VMRU1fVFlQRV09PTMpe2lmKGluc3Qub3B0aW9ucy5pbml0eW91dHViZSl7aW5zdC55b3V0dWJlRmluaXNoQ291bnQ9MDtpbnN0LmluaXRZb3V0dWJlRmluaXNoQ2FsbGJhY2soKX19ZWxzZSBpZihlbGVtW0VMRU1fVFlQRV09PTQpaWYoaW5zdC5vcHRpb25zLmluaXR2aW1lbyl7aW5zdC52aW1lb0ZpbmlzaENvdW50PTA7aW5zdC5pbml0VmltZW9GaW5pc2hDYWxsYmFjaygpfX07aW5zdC5pbml0WW91dHViZUZpbmlzaENhbGxiYWNrPWZ1bmN0aW9uKCl7aWYodHlwZW9mIFlUPT09XCJvYmplY3RcIiYmdHlwZW9mIFlULlBsYXllcj09PVwiZnVuY3Rpb25cIilpbnN0Lnl0cGxheWVyPW5ldyBZVC5QbGF5ZXIoXCJodG1sNWJveGlmcmFtZXZpZGVvXCIraW5zdC5vcHRpb25zLmN1ckVsZW0sXHJcbntldmVudHM6e1wib25TdGF0ZUNoYW5nZVwiOmZ1bmN0aW9uKGV2ZW50KXtpZihldmVudC5kYXRhPT1ZVC5QbGF5ZXJTdGF0ZS5FTkRFRCl7JCh3aW5kb3cpLnRyaWdnZXIoXCJodG1sNWxpZ2h0Ym94LnZpZGVvZmluaXNoZWRcIik7aWYoaW5zdC5hdXRvc2xpZGluZylpbnN0LmdvdG9TbGlkZSgtMSk7ZWxzZSBpZihpbnN0Lm9wdGlvbnMuYXV0b2Nsb3NlKXNldFRpbWVvdXQoZnVuY3Rpb24oKXtpbnN0LmZpbmlzaCgpfSxpbnN0Lm9wdGlvbnMuYXV0b2Nsb3NlZGVsYXkpfX19fSk7ZWxzZSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYoaW5zdC55b3V0dWJlRmluaXNoQ291bnQ8MTApe2luc3QueW91dHViZUZpbmlzaENvdW50Kys7aW5zdC5pbml0WW91dHViZUZpbmlzaENhbGxiYWNrKCl9fSwzMDApfTtpbnN0LmluaXRWaW1lb0ZpbmlzaENhbGxiYWNrPWZ1bmN0aW9uKCl7aWYodHlwZW9mICRmPT09XCJmdW5jdGlvblwiKXt2YXIgdmltZW9JZnJhbWU9JChcIiNodG1sNWJveGlmcmFtZXZpZGVvXCIrXHJcbmluc3Qub3B0aW9ucy5jdXJFbGVtKVswXTtpbnN0LnZpbWVvUGxheWVyPSRmKHZpbWVvSWZyYW1lKTtpbnN0LnZpbWVvUGxheWVyLmFkZEV2ZW50KFwicmVhZHlcIixmdW5jdGlvbigpe2luc3QudmltZW9QbGF5ZXIuYWRkRXZlbnQoXCJmaW5pc2hcIixmdW5jdGlvbihpZCl7JCh3aW5kb3cpLnRyaWdnZXIoXCJodG1sNWxpZ2h0Ym94LnZpZGVvZmluaXNoZWRcIik7aWYoaW5zdC5hdXRvc2xpZGluZylpbnN0LmdvdG9TbGlkZSgtMSk7ZWxzZSBpZihpbnN0Lm9wdGlvbnMuYXV0b2Nsb3NlKXNldFRpbWVvdXQoZnVuY3Rpb24oKXtpbnN0LmZpbmlzaCgpfSxpbnN0Lm9wdGlvbnMuYXV0b2Nsb3NlZGVsYXkpfSl9KX1lbHNlIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtpZihpbnN0LnZpbWVvRmluaXNoQ291bnQ8MTApe2luc3QudmltZW9GaW5pc2hDb3VudCsrO2luc3QuaW5pdFZpbWVvRmluaXNoQ2FsbGJhY2soKX19LDMwMCl9O2luc3Quc2hvd1BERj1mdW5jdGlvbihlbGVtKXtpZihpbnN0Lm9wdGlvbnMuZW5hYmxlcGRmanMpe2lmKGluc3Qub3B0aW9ucy5pc0lQaG9uZSYmXHJcbmluc3Qub3B0aW9ucy5vcGVucGRmaW5uZXd0YWJvbmlwaG9uZXx8aW5zdC5vcHRpb25zLmlzSVBhZCYmaW5zdC5vcHRpb25zLm9wZW5wZGZpbm5ld3RhYm9uaXBhZCl7dmFyIHdpbj13aW5kb3cub3BlbihlbGVtW0VMRU1fSFJFRl0sXCJfYmxhbmtcIik7d2luLmZvY3VzKCk7aW5zdC5maW5pc2goKTtyZXR1cm59aWYoIWluc3Qub3B0aW9ucy5wZGZqc2VuZ2luZSlpbnN0Lm9wdGlvbnMucGRmanNlbmdpbmU9aW5zdC5vcHRpb25zLmpzZm9sZGVyK1wicGRmanMvd2ViL3ZpZXdlci5odG1sXCI7dmFyIGhyZWY9ZWxlbVtFTEVNX0hSRUZdO2lmKGhyZWYuc3Vic3RyaW5nKDAsNSkhPVwiaHR0cDpcIiYmaHJlZi5zdWJzdHJpbmcoMCw2KSE9XCJodHRwczpcIilocmVmPWluc3QuYWJzb2x1dGVVcmwoaHJlZik7dmFyIGhhc2hpbmRleD1ocmVmLmluZGV4T2YoXCIjXCIpO2lmKGhhc2hpbmRleD4wKWhyZWY9ZW5jb2RlVVJJQ29tcG9uZW50KGhyZWYuc3Vic3RyaW5nKDAsaGFzaGluZGV4KSkraHJlZi5zdWJzdHJpbmcoaGFzaGluZGV4KTtcclxuZWxzZSBocmVmPWVuY29kZVVSSUNvbXBvbmVudChocmVmKTt2YXIgcGRmZWxlbT1qUXVlcnkuZXh0ZW5kKHRydWUse30sZWxlbSk7cGRmZWxlbVtFTEVNX0hSRUZdPWluc3Qub3B0aW9ucy5wZGZqc2VuZ2luZSsoaW5zdC5vcHRpb25zLnBkZmpzZW5naW5lLmluZGV4T2YoXCI/XCIpPDA/XCI/XCI6XCImXCIpK1wiZmlsZT1cIitocmVmO2luc3Quc2hvd1dlYihwZGZlbGVtKX1lbHNlIGlmKGluc3Qub3B0aW9ucy5pc0lQaG9uZXx8aW5zdC5vcHRpb25zLmlzSVBhZHx8aW5zdC5vcHRpb25zLmlzQW5kcm9pZHx8aW5zdC5vcHRpb25zLmlzSUV8fGluc3Qub3B0aW9ucy5pc0lFMTEpe3ZhciB3aW49d2luZG93Lm9wZW4oZWxlbVtFTEVNX0hSRUZdLFwiX2JsYW5rXCIpO3dpbi5mb2N1cygpO2luc3QuZmluaXNoKCk7cmV0dXJufWVsc2UgaW5zdC5zaG93V2ViKGVsZW0pfTtpbnN0LnNob3dNUDM9ZnVuY3Rpb24oZWxlbSl7fTtpbnN0LnNob3dEaXY9ZnVuY3Rpb24oZWxlbSl7aW5zdC5zaG93VGl0bGUoZWxlbVtFTEVNX1RJVExFXSxcclxuZWxlbVtFTEVNX0RFU0NSSVBUSU9OXSk7dmFyIHdpbldpZHRoPSQod2luZG93KS53aWR0aCgpO3ZhciB3aW5IPSQod2luZG93KS5oZWlnaHQoKTt2YXIgbmF2SD1pbnN0Lm9wdGlvbnMuc2hvd25hdmlnYXRpb24mJmluc3QubmF2dmlzaWJsZT9pbnN0Lm9wdGlvbnMubmF2aGVpZ2h0OjA7dmFyIGRhdGFXPWVsZW1bRUxFTV9XSURUSF0/ZWxlbVtFTEVNX1dJRFRIXTppbnN0Lm9wdGlvbnMudXNlZGVmYXVsdHNpemVmb3Jjb250ZW50P2luc3Qub3B0aW9ucy5kZWZhdWx0d2lkdGg6d2luV2lkdGg7dmFyIGRhdGFIPWVsZW1bRUxFTV9IRUlHSFRdP2VsZW1bRUxFTV9IRUlHSFRdOmluc3Qub3B0aW9ucy51c2VkZWZhdWx0c2l6ZWZvcmNvbnRlbnQ/aW5zdC5vcHRpb25zLmRlZmF1bHRoZWlnaHQ6d2luSC1uYXZIO3ZhciBzaXplT2JqPWluc3QuY2FsY0VsZW1TaXplKHt3OmRhdGFXLGg6ZGF0YUh9LGZhbHNlKTtkYXRhVz1zaXplT2JqLnc7ZGF0YUg9c2l6ZU9iai5oO2luc3QucmVzaXplTGlnaHRib3goZGF0YVcsXHJcbmRhdGFILHRydWUsZnVuY3Rpb24oKXtpbnN0LiRsb2FkaW5nLmhpZGUoKTtpbnN0LiRpbWFnZS5odG1sKFwiPGRpdiBjbGFzcz0naHRtbDVsaWdodGJveC1kaXYnIGlkPSdodG1sNWxpZ2h0Ym94LWRpdlwiK2luc3Qub3B0aW9ucy5jdXJFbGVtK1wiJyBzdHlsZT0nZGlzcGxheTpibG9jazt3aWR0aDoxMDAlO2hlaWdodDpcIisoaW5zdC5vcHRpb25zLmF1dG9yZXNpemVjb250ZW50P1wiYXV0b1wiOlwiMTAwJVwiKStcIjtcIisoaW5zdC5vcHRpb25zLmlzSU9TP1wiLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6dG91Y2g7b3ZlcmZsb3cteTpzY3JvbGw7XCI6XCJvdmVyZmxvdzphdXRvO1wiKStcIic+PC9kaXY+XCIpLnNob3coKTt2YXIgZGl2SUQ9ZWxlbVtFTEVNX0hSRUZdO2lmKCQoZGl2SUQpLmxlbmd0aD4wKSQoZGl2SUQpLmNoaWxkcmVuKCkuYXBwZW5kVG8oJChcIiNodG1sNWxpZ2h0Ym94LWRpdlwiK2luc3Qub3B0aW9ucy5jdXJFbGVtLGluc3QuJGltYWdlKSk7ZWxzZSAkKFwiI2h0bWw1bGlnaHRib3gtZGl2XCIrXHJcbmluc3Qub3B0aW9ucy5jdXJFbGVtLGluc3QuJGltYWdlKS5odG1sKFwiPGRpdiBjbGFzcz0naHRtbDUtZXJyb3InPlRoZSBzcGVjaWZpZWQgZGl2IElEIGRvZXMgbm90IGV4aXN0LjwvZGl2PlwiKTtpbnN0LiRlbGVtLnNob3coKTtpbnN0LnNob3dEYXRhKCk7aWYoaW5zdC5vcHRpb25zLmF1dG9yZXNpemVjb250ZW50KWluc3QucmVzaXplV2luZG93KCk7aWYoaW5zdC5hdXRvc2xpZGluZyl7aW5zdC5zbGlkZVRpbWVvdXQuc3RvcCgpO2luc3Quc2xpZGVUaW1lb3V0LnN0YXJ0KCl9fSl9O2luc3QuaXNTYW1lRG9tYWluPWZ1bmN0aW9uKGhyZWYpe2lmKGhyZWYuc3Vic3RyaW5nKDAsNSkhPVwiaHR0cDpcIiYmaHJlZi5zdWJzdHJpbmcoMCw2KSE9XCJodHRwczpcIilyZXR1cm4gdHJ1ZTt2YXIgbGluaz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtsaW5rLnNldEF0dHJpYnV0ZShcImhyZWZcIixocmVmKTt2YXIgcmVzdWx0PWxpbmsucHJvdG9jb2w9PWRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sJiZcclxubGluay5ob3N0PT1kb2N1bWVudC5sb2NhdGlvbi5ob3N0JiZsaW5rLnBvcnQ9PWRvY3VtZW50LmxvY2F0aW9uLnBvcnQ7bGluaz1udWxsO3JldHVybiByZXN1bHR9O2luc3Quc2hvd1dlYj1mdW5jdGlvbihlbGVtKXtpbnN0LnNob3dUaXRsZShlbGVtW0VMRU1fVElUTEVdLGVsZW1bRUxFTV9ERVNDUklQVElPTl0pO3ZhciB3aW5XaWR0aD0kKHdpbmRvdykud2lkdGgoKTt2YXIgd2luSD0kKHdpbmRvdykuaGVpZ2h0KCk7dmFyIG5hdkg9aW5zdC5vcHRpb25zLnNob3duYXZpZ2F0aW9uJiZpbnN0Lm5hdnZpc2libGU/aW5zdC5vcHRpb25zLm5hdmhlaWdodDowO3ZhciBkYXRhVz1lbGVtW0VMRU1fV0lEVEhdP2VsZW1bRUxFTV9XSURUSF06aW5zdC5vcHRpb25zLnVzZWRlZmF1bHRzaXplZm9yY29udGVudD9pbnN0Lm9wdGlvbnMuZGVmYXVsdHdpZHRoOndpbldpZHRoO3ZhciBkYXRhSD1lbGVtW0VMRU1fSEVJR0hUXT9lbGVtW0VMRU1fSEVJR0hUXTppbnN0Lm9wdGlvbnMudXNlZGVmYXVsdHNpemVmb3Jjb250ZW50P1xyXG5pbnN0Lm9wdGlvbnMuZGVmYXVsdGhlaWdodDp3aW5ILW5hdkg7dmFyIHNpemVPYmo9aW5zdC5jYWxjRWxlbVNpemUoe3c6ZGF0YVcsaDpkYXRhSH0sZmFsc2UpO2RhdGFXPXNpemVPYmoudztkYXRhSD1zaXplT2JqLmg7aW5zdC5yZXNpemVMaWdodGJveChkYXRhVyxkYXRhSCx0cnVlLGZ1bmN0aW9uKCl7aW5zdC4kaW1hZ2UuaHRtbChcIjxkaXYgY2xhc3M9J2h0bWw1bGlnaHRib3gtd2ViJyBzdHlsZT0nZGlzcGxheTpibG9jazt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO1wiKyhpbnN0Lm9wdGlvbnMuaXNJT1M/XCItd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzp0b3VjaDtvdmVyZmxvdy15OnNjcm9sbDtcIjpcIlwiKStcIic+PC9kaXY+XCIpLnNob3coKTskKFwiLmh0bWw1bGlnaHRib3gtd2ViXCIsaW5zdC4kaW1hZ2UpLmh0bWwoXCI8aWZyYW1lIHN0eWxlPSdtYXJnaW46MDtwYWRkaW5nOjA7Ym9yZGVyOjA7JyBjbGFzcz0naHRtbDVsaWdodGJveC13ZWItaWZyYW1lJyB3aWR0aD0nMTAwJScgaGVpZ2h0PScxMDAlJyBzcmM9J1wiK1xyXG5lbGVtW0VMRU1fSFJFRl0rXCInIGZyYW1lYm9yZGVyPScwJyB3ZWJraXRBbGxvd0Z1bGxTY3JlZW4gbW96YWxsb3dmdWxsc2NyZWVuIGFsbG93RnVsbFNjcmVlbj48L2lmcmFtZT5cIik7JChcIi5odG1sNWxpZ2h0Ym94LXdlYi1pZnJhbWVcIixpbnN0LiRpbWFnZSkub24oXCJsb2FkXCIsZnVuY3Rpb24oKXtpbnN0LiRsb2FkaW5nLmhpZGUoKX0pO2luc3QuJGVsZW0uc2hvdygpO2luc3Quc2hvd0RhdGEoKTtpZihpbnN0Lm9wdGlvbnMuYXV0b3Jlc2l6ZWNvbnRlbnQmJmluc3QuaXNTYW1lRG9tYWluKGVsZW1bRUxFTV9IUkVGXSkpeyQoXCIuaHRtbDVsaWdodGJveC13ZWItaWZyYW1lXCIsaW5zdC4kaW1hZ2UpLmRhdGEoXCJzYW1lb3JpZ2luXCIsdHJ1ZSk7JChcIi5odG1sNWxpZ2h0Ym94LXdlYi1pZnJhbWVcIixpbnN0LiRpbWFnZSkub24oXCJsb2FkXCIsZnVuY3Rpb24oKXskKHRoaXMpLmRhdGEoXCJzYW1lb3JpZ2lubG9hZGVkXCIsdHJ1ZSk7aW5zdC5yZXNpemVXaW5kb3coKX0pfWlmKGluc3QuYXV0b3NsaWRpbmcpe2luc3Quc2xpZGVUaW1lb3V0LnN0b3AoKTtcclxuaW5zdC5zbGlkZVRpbWVvdXQuc3RhcnQoKX19KX07aW5zdC5zY3JvbGxCb3g9ZnVuY3Rpb24oKXt9O2luc3QucmVzaXplV2luZG93PWZ1bmN0aW9uKCl7aWYoIWluc3QuY3VycmVudEVsZW0pcmV0dXJuO2lmKCFpbnN0Lm9wdGlvbnMucmVzcG9uc2l2ZSlyZXR1cm47dmFyIHdpbldpZHRoPSQod2luZG93KS53aWR0aCgpO3ZhciB3aW5IPSQod2luZG93KS5oZWlnaHQoKTtpZighKGluc3Qub3B0aW9ucy5zaG93dGl0bGUmJmluc3QuY3VycmVudEVsZW1bRUxFTV9USVRMRV0mJmluc3QuY3VycmVudEVsZW1bRUxFTV9USVRMRV0ubGVuZ3RoPjB8fGluc3Qub3B0aW9ucy5zaG93ZGVzY3JpcHRpb24mJmluc3QuY3VycmVudEVsZW1bRUxFTV9ERVNDUklQVElPTl0mJmluc3QuY3VycmVudEVsZW1bRUxFTV9ERVNDUklQVElPTl0ubGVuZ3RoPjB8fGluc3Qub3B0aW9ucy5pbkdyb3VwJiYoaW5zdC5vcHRpb25zLnNob3dwbGF5YnV0dG9ufHxpbnN0Lm9wdGlvbnMuc2hvd3RpdGxlcHJlZml4KSkpaW5zdC5vcHRpb25zLmJhcmhlaWdodD1cclxuMDt2YXIgZWxlbVcsZWxlbUgsa2VlcHJhdGlvO2lmKGluc3QuY3VycmVudEVsZW1bRUxFTV9UWVBFXT09NXx8aW5zdC5jdXJyZW50RWxlbVtFTEVNX1RZUEVdPT03fHxpbnN0LmN1cnJlbnRFbGVtW0VMRU1fVFlQRV09PTEwKXt2YXIgbmF2SD1pbnN0Lm9wdGlvbnMuc2hvd25hdmlnYXRpb24mJmluc3QubmF2dmlzaWJsZT9pbnN0Lm9wdGlvbnMubmF2aGVpZ2h0OjA7ZWxlbVc9aW5zdC5jdXJyZW50RWxlbVtFTEVNX1dJRFRIXT9pbnN0LmN1cnJlbnRFbGVtW0VMRU1fV0lEVEhdOmluc3Qub3B0aW9ucy51c2VkZWZhdWx0c2l6ZWZvcmNvbnRlbnQ/aW5zdC5vcHRpb25zLmRlZmF1bHR3aWR0aDp3aW5XaWR0aDtlbGVtSD1pbnN0LmN1cnJlbnRFbGVtW0VMRU1fSEVJR0hUXT9pbnN0LmN1cnJlbnRFbGVtW0VMRU1fSEVJR0hUXTppbnN0Lm9wdGlvbnMudXNlZGVmYXVsdHNpemVmb3Jjb250ZW50P2luc3Qub3B0aW9ucy5kZWZhdWx0aGVpZ2h0OndpbkgtbmF2SDtrZWVwcmF0aW89ZmFsc2V9ZWxzZXtlbGVtVz1cclxuaW5zdC5jdXJyZW50RWxlbVtFTEVNX1dJRFRIXT9pbnN0LmN1cnJlbnRFbGVtW0VMRU1fV0lEVEhdOmluc3Qub3B0aW9ucy5kZWZhdWx0d2lkdGg7ZWxlbUg9aW5zdC5jdXJyZW50RWxlbVtFTEVNX0hFSUdIVF0/aW5zdC5jdXJyZW50RWxlbVtFTEVNX0hFSUdIVF06aW5zdC5vcHRpb25zLmRlZmF1bHRoZWlnaHQ7aWYoaW5zdC5jdXJyZW50RWxlbVtFTEVNX1RZUEVdPT0wKWtlZXByYXRpbz1pbnN0Lm9wdGlvbnMuaW1hZ2VrZWVwcmF0aW87ZWxzZSBrZWVwcmF0aW89dHJ1ZX12YXIgc2l6ZU9iaj1pbnN0LmNhbGNFbGVtU2l6ZSh7dzplbGVtVyxoOmVsZW1IfSxrZWVwcmF0aW8pO2luc3QuYWRqdXN0TGlnaHRib3hQb3Moc2l6ZU9iai53LHNpemVPYmouaCk7aW5zdC5hZGp1c3REYXRhSGVpZ2h0KCk7aWYoaW5zdC5vcHRpb25zLmF1dG9yZXNpemVjb250ZW50JiYoaW5zdC5jdXJyZW50RWxlbVtFTEVNX1RZUEVdPT01fHxpbnN0LmN1cnJlbnRFbGVtW0VMRU1fVFlQRV09PTd8fGluc3QuY3VycmVudEVsZW1bRUxFTV9UWVBFXT09XHJcbjEwKSl7dmFyIHJlc2l6ZUhlaWdodD1mYWxzZTtpZihpbnN0LmN1cnJlbnRFbGVtW0VMRU1fVFlQRV09PTcmJiQoXCIuaHRtbDVsaWdodGJveC13ZWItaWZyYW1lXCIsaW5zdC4kbGlnaHRib3gpLmxlbmd0aD4wJiYkKFwiLmh0bWw1bGlnaHRib3gtd2ViLWlmcmFtZVwiLGluc3QuJGxpZ2h0Ym94KS5kYXRhKFwic2FtZW9yaWdpbmxvYWRlZFwiKSl7dmFyIGlmcmFtZT0kKFwiLmh0bWw1bGlnaHRib3gtd2ViLWlmcmFtZVwiLGluc3QuJGxpZ2h0Ym94KVswXTtpZihpZnJhbWUmJmlmcmFtZS5jb250ZW50V2luZG93JiZpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudCYmaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldEhlaWdodClpZihlbGVtSD5pZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0KXtlbGVtSD1pZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xyXG5yZXNpemVIZWlnaHQ9dHJ1ZX19ZWxzZSBpZihpbnN0LmN1cnJlbnRFbGVtW0VMRU1fVFlQRV09PTEwJiYkKFwiLmh0bWw1bGlnaHRib3gtZGl2XCIsaW5zdC4kbGlnaHRib3gpLmxlbmd0aD4wKXt2YXIgZGl2SD0kKFwiLmh0bWw1bGlnaHRib3gtZGl2XCIsaW5zdC4kbGlnaHRib3gpLmhlaWdodCgpO2lmKGVsZW1IPmRpdkgpe2VsZW1IPWRpdkg7cmVzaXplSGVpZ2h0PXRydWV9fWlmKHJlc2l6ZUhlaWdodCl7c2l6ZU9iaj1pbnN0LmNhbGNFbGVtU2l6ZSh7dzplbGVtVyxoOmVsZW1IfSxrZWVwcmF0aW8pO2luc3QuYWRqdXN0TGlnaHRib3hQb3Moc2l6ZU9iai53LHNpemVPYmouaCl9fWlmKCQoXCIuaHRtbDUtbmF2XCIpLmxlbmd0aDw9MClyZXR1cm47JChcIi5odG1sNS1uYXYtbGlzdFwiKS5jc3Moe1wibWFyZ2luLWxlZnRcIjowfSk7dmFyICRuYXZNYXNrPSQoXCIuaHRtbDUtbmF2LW1hc2tcIik7dmFyICRuYXZQcmV2PSQoXCIuaHRtbDUtbmF2LXByZXZcIik7dmFyICRuYXZOZXh0PSQoXCIuaHRtbDUtbmF2LW5leHRcIik7XHJcbnZhciB3aW5XaWR0aD0kKHdpbmRvdykud2lkdGgoKTtpZihpbnN0Lm9wdGlvbnMudG90YWx3aWR0aDw9d2luV2lkdGgpeyRuYXZNYXNrLmNzcyh7d2lkdGg6aW5zdC5vcHRpb25zLnRvdGFsd2lkdGgrXCJweFwifSk7JG5hdlByZXYuaGlkZSgpOyRuYXZOZXh0LmhpZGUoKX1lbHNleyRuYXZNYXNrLmNzcyh7d2lkdGg6d2luV2lkdGgtMippbnN0Lm9wdGlvbnMubmF2YnV0dG9ud2lkdGgrXCJweFwifSk7JG5hdlByZXYuc2hvdygpOyRuYXZOZXh0LnNob3coKX19O2luc3QuY2FsY0VsZW1TaXplPWZ1bmN0aW9uKHNpemVPYmosa2VlcHJhdGlvKXtpZighaW5zdC5vcHRpb25zLnJlc3BvbnNpdmUpcmV0dXJuIHNpemVPYmo7dmFyIHdpbldpZHRoPSQod2luZG93KS53aWR0aCgpO3ZhciB3aW5IPSQod2luZG93KS5oZWlnaHQoKTt3aW5IPXdpbkg/d2luSDokKGRvY3VtZW50KS5oZWlnaHQoKTtpZihpbnN0Lm9wdGlvbnMucmVzaXplbGVmdHJpZ2h0JiYoaW5zdC5vcHRpb25zLnRpdGxlc3R5bGU9PVwibGVmdFwifHxcclxuaW5zdC5vcHRpb25zLnRpdGxlc3R5bGU9PVwicmlnaHRcIikmJndpbldpZHRoPmluc3Qub3B0aW9ucy5zaWRldG9ib3R0b21zY3JlZW53aWR0aClzaXplT2JqLnc9c2l6ZU9iai53KjEwMC9pbnN0Lm9wdGlvbnMuaW1hZ2VwZXJjZW50YWdlO3ZhciBuYXZIPWluc3Qub3B0aW9ucy5zaG93bmF2aWdhdGlvbiYmaW5zdC5uYXZ2aXNpYmxlP2luc3Qub3B0aW9ucy5uYXZoZWlnaHQ6MDt2YXIgdG9wbWFyZ2luPSQod2luZG93KS5oZWlnaHQoKTxpbnN0Lm9wdGlvbnMuc21hbGxzY3JlZW5oZWlnaHQ/aW5zdC5vcHRpb25zLmJvcmRlcnRvcG1hcmdpbnNtYWxsOmluc3Qub3B0aW9ucy5ib3JkZXJ0b3BtYXJnaW47dmFyIGgwPXdpbkgtbmF2SC0yKmluc3Qub3B0aW9ucy5ib3JkZXJzaXplLTIqdG9wbWFyZ2luO2lmKGluc3Qub3B0aW9ucy5yZXNwb25zaXZlYmFyaGVpZ2h0KWlmKHdpbkg8PWluc3Qub3B0aW9ucy5zbWFsbHNjcmVlbmhlaWdodClpbnN0Lm9wdGlvbnMuYmFyaGVpZ2h0PWluc3Qub3B0aW9ucy5iYXJoZWlnaHRvbnNtYWxsaGVpZ2h0O1xyXG5lbHNlIGluc3Qub3B0aW9ucy5iYXJoZWlnaHQ9aW5zdC5vcHRpb25zLmJhcmhlaWdodG9yaWdpbmFsO2lmKGluc3Qub3B0aW9ucy50aXRsZXN0eWxlPT1cImJvdHRvbVwiKWgwLT1pbnN0Lm9wdGlvbnMuYmFyaGVpZ2h0O2Vsc2UgaWYoaW5zdC5vcHRpb25zLnRpdGxlc3R5bGU9PVwib3V0c2lkZVwiKWgwLT1pbnN0LiRlbGVtRGF0YS5vdXRlckhlaWdodCgpO3ZhciB3MD13aW5XaWR0aC0yKmluc3Qub3B0aW9ucy5ib3JkZXJzaXplLTIqaW5zdC5vcHRpb25zLmJvcmRlcm1hcmdpbjtpZihpbnN0Lm9wdGlvbnMucmVzaXplbGVmdHJpZ2h0JiYoaW5zdC5vcHRpb25zLnRpdGxlc3R5bGU9PVwibGVmdFwifHxpbnN0Lm9wdGlvbnMudGl0bGVzdHlsZT09XCJyaWdodFwiKSYmd2luV2lkdGg+aW5zdC5vcHRpb25zLnNpZGV0b2JvdHRvbXNjcmVlbndpZHRoKXcwLT0yKmluc3Qub3B0aW9ucy5ib3JkZXJzaXplO2lmKGluc3Qub3B0aW9ucy5mdWxsc2NyZWVubW9kZSYmd2luV2lkdGg+aW5zdC5vcHRpb25zLm5hdmFycm93c2JvdHRvbXNjcmVlbndpZHRofHxcclxuKGluc3Qub3B0aW9ucy5pc1RvdWNoJiZpbnN0Lm9wdGlvbnMubmF2YXJyb3dzYWx3YXlzc2hvd29udG91Y2h8fGluc3Qub3B0aW9ucy5hbHdheXNzaG93bmF2YXJyb3dzKSYmd2luV2lkdGg+aW5zdC5vcHRpb25zLm5hdmFycm93c2JvdHRvbXNjcmVlbndpZHRoKXcwLT02NDtpZihpbnN0Lm9wdGlvbnMubm90a2VlcHJhdGlvb25zbWFsbGhlaWdodCYmd2luSDw9aW5zdC5vcHRpb25zLnNtYWxsc2NyZWVuaGVpZ2h0KWtlZXByYXRpbz1mYWxzZTtpZihpbnN0LmN1cnJlbnRFbGVtW0VMRU1fVFlQRV09PTAmJmtlZXByYXRpbyl7dmFyIHJhdGlvPWluc3QuY3VycmVudEVsZW1bRUxFTV9PUklHSU5BTFdJRFRIXS9pbnN0LmN1cnJlbnRFbGVtW0VMRU1fT1JJR0lOQUxIRUlHSFRdO2lmKGluc3Qub3B0aW9ucy5yZXNpemVsZWZ0cmlnaHQmJihpbnN0Lm9wdGlvbnMudGl0bGVzdHlsZT09XCJsZWZ0XCJ8fGluc3Qub3B0aW9ucy50aXRsZXN0eWxlPT1cInJpZ2h0XCIpJiZ3aW5XaWR0aD5pbnN0Lm9wdGlvbnMuc2lkZXRvYm90dG9tc2NyZWVud2lkdGgpcmF0aW8qPVxyXG4xMDAvaW5zdC5vcHRpb25zLmltYWdlcGVyY2VudGFnZTtzaXplT2JqLmg9TWF0aC5yb3VuZChzaXplT2JqLncvcmF0aW8pO2lmKHNpemVPYmouaD5oMCl7c2l6ZU9iai53PU1hdGgucm91bmQocmF0aW8qaDApO3NpemVPYmouaD1oMH1pZihzaXplT2JqLnc+dzApe3NpemVPYmouaD1NYXRoLnJvdW5kKHcwL3JhdGlvKTtzaXplT2JqLnc9dzB9fWVsc2V7aWYoc2l6ZU9iai5oPmgwKXtpZihrZWVwcmF0aW8pc2l6ZU9iai53PU1hdGgucm91bmQoc2l6ZU9iai53KmgwL3NpemVPYmouaCk7c2l6ZU9iai5oPWgwfWVsc2UgaWYoaW5zdC5vcHRpb25zLm1heGhlaWdodClzaXplT2JqLmg9aDA7aWYoc2l6ZU9iai53PncwKXtpZihrZWVwcmF0aW8pc2l6ZU9iai5oPU1hdGgucm91bmQoc2l6ZU9iai5oKncwL3NpemVPYmoudyk7c2l6ZU9iai53PXcwfX1pZihpbnN0Lm9wdGlvbnMucmVzaXplbGVmdHJpZ2h0JiYoaW5zdC5vcHRpb25zLnRpdGxlc3R5bGU9PVwibGVmdFwifHxpbnN0Lm9wdGlvbnMudGl0bGVzdHlsZT09XHJcblwicmlnaHRcIikmJndpbldpZHRoPmluc3Qub3B0aW9ucy5zaWRldG9ib3R0b21zY3JlZW53aWR0aClzaXplT2JqLncrPTIqaW5zdC5vcHRpb25zLmJvcmRlcnNpemU7cmV0dXJuIHNpemVPYmp9O2luc3QuYWRqdXN0RGF0YUhlaWdodD1mdW5jdGlvbigpe3ZhciB3aW5XaWR0aD0kKHdpbmRvdykud2lkdGgoKTt2YXIgd2luSD0kKHdpbmRvdykuaGVpZ2h0KCk7dmFyIGlzQm90dG9tVGV4dD1pbnN0Lm9wdGlvbnMudGl0bGVzdHlsZT09XCJib3R0b21cInx8aW5zdC5vcHRpb25zLnRpdGxlc3R5bGU9PVwib3V0c2lkZVwifHwoaW5zdC5vcHRpb25zLnRpdGxlc3R5bGU9PVwibGVmdFwifHxpbnN0Lm9wdGlvbnMudGl0bGVzdHlsZT09XCJyaWdodFwiKSYmd2luV2lkdGg8PWluc3Qub3B0aW9ucy5zaWRldG9ib3R0b21zY3JlZW53aWR0aDtpZihpbnN0Lm9wdGlvbnMucmVzcG9uc2l2ZWJhcmhlaWdodClpZih3aW5IPD1pbnN0Lm9wdGlvbnMuc21hbGxzY3JlZW5oZWlnaHQpaW5zdC5vcHRpb25zLmJhcmhlaWdodD1cclxuaW5zdC5vcHRpb25zLmJhcmhlaWdodG9uc21hbGxoZWlnaHQ7ZWxzZSBpbnN0Lm9wdGlvbnMuYmFyaGVpZ2h0PWluc3Qub3B0aW9ucy5iYXJoZWlnaHRvcmlnaW5hbDtpZihpc0JvdHRvbVRleHQpe3ZhciB0b3BtYXJnaW49JCh3aW5kb3cpLmhlaWdodCgpPGluc3Qub3B0aW9ucy5zbWFsbHNjcmVlbmhlaWdodD9pbnN0Lm9wdGlvbnMuYm9yZGVydG9wbWFyZ2luc21hbGw6aW5zdC5vcHRpb25zLmJvcmRlcnRvcG1hcmdpbjt2YXIgbmF2SD1pbnN0Lm9wdGlvbnMuc2hvd25hdmlnYXRpb24mJmluc3QubmF2dmlzaWJsZT9pbnN0Lm9wdGlvbnMubmF2aGVpZ2h0OjA7dmFyIHdpbkg9JCh3aW5kb3cpLmhlaWdodCgpO3ZhciBtYXhIPXdpbkgtdG9wbWFyZ2luLW5hdkg7dmFyIGJhckhlaWdodD1pbnN0Lm9wdGlvbnMuYmFyYXV0b2hlaWdodD9pbnN0LiRlbGVtRGF0YS5vdXRlckhlaWdodCgpOmluc3Qub3B0aW9ucy5iYXJoZWlnaHQ7dmFyIHRvdGFsSGVpZ2h0PWluc3QuJGVsZW1XcmFwLm91dGVySGVpZ2h0KCkrXHJcbmJhckhlaWdodDt2YXIgZWxlbUhlaWdodD1NYXRoLm1pbihtYXhILHRvdGFsSGVpZ2h0KTt2YXIgYm94TWFyZ2luPSh3aW5ILW5hdkgtZWxlbUhlaWdodCkvMjtpbnN0LiRlbGVtLmNzcyh7XCJtYXgtaGVpZ2h0XCI6ZWxlbUhlaWdodCtcInB4XCJ9KTtpbnN0LiRsaWdodGJveEJveC5jc3Moe1wibWFyZ2luLXRvcFwiOmJveE1hcmdpbitcInB4XCJ9KX1lbHNlIGluc3QuJGVsZW0uY3NzKHtcIm1heC1oZWlnaHRcIjpcIm5vbmVcIn0pO2lmKGluc3Qub3B0aW9ucy50aXRsZXN0eWxlPT1cImJvdHRvbVwifHxpbnN0Lm9wdGlvbnMudGl0bGVzdHlsZT09XCJpbnNpZGVcIilpbnN0LiRsaWdodGJveEJveC5jc3Moe2hlaWdodDpcImF1dG9cIn0pO2lmKGluc3Qub3B0aW9ucy5wb3NpdGlvbkZpeGVkKSQoXCIjaHRtbDUtbGlnaHRib3gtb3ZlcmxheVwiLGluc3QuJGxpZ2h0Ym94KS5jc3Moe2hlaWdodDpNYXRoLm1heCgkKHdpbmRvdykuaGVpZ2h0KCksJChkb2N1bWVudCkuaGVpZ2h0KCkpfSk7ZWxzZSAkKFwiI2h0bWw1LWxpZ2h0Ym94LW92ZXJsYXlcIixcclxuaW5zdC4kbGlnaHRib3gpLmNzcyh7aGVpZ2h0OlwiMTAwJVwifSl9O2luc3Quc2hvd0RhdGE9ZnVuY3Rpb24oKXtpZihpbnN0LiR0ZXh0LnRleHQoKS5sZW5ndGg+MClpbnN0LiRlbGVtRGF0YS5zaG93KCk7aW5zdC5hZGp1c3REYXRhSGVpZ2h0KCk7JCh3aW5kb3cpLnRyaWdnZXIoXCJodG1sNWxpZ2h0Ym94LmxpZ2h0Ym94b3BlbmVkXCIpfTtpbnN0LnJlc2l6ZUxpZ2h0Ym94PWZ1bmN0aW9uKGVsZW1XLGVsZW1ILGJBbmltYXRlLG9uRmluaXNoKXtpbnN0LmhpZGVOYXZBcnJvd3MoKTt2YXIgYm94UG9zPWluc3QuY2FsY0JveFBvc2l0aW9uKGVsZW1XLGVsZW1IKTt2YXIgYm94Vz1ib3hQb3NbMF07dmFyIGJveEg9Ym94UG9zWzFdO3ZhciBib3hUPWJveFBvc1syXTtpbnN0LiRsb2FkaW5nLmhpZGUoKTtpbnN0LiR3YXRlcm1hcmsuaGlkZSgpO2lmKGluc3Qub3B0aW9ucy5uZXh0RWxlbTw9aW5zdC5vcHRpb25zLmN1ckVsZW0paWYoaW5zdC5vcHRpb25zLm9ubGFzdGl0ZW0mJndpbmRvd1tpbnN0Lm9wdGlvbnMub25sYXN0aXRlbV0mJlxyXG50eXBlb2Ygd2luZG93W2luc3Qub3B0aW9ucy5vbmxhc3RpdGVtXT09XCJmdW5jdGlvblwiKXdpbmRvd1tpbnN0Lm9wdGlvbnMub25sYXN0aXRlbV0oaW5zdC5jdXJyZW50RWxlbSk7aWYoaW5zdC5vcHRpb25zLnByZXZFbGVtPj1pbnN0Lm9wdGlvbnMuY3VyRWxlbSlpZihpbnN0Lm9wdGlvbnMub25maXJzdGl0ZW0mJndpbmRvd1tpbnN0Lm9wdGlvbnMub25maXJzdGl0ZW1dJiZ0eXBlb2Ygd2luZG93W2luc3Qub3B0aW9ucy5vbmZpcnN0aXRlbV09PVwiZnVuY3Rpb25cIil3aW5kb3dbaW5zdC5vcHRpb25zLm9uZmlyc3RpdGVtXShpbnN0LmN1cnJlbnRFbGVtKTtpZighaW5zdC5vcHRpb25zLmZ1bGxzY3JlZW5tb2RlJiYoIWluc3Qub3B0aW9ucy5pc1RvdWNofHwhaW5zdC5vcHRpb25zLm5hdmFycm93c2Fsd2F5c3Nob3dvbnRvdWNoKSYmIWluc3Qub3B0aW9ucy5hbHdheXNzaG93bmF2YXJyb3dzKXtpbnN0LiRsaWdodGJveEJveC5vbihcIm1vdXNlZW50ZXIgbW91c2Vtb3ZlXCIsZnVuY3Rpb24oKXtpZihpbnN0Lm9wdGlvbnMuYXJyb3dsb29wJiZcclxuaW5zdC5vcHRpb25zLnByZXZFbGVtPj0wfHwhaW5zdC5vcHRpb25zLmFycm93bG9vcCYmaW5zdC5vcHRpb25zLnByZXZFbGVtPj0wJiZpbnN0Lm9wdGlvbnMucHJldkVsZW08aW5zdC5vcHRpb25zLmN1ckVsZW0paW5zdC4kcHJldi5mYWRlSW4oKTtpZihpbnN0Lm9wdGlvbnMuYXJyb3dsb29wJiZpbnN0Lm9wdGlvbnMubmV4dEVsZW0+PTB8fCFpbnN0Lm9wdGlvbnMuYXJyb3dsb29wJiZpbnN0Lm9wdGlvbnMubmV4dEVsZW0+PTAmJmluc3Qub3B0aW9ucy5uZXh0RWxlbT5pbnN0Lm9wdGlvbnMuY3VyRWxlbSlpbnN0LiRuZXh0LmZhZGVJbigpfSk7aW5zdC4kbGlnaHRib3hCb3gub24oXCJtb3VzZWxlYXZlXCIsZnVuY3Rpb24oKXtpbnN0LiRuZXh0LmZhZGVPdXQoKTtpbnN0LiRwcmV2LmZhZGVPdXQoKX0pfXZhciBleGlzdGluZ0JveFQ9cGFyc2VJbnQoaW5zdC4kbGlnaHRib3hCb3guY3NzKFwibWFyZ2luLXRvcFwiKSk7aW5zdC4kbGlnaHRib3hCb3guY3NzKHtcIm1hcmdpbi10b3BcIjpib3hUfSk7XHJcbmluc3QucmVzaXplUG9zaXRpb25GaXhlZCgpO3ZhciBzcGVlZD1iQW5pbWF0ZT9pbnN0Lm9wdGlvbnMucmVzaXplc3BlZWQ6MDtpZihpbnN0Lm9wdGlvbnMuZnVsbHNjcmVlbm1vZGUmJmluc3Qub3B0aW9ucy5mdWxsc2NyZWVubm90cmFuc2l0aW9uKXNwZWVkPTA7aWYoKGluc3Qub3B0aW9ucy50cmFuc2l0aW9uPT1cInNsaWRlXCJ8fGluc3Qub3B0aW9ucy50cmFuc2l0aW9uPT1cImNyb3NzZmFkZVwiKSYmaW5zdC5leGlzdGluZ0VsZW0+PTApc3BlZWQ9MDt2YXIgd2luV2lkdGg9JCh3aW5kb3cpLndpZHRoKCk7aWYoKGluc3Qub3B0aW9ucy50aXRsZXN0eWxlPT1cImxlZnRcInx8aW5zdC5vcHRpb25zLnRpdGxlc3R5bGU9PVwicmlnaHRcIikmJndpbldpZHRoPmluc3Qub3B0aW9ucy5zaWRldG9ib3R0b21zY3JlZW53aWR0aCl7aWYoYm94Vz09aW5zdC4kbGlnaHRib3hCb3gud2lkdGgoKSYmYm94SD09aW5zdC4kbGlnaHRib3hCb3guaGVpZ2h0KCkpc3BlZWQ9MDtpbnN0LiRsaWdodGJveEJveC5hbmltYXRlKHt3aWR0aDpib3hXfSxcclxuc3BlZWQpLmFuaW1hdGUoe2hlaWdodDpib3hIfSxzcGVlZCxmdW5jdGlvbigpe2luc3Qub25BbmltYXRlRmluaXNoKG9uRmluaXNoKX0pfWVsc2V7aWYoYm94Vz09aW5zdC4kZWxlbVdyYXAud2lkdGgoKSYmYm94SD09aW5zdC4kZWxlbVdyYXAuaGVpZ2h0KCkpc3BlZWQ9MDtpbnN0LiRsaWdodGJveEJveC5jc3Moe1wid2lkdGhcIjpib3hXLFwiaGVpZ2h0XCI6XCJhdXRvXCJ9KTtpbnN0LiRlbGVtV3JhcC5hbmltYXRlKHt3aWR0aDpib3hXfSxzcGVlZCkuYW5pbWF0ZSh7aGVpZ2h0OmJveEh9LHNwZWVkLGZ1bmN0aW9uKCl7aW5zdC5vbkFuaW1hdGVGaW5pc2gob25GaW5pc2gpfSl9fTtpbnN0Lm9uQW5pbWF0ZUZpbmlzaD1mdW5jdGlvbihvbkZpbmlzaCl7aW5zdC4kbG9hZGluZy5zaG93KCk7aW5zdC4kd2F0ZXJtYXJrLnNob3coKTtpbnN0LiRjbG9zZS5zaG93KCk7aW5zdC4kZWxlbS5jc3Moe1wiYmFja2dyb3VuZC1jb2xvclwiOmluc3Qub3B0aW9ucy5iZ2NvbG9yfSk7aW5zdC5yZXNpemVQb3NpdGlvbkZpeGVkKCk7XHJcbm9uRmluaXNoKCk7aW5zdC5maW5pc2hDYWxsYmFjaygpfTtpbnN0LmZpbmlzaENhbGxiYWNrPWZ1bmN0aW9uKCl7aWYoKGluc3Qub3B0aW9ucy50cmFuc2l0aW9uPT1cInNsaWRlXCJ8fGluc3Qub3B0aW9ucy50cmFuc2l0aW9uPT1cImNyb3NzZmFkZVwiKSYmaW5zdC5leGlzdGluZ0VsZW0+PTApaWYoaW5zdC5vcHRpb25zLnRyYW5zaXRpb249PVwic2xpZGVcIil7aW5zdC4kcHJldmVsZW0uYW5pbWF0ZSh7bGVmdDppbnN0LmRpcmVjdGlvbj09LTE/XCItMTAwJVwiOlwiMTAwJVwiLG9wYWNpdHk6MH0se2R1cmF0aW9uOmluc3Qub3B0aW9ucy50cmFuc2l0aW9uZHVyYXRpb259KTtpbnN0LiRlbGVtLmFuaW1hdGUoe2xlZnQ6MCxvcGFjaXR5OjF9LHtkdXJhdGlvbjppbnN0Lm9wdGlvbnMudHJhbnNpdGlvbmR1cmF0aW9uLGFsd2F5czpmdW5jdGlvbigpe2luc3QuJHByZXZlbGVtLnJlbW92ZSgpO2luc3QuJGVsZW0ucmVtb3ZlQ2xhc3MoXCJodG1sNS1lbGVtLWJveC1jdXJyZW50XCIpLmNzcyh7cG9zaXRpb246XCJyZWxhdGl2ZVwiLFxyXG5oZWlnaHQ6XCIxMDAlXCJ9KX19KX1lbHNle2luc3QuJHByZXZlbGVtLmFuaW1hdGUoe29wYWNpdHk6MH0se2R1cmF0aW9uOmluc3Qub3B0aW9ucy50cmFuc2l0aW9uZHVyYXRpb259KTtpbnN0LiRlbGVtLmFuaW1hdGUoe29wYWNpdHk6MX0se2R1cmF0aW9uOmluc3Qub3B0aW9ucy50cmFuc2l0aW9uZHVyYXRpb24sYWx3YXlzOmZ1bmN0aW9uKCl7aW5zdC4kcHJldmVsZW0ucmVtb3ZlKCk7aW5zdC4kZWxlbS5yZW1vdmVDbGFzcyhcImh0bWw1LWVsZW0tYm94LWN1cnJlbnRcIikuY3NzKHtwb3NpdGlvbjpcInJlbGF0aXZlXCIsaGVpZ2h0OlwiMTAwJVwifSl9fSl9fSxpbnN0LnJlc2V0RGl2PWZ1bmN0aW9uKGVsZW1JRCl7aWYoaW5zdC5lbGVtQXJyYXkubGVuZ3RoPjAmJmVsZW1JRD49MClpZihpbnN0LmVsZW1BcnJheVtlbGVtSURdW0VMRU1fVFlQRV09PTEwKXt2YXIgZGl2SUQ9aW5zdC5lbGVtQXJyYXlbZWxlbUlEXVtFTEVNX0hSRUZdO2lmKCQoZGl2SUQpLmxlbmd0aD4wKSQoXCIjaHRtbDVsaWdodGJveC1kaXZcIitcclxuZWxlbUlEKS5jaGlsZHJlbigpLmFwcGVuZFRvKCQoZGl2SUQpKX19O2luc3QucmVzZXQ9ZnVuY3Rpb24oKXtpZihpbnN0Lm9wdGlvbnMuc3RhbXApaW5zdC4kd2F0ZXJtYXJrLmhpZGUoKTtpbnN0LnNob3dpbmc9ZmFsc2U7aW5zdC4kaW1hZ2UuZW1wdHkoKTtpbnN0LiR0ZXh0LmVtcHR5KCk7aW5zdC4kZXJyb3IuaGlkZSgpO2luc3QuJGxvYWRpbmcuaGlkZSgpO2luc3QuJGltYWdlLmhpZGUoKTtpZihpbnN0Lm9wdGlvbnMudGl0bGVzdHlsZT09XCJib3R0b21cInx8aW5zdC5vcHRpb25zLnRpdGxlc3R5bGU9PVwiaW5zaWRlXCIpaW5zdC4kZWxlbURhdGEuaGlkZSgpO2lmKCFpbnN0Lm9wdGlvbnMuZnVsbHNjcmVlbm1vZGUpaW5zdC4kY2xvc2UuaGlkZSgpO2luc3QuJGVsZW0uY3NzKHtcImJhY2tncm91bmQtY29sb3JcIjpcIlwifSl9O2luc3QucmVzZXROYXZpZ2F0aW9uPWZ1bmN0aW9uKCl7aW5zdC5vcHRpb25zLm5hdmhlaWdodD0wOyQoXCIuaHRtbDUtbmF2XCIpLnJlbW92ZSgpO2luc3QubmF2dmlzaWJsZT1cclxuZmFsc2V9O2luc3QuZmluaXNoPWZ1bmN0aW9uKCl7aWYoaW5zdC5vcHRpb25zLmV4aXRhbmltYXRpb249PVwiZmFkZU91dFwifHxpbnN0Lm9wdGlvbnMuZXhpdGFuaW1hdGlvbj09XCJmYWRlT3V0RG93blwiKXtpbnN0LiRsaWdodGJveC5vbmUoXCJ3ZWJraXRBbmltYXRpb25FbmQgbW96QW5pbWF0aW9uRW5kIE1TQW5pbWF0aW9uRW5kIG9hbmltYXRpb25lbmQgYW5pbWF0aW9uZW5kXCIsZnVuY3Rpb24oKXtpbnN0LiRsaWdodGJveEJveC5yZW1vdmVDbGFzcyhcImh0bWw1Ym94LWFuaW1hdGVkIGh0bWw1Ym94LVwiK2luc3Qub3B0aW9ucy5leGl0YW5pbWF0aW9uKTtpbnN0LiRsaWdodGJveC5yZW1vdmVDbGFzcyhcImh0bWw1Ym94LWFuaW1hdGVkIGh0bWw1Ym94LWZhZGVPdXRcIik7aW5zdC5maW5pc2hEb25lKCl9KTtpbnN0LiRsaWdodGJveC5hZGRDbGFzcyhcImh0bWw1Ym94LWFuaW1hdGVkIGh0bWw1Ym94LWZhZGVPdXRcIik7aW5zdC4kbGlnaHRib3hCb3guYWRkQ2xhc3MoXCJodG1sNWJveC1hbmltYXRlZCBodG1sNWJveC1cIitcclxuaW5zdC5vcHRpb25zLmV4aXRhbmltYXRpb24pfWVsc2UgaW5zdC5maW5pc2hEb25lKCl9O2luc3QuZmluaXNoRG9uZT1mdW5jdGlvbigpe2luc3QuZXhpc3RpbmdFbGVtPS0xO2luc3QucmVzZXREaXYoaW5zdC5vcHRpb25zLmN1ckVsZW0pO2lmKCQoXCIuaHRtbDUtbGlnaHRib3gtdmlkZW9cIixpbnN0LiRsaWdodGJveCkubGVuZ3RoKSQoXCIuaHRtbDUtbGlnaHRib3gtdmlkZW9cIixpbnN0LiRsaWdodGJveCkuYXR0cihcInNyY1wiLFwiXCIpOyQoXCJoZWFkXCIpLmZpbmQoXCJzdHlsZVwiKS5lYWNoKGZ1bmN0aW9uKCl7aWYoJCh0aGlzKS5kYXRhKFwiY3JlYXRvclwiKT09XCJodG1sNWJveC1odG1sNS1saWdodGJveFwiKSQodGhpcykucmVtb3ZlKCl9KTtpZihpbnN0Lm9wdGlvbnMuYm9keW5vc2Nyb2xsKSQoXCJodG1sLGJvZHlcIikucmVtb3ZlQ2xhc3MoXCJib2R5bm9zY3JvbGxcIik7aW5zdC5zbGlkZVRpbWVvdXQuc3RvcCgpO2luc3QucmVzZXQoKTtpbnN0LnJlc2V0TmF2aWdhdGlvbigpO2luc3QuJGxpZ2h0Ym94LnJlbW92ZSgpO1xyXG4kKFwiI2h0bWw1Ym94LWh0bWw1LWxpZ2h0Ym94XCIpLnJlbW92ZSgpO2luc3Quc2hvd09iamVjdHMoKTtpZihpbnN0Lm9wdGlvbnMub25jbG9zZWxpZ2h0Ym94JiZ3aW5kb3dbaW5zdC5vcHRpb25zLm9uY2xvc2VsaWdodGJveF0mJnR5cGVvZiB3aW5kb3dbaW5zdC5vcHRpb25zLm9uY2xvc2VsaWdodGJveF09PVwiZnVuY3Rpb25cIil3aW5kb3dbaW5zdC5vcHRpb25zLm9uY2xvc2VsaWdodGJveF0oaW5zdC5jdXJyZW50RWxlbSk7aWYoaW5zdC5vbkxpZ2h0Ym94Q2xvc2VkJiZ0eXBlb2YgaW5zdC5vbkxpZ2h0Ym94Q2xvc2VkPT1cImZ1bmN0aW9uXCIpaW5zdC5vbkxpZ2h0Ym94Q2xvc2VkKGluc3QuY3VycmVudEVsZW0pOyQod2luZG93KS50cmlnZ2VyKFwiaHRtbDVsaWdodGJveC5saWdodGJveGNsb3NlZFwiKX07aW5zdC5wYXVzZVNsaWRlPWZ1bmN0aW9uKCl7fTtpbnN0LnBsYXlTbGlkZT1mdW5jdGlvbigpe307aW5zdC5nb3RvU2xpZGU9ZnVuY3Rpb24oc2xpZGUpe2luc3QuZXhpc3RpbmdFbGVtPVxyXG5pbnN0Lm9wdGlvbnMuY3VyRWxlbTtpbnN0LmRpcmVjdGlvbj1zbGlkZTtpbnN0LnJlc2V0RGl2KGluc3Qub3B0aW9ucy5jdXJFbGVtKTtpZihzbGlkZT09LTEpe2lmKGluc3Qub3B0aW9ucy5uZXh0RWxlbTwwKXJldHVybjtpbnN0Lm9wdGlvbnMuY3VyRWxlbT1pbnN0Lm9wdGlvbnMubmV4dEVsZW19ZWxzZSBpZihzbGlkZT09LTIpe2lmKGluc3Qub3B0aW9ucy5wcmV2RWxlbTwwKXJldHVybjtpbnN0Lm9wdGlvbnMuY3VyRWxlbT1pbnN0Lm9wdGlvbnMucHJldkVsZW19ZWxzZSBpZihzbGlkZT49MCl7aW5zdC5kaXJlY3Rpb249c2xpZGU+aW5zdC5vcHRpb25zLmN1ckVsZW0/LTE6LTI7aW5zdC5vcHRpb25zLmN1ckVsZW09c2xpZGV9aWYoaW5zdC5hdXRvc2xpZGluZylpbnN0LnNsaWRlVGltZW91dC5zdG9wKCk7aW5zdC5jYWxjTmV4dFByZXZFbGVtKCk7aWYoaW5zdC5vcHRpb25zLnRyYW5zaXRpb24hPVwic2xpZGVcIiYmaW5zdC5vcHRpb25zLnRyYW5zaXRpb24hPVwiY3Jvc3NmYWRlXCIpaW5zdC5yZXNldCgpO1xyXG5pbnN0LmxvYWRDdXJFbGVtKCk7aWYoaW5zdC5vcHRpb25zLnRpdGxlc3R5bGU9PVwiaW5zaWRlXCImJmluc3Qub3B0aW9ucy5zaG93b25tb3VzZW92ZXJpbnNpZGUmJmluc3QuY3VycmVudEVsZW1bRUxFTV9UWVBFXSE9PTAmJmluc3Qub3B0aW9ucy5zaG93aW5zaWRldGl0bGVmb3JpbWFnZW9ubHkpaW5zdC4kZWxlbURhdGEuY3NzKHtvcGFjaXR5OjB9KX07aW5zdC5lbmFibGVTd2lwZT1mdW5jdGlvbigpe3ZhciBwcmV2ZW50RGVmYXVsdD1pbnN0Lm9wdGlvbnMuaXNBbmRyb2lkJiYoaW5zdC5vcHRpb25zLnN3aXBlcHJldmVudGRlZmF1bHRvbmFuZHJvaWR8fGluc3Qub3B0aW9ucy5hbmRyb2lkVmVyc2lvbj49MCYmaW5zdC5vcHRpb25zLmFuZHJvaWRWZXJzaW9uPD01KT90cnVlOmZhbHNlO2luc3QuJGxpZ2h0Ym94Qm94Lmh0bWw1bGlnaHRib3hUb3VjaFN3aXBlKHtwcmV2ZW50V2ViQnJvd3NlcjpwcmV2ZW50RGVmYXVsdCxzd2lwZURpc3RhbmNlOmluc3Qub3B0aW9ucy5zd2lwZWRpc3RhbmNlLFxyXG5zd2lwZUxlZnQ6ZnVuY3Rpb24oKXtpbnN0LmdvdG9TbGlkZSgtMSl9LHN3aXBlUmlnaHQ6ZnVuY3Rpb24oKXtpbnN0LmdvdG9TbGlkZSgtMil9fSl9O2luc3QuaGlkZU9iamVjdHM9ZnVuY3Rpb24oKXskKFwic2VsZWN0LCBlbWJlZCwgb2JqZWN0XCIpLmNzcyh7XCJ2aXNpYmlsaXR5XCI6XCJoaWRkZW5cIn0pfTtpbnN0LnNob3dPYmplY3RzPWZ1bmN0aW9uKCl7JChcInNlbGVjdCwgZW1iZWQsIG9iamVjdFwiKS5jc3Moe1widmlzaWJpbGl0eVwiOlwidmlzaWJsZVwifSl9O2luc3QuZW1iZWRIVE1MNVZpZGVvPWZ1bmN0aW9uKCRjb250YWluZXIsc3JjLGF1dG9wbGF5LGxvb3B2aWRlbyxtdXRldmlkZW8peyRjb250YWluZXIuaHRtbChcIjxkaXYgc3R5bGU9J2Rpc3BsYXk6YmxvY2s7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtwb3NpdGlvbjpyZWxhdGl2ZTsnPjx2aWRlbyBjbGFzcz0naHRtbDUtbGlnaHRib3gtdmlkZW8nIHdpZHRoPScxMDAlJyBoZWlnaHQ9JzEwMCUnXCIrKGluc3Qub3B0aW9ucy5odG1sNXZpZGVvcG9zdGVyJiZcclxuaW5zdC5vcHRpb25zLmh0bWw1dmlkZW9wb3N0ZXIubGVuZ3RoPjA/XCJwb3N0ZXI9J1wiK2luc3Qub3B0aW9ucy5odG1sNXZpZGVvcG9zdGVyK1wiJ1wiOlwiXCIpKyhhdXRvcGxheT9cIiBhdXRvcGxheVwiOlwiXCIpKyhsb29wdmlkZW8/XCIgbG9vcFwiOlwiXCIpKyhtdXRldmlkZW8/XCIgbXV0ZWRcIjpcIlwiKSsoaW5zdC5vcHRpb25zLm5hdGl2ZWh0bWw1Y29udHJvbHMmJiFpbnN0Lm9wdGlvbnMudmlkZW9oaWRlY29udHJvbHM/XCIgY29udHJvbHM9J2NvbnRyb2xzJ1wiOlwiXCIpKyhpbnN0Lm9wdGlvbnMubmF0aXZlY29udHJvbHNub2Rvd25sb2FkPycgY29udHJvbHNMaXN0PVwibm9kb3dubG9hZFwiJzpcIlwiKStcIiBzcmM9J1wiK3NyYytcIic+PC9kaXY+XCIpO2lmKG11dGV2aWRlbylpbnN0Lm9wdGlvbnMuZGVmYXVsdHZpZGVvdm9sdW1lPTA7aWYoIWluc3Qub3B0aW9ucy5uYXRpdmVodG1sNWNvbnRyb2xzJiYhaW5zdC5vcHRpb25zLnZpZGVvaGlkZWNvbnRyb2xzKXskKFwidmlkZW9cIiwkY29udGFpbmVyKS5kYXRhKFwic3JjXCIsXHJcbnNyYyk7JChcInZpZGVvXCIsJGNvbnRhaW5lcikubGlnaHRib3hIVE1MNVZpZGVvQ29udHJvbHMoaW5zdC5vcHRpb25zLnNraW5zZm9sZGVyLGluc3QsXCIuaHRtbDUtbGlnaHRib3gtdmlkZW9cIixpbnN0Lm9wdGlvbnMudmlkZW9oaWRlY29udHJvbHMsZmFsc2UsaW5zdC5vcHRpb25zLmRlZmF1bHR2aWRlb3ZvbHVtZSxpbnN0Lm9wdGlvbnMubmF0aXZlY29udHJvbHNvbmZ1bGxzY3JlZW4saW5zdC5vcHRpb25zLm5hdGl2ZWNvbnRyb2xzbm9kb3dubG9hZCxudWxsKX0kKFwidmlkZW9cIiwkY29udGFpbmVyKS5vZmYoXCJlbmRlZFwiKS5vbihcImVuZGVkXCIsZnVuY3Rpb24oKXskKHdpbmRvdykudHJpZ2dlcihcImh0bWw1bGlnaHRib3gudmlkZW9maW5pc2hlZFwiKTtpZihpbnN0LmF1dG9zbGlkaW5nKWluc3QuZ290b1NsaWRlKC0xKTtlbHNlIGlmKGluc3Qub3B0aW9ucy5hdXRvY2xvc2Upc2V0VGltZW91dChmdW5jdGlvbigpe2luc3QuZmluaXNoKCl9LGluc3Qub3B0aW9ucy5hdXRvY2xvc2VkZWxheSl9KX07XHJcbmluc3QuZW1iZWRGbGFzaD1mdW5jdGlvbigkY29udGFpbmVyLHNyYyx3bW9kZSxmbGFzaFZhcnMpe2lmKGluc3Qub3B0aW9ucy5mbGFzaEluc3RhbGxlZCl7dmFyIGh0bWxPcHRpb25zPXtwbHVnaW5zcGFnZTpcImh0dHA6Ly93d3cuYWRvYmUuY29tL2dvL2dldGZsYXNocGxheWVyXCIscXVhbGl0eTpcImhpZ2hcIixhbGxvd0Z1bGxTY3JlZW46XCJ0cnVlXCIsYWxsb3dTY3JpcHRBY2Nlc3M6XCJhbHdheXNcIix0eXBlOlwiYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2hcIn07aHRtbE9wdGlvbnMud2lkdGg9XCIxMDAlXCI7aHRtbE9wdGlvbnMuaGVpZ2h0PVwiMTAwJVwiO2h0bWxPcHRpb25zLnNyYz1zcmM7aHRtbE9wdGlvbnMuZmxhc2hWYXJzPSQucGFyYW0oZmxhc2hWYXJzKTtodG1sT3B0aW9ucy53bW9kZT13bW9kZTt2YXIgaHRtbFN0cmluZz1cIlwiO2Zvcih2YXIga2V5IGluIGh0bWxPcHRpb25zKWh0bWxTdHJpbmcrPWtleStcIj1cIitodG1sT3B0aW9uc1trZXldK1wiIFwiOyRjb250YWluZXIuaHRtbChcIjxlbWJlZCBcIitcclxuaHRtbFN0cmluZytcIi8+XCIpfWVsc2UgJGNvbnRhaW5lci5odG1sKFwiPGRpdiBjbGFzcz0naHRtbDVsaWdodGJveC1mbGFzaC1lcnJvcicgc3R5bGU9J2Rpc3BsYXk6YmxvY2s7IHBvc2l0aW9uOnJlbGF0aXZlO3RleHQtYWxpZ246Y2VudGVyOyB3aWR0aDoxMDAlOyBsZWZ0OjBweDsgdG9wOjQwJTsnPjxkaXYgY2xhc3M9J2h0bWw1LWVycm9yJz48ZGl2PlRoZSByZXF1aXJlZCBBZG9iZSBGbGFzaCBQbGF5ZXIgcGx1Z2luIGlzIG5vdCBpbnN0YWxsZWQ8L2Rpdj48YnIgLz48ZGl2IHN0eWxlPSdkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlO3RleHQtYWxpZ246Y2VudGVyO3dpZHRoOjExMnB4O2hlaWdodDozM3B4O21hcmdpbjowcHggYXV0bzsnPjxhIGhyZWY9J2h0dHA6Ly93d3cuYWRvYmUuY29tL2dvL2dldGZsYXNocGxheWVyJz48aW1nIHNyYz0naHR0cDovL3d3dy5hZG9iZS5jb20vaW1hZ2VzL3NoYXJlZC9kb3dubG9hZF9idXR0b25zL2dldF9mbGFzaF9wbGF5ZXIuZ2lmJyBhbHQ9J0dldCBBZG9iZSBGbGFzaCBwbGF5ZXInIHdpZHRoPScxMTInIGhlaWdodD0nMzMnPjwvaW1nPjwvYT48L2Rpdj48L2Rpdj5cIil9O1xyXG5pbnN0LmNoZWNrVHlwZT1mdW5jdGlvbihocmVmKXtpZighaHJlZilyZXR1cm4tMTtpZihocmVmLm1hdGNoKC9cXC4oanBnfGdpZnxwbmd8Ym1wfGpwZWcpKC4qKT8kL2kpKXJldHVybiAwO2lmKGhyZWYubWF0Y2goL1teXFwuXVxcLihzd2YpXFxzKiQvaSkpcmV0dXJuIDE7aWYoaHJlZi5tYXRjaCgvXFwuKG1wNHxtNHZ8b2d2fG9nZ3x3ZWJtKSguKik/JC9pKSlyZXR1cm4gMjtpZihocmVmLm1hdGNoKC9cXDpcXC9cXC8uKih5b3V0dWJlXFwuY29tKS9pKXx8aHJlZi5tYXRjaCgvXFw6XFwvXFwvLiooeW91dHVcXC5iZSkvaSkpcmV0dXJuIDM7aWYoaHJlZi5tYXRjaCgvXFw6XFwvXFwvLioodmltZW9cXC5jb20pL2kpKXJldHVybiA0O2lmKGhyZWYubWF0Y2goL1xcOlxcL1xcLy4qKGRhaWx5bW90aW9uXFwuY29tKS9pKXx8aHJlZi5tYXRjaCgvXFw6XFwvXFwvLiooZGFpXFwubHkpL2kpKXJldHVybiA5O2lmKGhyZWYubWF0Y2goL1teXFwuXVxcLihwZGYpL2kpKXJldHVybiA1O2lmKGhyZWYubWF0Y2goL1teXFwuXVxcLihtcDMpXFxzKiQvaSkpcmV0dXJuIDY7XHJcbmlmKGhyZWYubWF0Y2goL1teXFwuXVxcLihmbHYpXFxzKiQvaSkpcmV0dXJuIDg7aWYoaHJlZi5tYXRjaCgvXFwjXFx3Ky9pKSlyZXR1cm4gMTA7aWYoaHJlZi5tYXRjaCgvXFw6XFwvXFwvLiood2lzdGlhKS9pKSlyZXR1cm4gMTE7cmV0dXJuIDd9O2luc3QuZ2V0VVJMUGFyYW1zPWZ1bmN0aW9uKCl7dmFyIHJlc3VsdD17fTt2YXIgcGFyYW1zPXdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpLnNwbGl0KFwiJlwiKTtmb3IodmFyIGk9MDtpPHBhcmFtcy5sZW5ndGg7aSsrKXt2YXIgdmFsdWU9cGFyYW1zW2ldLnNwbGl0KFwiPVwiKTtpZih2YWx1ZSYmdmFsdWUubGVuZ3RoPT0yKXJlc3VsdFt2YWx1ZVswXS50b0xvd2VyQ2FzZSgpXT11bmVzY2FwZSh2YWx1ZVsxXSl9cmV0dXJuIHJlc3VsdH07aW5zdC5hYnNvbHV0ZVVybD1mdW5jdGlvbihocmVmKXt2YXIgbGluaz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtsaW5rLmhyZWY9aHJlZjtyZXR1cm4gbGluay5wcm90b2NvbCtcIi8vXCIrbGluay5ob3N0K1xyXG5saW5rLnBhdGhuYW1lK2xpbmsuc2VhcmNoK2xpbmsuaGFzaH07aW5zdC5zaG93TGlnaHRib3hPYmplY3Q9ZnVuY3Rpb24ob2JqKXtpZihvYmopaW5zdC5zaG93TGlnaHRib3gob2JqLnR5cGUsb2JqLmhyZWYsb2JqLnRpdGxlLG9iai53aWR0aCxvYmouaGVpZ2h0LG9iai53ZWJtLG9iai5vZ2csb2JqLnRodW1ibmFpbCxvYmouZGVzY3JpcHRpb24sb2JqLmRpdixvYmoub3JpZ2luYWx3aWR0aCxvYmoub3JpZ2luYWxoZWlnaHQsb2JqLnNvY2lhbG1lZGlhLG9iai53ZWJsaW5rLG9iai53ZWJsaW5rdGFyZ2V0LG9iai53ZWJsaW5rdGV4dCxvYmouZ3JvdXApfTtpbnN0LnNob3dMaWdodGJveD1mdW5jdGlvbih0eXBlLGhyZWYsdGl0bGUsd2lkdGgsaGVpZ2h0LHdlYm0sb2dnLHRodW1ibmFpbCxkZXNjcmlwdGlvbixkaXYsb3JpZ2luYWx3aWR0aCxvcmlnaW5hbGhlaWdodCxzb2NpYWxtZWRpYSx3ZWJsaW5rLHdlYmxpbmt0YXJnZXQsd2VibGlua3RleHQsZ3JvdXApe2luc3Qub3B0aW9ucz1cclxuJC5leHRlbmQoaW5zdC5vcHRpb25zLGluc3QuZGVmYXVsdG9wdGlvbnMpOyQod2luZG93KS50cmlnZ2VyKFwiaHRtbDVsaWdodGJveC5saWdodGJveHNob3dcIik7aW5zdC5pbml0KCk7aW5zdC5yZXNldCgpO2luc3QuJGxpZ2h0Ym94LnNob3coKTtpbnN0LmFkanVzdExpZ2h0Ym94UG9zKGluc3Qub3B0aW9ucy5sb2FkaW5nd2lkdGgsaW5zdC5vcHRpb25zLmxvYWRpbmdoZWlnaHQpO2luc3QubG9hZEVsZW0obmV3IEFycmF5KHR5cGUsaHJlZix0aXRsZSxncm91cCx3aWR0aCxoZWlnaHQsd2VibSxvZ2csdGh1bWJuYWlsLGRlc2NyaXB0aW9uLGRpdixvcmlnaW5hbHdpZHRoLG9yaWdpbmFsaGVpZ2h0LHNvY2lhbG1lZGlhLHdlYmxpbmssd2VibGlua3RhcmdldCx3ZWJsaW5rdGV4dCkpfTtpbnN0LmFkZEl0ZW1Ob0R1cGxpY2F0ZT1mdW5jdGlvbihocmVmLHRpdGxlLGdyb3VwLHdpZHRoLGhlaWdodCx3ZWJtLG9nZyx0aHVtYm5haWwsZGVzY3JpcHRpb24sbWVkaWF0eXBlKXtmb3IodmFyIGk9XHJcbjA7aTxpbnN0LmVsZW1BcnJheS5sZW5ndGg7aSsrKWlmKGluc3QuZWxlbUFycmF5W2ldW0VMRU1fSFJFRl09PWhyZWYpcmV0dXJuO2luc3QuYWRkSXRlbShocmVmLHRpdGxlLGdyb3VwLHdpZHRoLGhlaWdodCx3ZWJtLG9nZyx0aHVtYm5haWwsZGVzY3JpcHRpb24sbWVkaWF0eXBlKX07aW5zdC5hZGRJdGVtPWZ1bmN0aW9uKGhyZWYsdGl0bGUsZ3JvdXAsd2lkdGgsaGVpZ2h0LHdlYm0sb2dnLHRodW1ibmFpbCxkZXNjcmlwdGlvbixtZWRpYXR5cGUpe3R5cGU9bWVkaWF0eXBlJiZtZWRpYXR5cGU+PTA/bWVkaWF0eXBlOmluc3QuY2hlY2tUeXBlKGhyZWYpO2luc3QuZWxlbUFycmF5LnB1c2gobmV3IEFycmF5KHR5cGUsaHJlZix0aXRsZSxncm91cCx3aWR0aCxoZWlnaHQsd2VibSxvZ2csdGh1bWJuYWlsLGRlc2NyaXB0aW9uKSl9O2luc3Quc2hvd0l0ZW09ZnVuY3Rpb24oaHJlZil7aW5zdC5vcHRpb25zPSQuZXh0ZW5kKGluc3Qub3B0aW9ucyxpbnN0LmRlZmF1bHRvcHRpb25zKTskKHdpbmRvdykudHJpZ2dlcihcImh0bWw1bGlnaHRib3gubGlnaHRib3hzaG93XCIpO1xyXG5pbnN0LmluaXQoKTtpZihpbnN0LmVsZW1BcnJheS5sZW5ndGg8PTApcmV0dXJuIHRydWU7aW5zdC5oaWRlT2JqZWN0cygpO2Zvcih2YXIgaT0wO2k8aW5zdC5lbGVtQXJyYXkubGVuZ3RoO2krKylpZihpbnN0LmVsZW1BcnJheVtpXVtFTEVNX0hSRUZdPT1ocmVmKWJyZWFrO2lmKGk9PWluc3QuZWxlbUFycmF5Lmxlbmd0aClyZXR1cm4gdHJ1ZTtpbnN0Lm9wdGlvbnMuY3VyRWxlbT1pO2luc3QuY2FsY05leHRQcmV2RWxlbSgpO2luc3QucmVzZXQoKTtpbnN0LiRsaWdodGJveC5zaG93KCk7aW5zdC5hZGp1c3RMaWdodGJveFBvcyhpbnN0Lm9wdGlvbnMubG9hZGluZ3dpZHRoLGluc3Qub3B0aW9ucy5sb2FkaW5naGVpZ2h0KTtpbnN0LmxvYWRDdXJFbGVtKCk7cmV0dXJuIGZhbHNlfTtpbnN0LmVhY2goZnVuY3Rpb24oKXt2YXIgc2VsZj0kKHRoaXMpO3ZhciBub2RlTmFtZT10aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7aWYobm9kZU5hbWU9PVwiYVwifHxub2RlTmFtZT09XCJhcmVhXCIpc2VsZi5vZmYoXCJjbGlja1wiKS5jbGljayhpbnN0LmNsaWNrSGFuZGxlcik7XHJcbmVsc2Ugc2VsZi5maW5kKFwiYSxhcmVhXCIpLmVhY2goZnVuY3Rpb24oKXskKHRoaXMpLm9mZihcImNsaWNrXCIpLmNsaWNrKGluc3QuY2xpY2tIYW5kbGVyKX0pO3ZhciBhdXRvb3Blbj1mYWxzZTt2YXIgYXV0b29wZW5kZWxheT0wO3ZhciBhdXRvb3Blbm9uY2U9ZmFsc2U7dmFyIGF1dG9vcGVub25jZWV4cGlyZT0wO2lmKHR5cGVvZiBodG1sNWxpZ2h0Ym94X29wdGlvbnMhPVwidW5kZWZpbmVkXCImJmh0bWw1bGlnaHRib3hfb3B0aW9ucyl7aWYoXCJhdXRvb3BlblwiaW4gaHRtbDVsaWdodGJveF9vcHRpb25zKWF1dG9vcGVuPWh0bWw1bGlnaHRib3hfb3B0aW9ucy5hdXRvb3BlbjtpZihcImF1dG9vcGVuZGVsYXlcImluIGh0bWw1bGlnaHRib3hfb3B0aW9ucylhdXRvb3BlbmRlbGF5PWh0bWw1bGlnaHRib3hfb3B0aW9ucy5hdXRvb3BlbmRlbGF5O2lmKFwiYXV0b29wZW5vbmNlXCJpbiBodG1sNWxpZ2h0Ym94X29wdGlvbnMpYXV0b29wZW5vbmNlPWh0bWw1bGlnaHRib3hfb3B0aW9ucy5hdXRvb3Blbm9uY2U7XHJcbmlmKFwiYXV0b29wZW5vbmNlZXhwaXJlXCJpbiBodG1sNWxpZ2h0Ym94X29wdGlvbnMpYXV0b29wZW5vbmNlZXhwaXJlPWh0bWw1bGlnaHRib3hfb3B0aW9ucy5hdXRvb3Blbm9uY2VleHBpcmV9YXV0b29wZW49c2VsZi5kYXRhKFwiYXV0b29wZW5cIik/c2VsZi5kYXRhKFwiYXV0b29wZW5cIik6YXV0b29wZW47YXV0b29wZW5kZWxheT1zZWxmLmRhdGEoXCJhdXRvb3BlbmRlbGF5XCIpP3NlbGYuZGF0YShcImF1dG9vcGVuZGVsYXlcIik6YXV0b29wZW5kZWxheTthdXRvb3Blbm9uY2U9c2VsZi5kYXRhKFwiYXV0b29wZW5vbmNlXCIpP3NlbGYuZGF0YShcImF1dG9vcGVub25jZVwiKTphdXRvb3Blbm9uY2U7YXV0b29wZW5vbmNlZXhwaXJlPXNlbGYuZGF0YShcImF1dG9vcGVub25jZWV4cGlyZVwiKT9zZWxmLmRhdGEoXCJhdXRvb3Blbm9uY2VleHBpcmVcIik6YXV0b29wZW5vbmNlZXhwaXJlO2F1dG9jb29raWU9XCJodG1sNWxpZ2h0Ym94cG9wdXA9MTtwYXRoPS9cIjtpZihhdXRvb3Blbm9uY2VleHBpcmU+MCl7dmFyIGV4cGlyZXM9XHJcbm5ldyBEYXRlO2V4cGlyZXMuc2V0VGltZShleHBpcmVzLmdldFRpbWUoKSthdXRvb3Blbm9uY2VleHBpcmUqNjAqNjAqMUUzKTthdXRvY29va2llKz1cIjtleHBpcmVzPVwiK2V4cGlyZXMudG9VVENTdHJpbmcoKX1pZihhdXRvb3Blbil7dmFyIGlzX3BvcHBlZD1mYWxzZTtpZihhdXRvb3Blbm9uY2Upe3ZhciBjb29raWVzPWRvY3VtZW50LmNvb2tpZT9kb2N1bWVudC5jb29raWUuc3BsaXQoXCI7XCIpOltdO2Zvcih2YXIgaSBpbiBjb29raWVzKXt2YXIgcGFydHM9JC50cmltKGNvb2tpZXNbaV0pLnNwbGl0KFwiPVwiKTtpZihwYXJ0cy5sZW5ndGgmJnBhcnRzWzBdPT1cImh0bWw1bGlnaHRib3hwb3B1cFwiKXtpc19wb3BwZWQ9dHJ1ZTticmVha319fWlmKCFpc19wb3BwZWQpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtzZWxmLmNsaWNrKCk7ZG9jdW1lbnQuY29va2llPWF1dG9jb29raWV9LGF1dG9vcGVuZGVsYXkpO3JldHVybiBmYWxzZX19aWYoc2VsZi5kYXRhKFwicHJlbG9hZG9ucGFnZWxvYWRcIikpe3ZhciBmaWxlVHlwZT1cclxuXCJtZWRpYXR5cGVcImluIHNlbGYuZGF0YSgpP3NlbGYuZGF0YShcIm1lZGlhdHlwZVwiKTppbnN0LmNoZWNrVHlwZShzZWxmLmF0dHIoXCJocmVmXCIpKTtpZihmaWxlVHlwZT09MCl7dmFyIHByZWxvYWRkZWxheT1zZWxmLmRhdGEoXCJwcmVsb2FkZGVsYXlcIik/c2VsZi5kYXRhKFwicHJlbG9hZGRlbGF5XCIpOjA7c2V0VGltZW91dChmdW5jdGlvbigpeyhuZXcgSW1hZ2UpLnNyYz1zZWxmLmF0dHIoXCJocmVmXCIpfSxwcmVsb2FkZGVsYXkpfX19KTt2YXIgdXJsUGFyYW1zPWluc3QuZ2V0VVJMUGFyYW1zKCk7aWYoXCJodG1sNWxpZ2h0Ym94c2hhcmVcImluIHVybFBhcmFtcyl7dmFyIHNoYXJlVXJsPWRlY29kZVVSSUNvbXBvbmVudCh1cmxQYXJhbXNbXCJodG1sNWxpZ2h0Ym94c2hhcmVcIl0pO3ZhciBzaGFyZUxpbms9JCgnLmh0bWw1bGlnaHRib3hbaHJlZj1cIicrc2hhcmVVcmwrJ1wiXScpO2lmKHNoYXJlTGluay5sZW5ndGg+MClzaGFyZUxpbmsuY2xpY2soKX1pZihpbnN0Lm9wdGlvbnMucHJlbG9hZGFsbG9ucGFnZWxvYWQpc2V0VGltZW91dChmdW5jdGlvbigpe2luc3QuZWFjaChmdW5jdGlvbigpe2lmKHRoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKSE9XHJcblwiYVwiJiZ0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkhPVwiYXJlYVwiKXJldHVybjt2YXIgZmlsZVR5cGU9XCJtZWRpYXR5cGVcImluICQodGhpcykuZGF0YSgpPyQodGhpcykuZGF0YShcIm1lZGlhdHlwZVwiKTppbnN0LmNoZWNrVHlwZSgkKHRoaXMpLmF0dHIoXCJocmVmXCIpKTtpZihmaWxlVHlwZSE9PTApcmV0dXJuOyhuZXcgSW1hZ2UpLnNyYz0kKHRoaXMpLmF0dHIoXCJocmVmXCIpO2lmKCQodGhpcykuZGF0YShcInRodW1ibmFpbFwiKSkobmV3IEltYWdlKS5zcmM9JCh0aGlzKS5kYXRhKFwidGh1bWJuYWlsXCIpfSl9LGluc3Qub3B0aW9ucy5wcmVsb2FkYWxsZGVsYXkpO3JldHVybiBpbnN0fX0pKGpRdWVyeSk7KGZ1bmN0aW9uKCQpeyQuZm4uaHRtbDVsaWdodGJveFRvdWNoU3dpcGU9ZnVuY3Rpb24ob3B0aW9ucyl7dmFyIGRlZmF1bHRzPXtwcmV2ZW50V2ViQnJvd3NlcjpmYWxzZSxzd2lwZURpc3RhbmNlOjAsc3dpcGVMZWZ0Om51bGwsc3dpcGVSaWdodDpudWxsLHN3aXBlVG9wOm51bGwsc3dpcGVCb3R0b206bnVsbH07XHJcbmlmKG9wdGlvbnMpJC5leHRlbmQoZGVmYXVsdHMsb3B0aW9ucyk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBzdGFydFg9LTEsc3RhcnRZPS0xO3ZhciBjdXJYPS0xLGN1clk9LTE7ZnVuY3Rpb24gdG91Y2hTdGFydChldmVudCl7dmFyIGU9ZXZlbnQub3JpZ2luYWxFdmVudDtpZihlLnRhcmdldFRvdWNoZXMubGVuZ3RoPj0xKXtzdGFydFg9ZS50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYO3N0YXJ0WT1lLnRhcmdldFRvdWNoZXNbMF0ucGFnZVl9ZWxzZSB0b3VjaENhbmNlbChldmVudCl9ZnVuY3Rpb24gdG91Y2hNb3ZlKGV2ZW50KXtpZihkZWZhdWx0cy5wcmV2ZW50V2ViQnJvd3NlcilldmVudC5wcmV2ZW50RGVmYXVsdCgpO3ZhciBlPWV2ZW50Lm9yaWdpbmFsRXZlbnQ7aWYoZS50YXJnZXRUb3VjaGVzLmxlbmd0aD49MSl7Y3VyWD1lLnRhcmdldFRvdWNoZXNbMF0ucGFnZVg7Y3VyWT1lLnRhcmdldFRvdWNoZXNbMF0ucGFnZVl9ZWxzZSB0b3VjaENhbmNlbChldmVudCl9ZnVuY3Rpb24gdG91Y2hFbmQoZXZlbnQpe2lmKGN1clg+XHJcbjB8fGN1clk+MCl7dHJpZ2dlckhhbmRsZXIoKTt0b3VjaENhbmNlbChldmVudCl9ZWxzZSB0b3VjaENhbmNlbChldmVudCl9ZnVuY3Rpb24gdG91Y2hDYW5jZWwoZXZlbnQpe3N0YXJ0WD0tMTtzdGFydFk9LTE7Y3VyWD0tMTtjdXJZPS0xfWZ1bmN0aW9uIHRyaWdnZXJIYW5kbGVyKCl7aWYoTWF0aC5hYnMoY3VyWC1zdGFydFgpPk1hdGguYWJzKGN1clktc3RhcnRZKSl7aWYoTWF0aC5hYnMoY3VyWC1zdGFydFgpPmRlZmF1bHRzLnN3aXBlRGlzdGFuY2UpaWYoY3VyWD5zdGFydFgpe2lmKGRlZmF1bHRzLnN3aXBlUmlnaHQpZGVmYXVsdHMuc3dpcGVSaWdodC5jYWxsKCl9ZWxzZSBpZihkZWZhdWx0cy5zd2lwZUxlZnQpZGVmYXVsdHMuc3dpcGVMZWZ0LmNhbGwoKX1lbHNlIGlmKE1hdGguYWJzKGN1clktc3RhcnRZKT5kZWZhdWx0cy5zd2lwZURpc3RhbmNlKWlmKGN1clk+c3RhcnRZKXtpZihkZWZhdWx0cy5zd2lwZUJvdHRvbSlkZWZhdWx0cy5zd2lwZUJvdHRvbS5jYWxsKCl9ZWxzZSBpZihkZWZhdWx0cy5zd2lwZVRvcClkZWZhdWx0cy5zd2lwZVRvcC5jYWxsKCl9XHJcbnRyeXskKHRoaXMpLm9uKFwidG91Y2hzdGFydFwiLHRvdWNoU3RhcnQpOyQodGhpcykub24oXCJ0b3VjaG1vdmVcIix0b3VjaE1vdmUpOyQodGhpcykub24oXCJ0b3VjaGVuZFwiLHRvdWNoRW5kKTskKHRoaXMpLm9uKFwidG91Y2hjYW5jZWxcIix0b3VjaENhbmNlbCl9Y2F0Y2goZSl7fX0pfX0pKGpRdWVyeSk7KGZ1bmN0aW9uKCQpeyQuZm4ubGlnaHRib3hIVE1MNVZpZGVvQ29udHJvbHM9ZnVuY3Rpb24oc2tpbkZvbGRlcixwYXJlbnRJbnN0LHZpZGVvRWxlbSxoaWRlQ29udHJvbHMsaGlkZVBsYXlCdXR0b24sZGVmYXVsdFZvbHVtZSxmdWxsc2NyZWVuTmF0aXZlQ29udHJvbHMsaHRtbDVWaWRlb05vRG93bmxvYWQsc2tpbkltYWdlcyl7dmFyIGlzVG91Y2g9XCJvbnRvdWNoc3RhcnRcImluIHdpbmRvdzt2YXIgZVN0YXJ0PWlzVG91Y2g/XCJ0b3VjaHN0YXJ0XCI6XCJtb3VzZWRvd25cIjt2YXIgZU1vdmU9aXNUb3VjaD9cInRvdWNobW92ZVwiOlwibW91c2Vtb3ZlXCI7dmFyIGVDYW5jZWw9aXNUb3VjaD9cInRvdWNoY2FuY2VsXCI6XHJcblwibW91c2V1cFwiO3ZhciBlQ2xpY2s9XCJjbGlja1wiO3ZhciBCVVRUT05fU0laRT0zMjt2YXIgQkFSX0hFSUdIVD1pc1RvdWNoPzQ4OjM2O3ZhciBoaWRlQ29udHJvbHNUaW1lcklkPW51bGw7dmFyIGhpZGVWb2x1bWVCYXJUaW1lb3V0SWQ9bnVsbDt2YXIgc2xpZGVyRHJhZ2dpbmc9ZmFsc2U7dmFyIGlzRnVsbHNjcmVlbj1mYWxzZTt2YXIgdXNlckFjdGl2ZT10cnVlO3ZhciBpc0hkPSQodGhpcykuZGF0YShcImlzaGRcIik7dmFyIGhkPSQodGhpcykuZGF0YShcImhkXCIpO3ZhciBzcmM9JCh0aGlzKS5kYXRhKFwic3JjXCIpO3ZhciAkdmlkZW9PYmo9JCh0aGlzKTskdmlkZW9PYmouZ2V0KDApLnJlbW92ZUF0dHJpYnV0ZShcImNvbnRyb2xzXCIpO3ZhciAkdmlkZW9QbGF5PSQoXCI8ZGl2IGNsYXNzPSdodG1sNWJveFZpZGVvUGxheSc+PC9kaXY+XCIpOyR2aWRlb09iai5hZnRlcigkdmlkZW9QbGF5KTt2YXIgcGxheWJ1dHRvbkltYWdlPXNraW5JbWFnZXMmJlwicGxheWJ1dHRvblwiaW4gc2tpbkltYWdlcyYmXHJcbnNraW5JbWFnZXMucGxheWJ1dHRvbi5sZW5ndGg+MD9za2luSW1hZ2VzLnBsYXlidXR0b246c2tpbkZvbGRlcitcImh0bWw1Ym94cGxheWVyX3BsYXl2aWRlby5wbmdcIjskdmlkZW9QbGF5LmNzcyh7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDpcIjUwJVwiLGxlZnQ6XCI1MCVcIixkaXNwbGF5OlwiYmxvY2tcIixjdXJzb3I6XCJwb2ludGVyXCIsd2lkdGg6NjQsaGVpZ2h0OjY0LFwibWFyZ2luLWxlZnRcIjotMzIsXCJtYXJnaW4tdG9wXCI6LTMyLFwiYmFja2dyb3VuZC1pbWFnZVwiOlwidXJsKCdcIitwbGF5YnV0dG9uSW1hZ2UrXCInKVwiLFwiYmFja2dyb3VuZC1wb3NpdGlvblwiOlwiY2VudGVyIGNlbnRlclwiLFwiYmFja2dyb3VuZC1yZXBlYXRcIjpcIm5vLXJlcGVhdFwifSkub24oZUNsaWNrLGZ1bmN0aW9uKCl7JHZpZGVvT2JqLmdldCgwKS5wbGF5KCl9KTt2YXIgJHZpZGVvRnVsbHNjcmVlbkJnPSQoXCI8ZGl2IGNsYXNzPSdodG1sNWJveFZpZGVvRnVsbHNjcmVlbkJnJz48L2Rpdj5cIik7dmFyICR2aWRlb0NvbnRyb2xzPSQoXCI8ZGl2IGNsYXNzPSdodG1sNWJveFZpZGVvQ29udHJvbHMnPlwiK1xyXG5cIjxkaXYgY2xhc3M9J2h0bWw1Ym94VmlkZW9Db250cm9sc0JnJz48L2Rpdj5cIitcIjxkaXYgY2xhc3M9J2h0bWw1Ym94UGxheVBhdXNlJz5cIitcIjxkaXYgY2xhc3M9J2h0bWw1Ym94UGxheSc+PC9kaXY+XCIrXCI8ZGl2IGNsYXNzPSdodG1sNWJveFBhdXNlJz48L2Rpdj5cIitcIjwvZGl2PlwiK1wiPGRpdiBjbGFzcz0naHRtbDVib3hUaW1lQ3VycmVudCc+LS06LS08L2Rpdj5cIitcIjxkaXYgY2xhc3M9J2h0bWw1Ym94RnVsbHNjcmVlbic+PC9kaXY+XCIrXCI8ZGl2IGNsYXNzPSdodG1sNWJveEhEJz48L2Rpdj5cIitcIjxkaXYgY2xhc3M9J2h0bWw1Ym94Vm9sdW1lJz5cIitcIjxkaXYgY2xhc3M9J2h0bWw1Ym94Vm9sdW1lQnV0dG9uJz48L2Rpdj5cIitcIjxkaXYgY2xhc3M9J2h0bWw1Ym94Vm9sdW1lQmFyJz5cIitcIjxkaXYgY2xhc3M9J2h0bWw1Ym94Vm9sdW1lQmFyQmcnPlwiK1wiPGRpdiBjbGFzcz0naHRtbDVib3hWb2x1bWVCYXJBY3RpdmUnPjwvZGl2PlwiK1wiPC9kaXY+XCIrXCI8L2Rpdj5cIitcIjwvZGl2PlwiK1wiPGRpdiBjbGFzcz0naHRtbDVib3hUaW1lVG90YWwnPi0tOi0tPC9kaXY+XCIrXHJcblwiPGRpdiBjbGFzcz0naHRtbDVib3hTZWVrZXInPlwiK1wiPGRpdiBjbGFzcz0naHRtbDVib3hTZWVrZXJCdWZmZXInPjwvZGl2PlwiK1wiPGRpdiBjbGFzcz0naHRtbDVib3hTZWVrZXJQbGF5Jz48L2Rpdj5cIitcIjxkaXYgY2xhc3M9J2h0bWw1Ym94U2Vla2VySGFuZGxlcic+PC9kaXY+XCIrXCI8L2Rpdj5cIitcIjxkaXYgc3R5bGU9J2NsZWFyOmJvdGg7Jz48L2Rpdj5cIitcIjwvZGl2PlwiKTskdmlkZW9PYmouYWZ0ZXIoJHZpZGVvQ29udHJvbHMpOyR2aWRlb09iai5hZnRlcigkdmlkZW9GdWxsc2NyZWVuQmcpOyR2aWRlb0Z1bGxzY3JlZW5CZy5jc3Moe2Rpc3BsYXk6XCJub25lXCIscG9zaXRpb246XCJmaXhlZFwiLGxlZnQ6MCx0b3A6MCxib3R0b206MCxyaWdodDowfSk7JHZpZGVvQ29udHJvbHMuY3NzKHtkaXNwbGF5OlwiYmxvY2tcIixwb3NpdGlvbjpcImFic29sdXRlXCIsd2lkdGg6XCIxMDAlXCIsaGVpZ2h0OkJBUl9IRUlHSFQsbGVmdDowLGJvdHRvbTowLHJpZ2h0OjAsbWFyZ2luOlwiMCBhdXRvXCJ9KTt2YXIgdXNlckFjdGl2YXRlPVxyXG5mdW5jdGlvbigpe3VzZXJBY3RpdmU9dHJ1ZX07JHZpZGVvT2JqLm9uKFwidG91Y2ggY2xpY2sgbW91c2Vtb3ZlIG1vdXNlZW50ZXJcIixmdW5jdGlvbigpe3VzZXJBY3RpdmU9dHJ1ZX0pO2lmKCFoaWRlQ29udHJvbHMpc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtpZih1c2VyQWN0aXZlKXskdmlkZW9Db250cm9scy5zaG93KCk7dXNlckFjdGl2ZT1mYWxzZTtjbGVhclRpbWVvdXQoaGlkZUNvbnRyb2xzVGltZXJJZCk7aGlkZUNvbnRyb2xzVGltZXJJZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYoISR2aWRlb09iai5nZXQoMCkucGF1c2VkKSR2aWRlb0NvbnRyb2xzLmZhZGVPdXQoKX0sNUUzKX19LDI1MCk7JChcIi5odG1sNWJveFZpZGVvQ29udHJvbHNCZ1wiLCR2aWRlb0NvbnRyb2xzKS5jc3Moe2Rpc3BsYXk6XCJibG9ja1wiLHBvc2l0aW9uOlwiYWJzb2x1dGVcIix3aWR0aDpcIjEwMCVcIixoZWlnaHQ6XCIxMDAlXCIsbGVmdDowLHRvcDowLFwiYmFja2dyb3VuZC1jb2xvclwiOlwiIzAwMDAwMFwiLG9wYWNpdHk6MC43LFxyXG5maWx0ZXI6XCJhbHBoYShvcGFjaXR5PTcwKVwifSk7JChcIi5odG1sNWJveFBsYXlQYXVzZVwiLCR2aWRlb0NvbnRyb2xzKS5jc3Moe2Rpc3BsYXk6XCJibG9ja1wiLHBvc2l0aW9uOlwicmVsYXRpdmVcIix3aWR0aDpCVVRUT05fU0laRStcInB4XCIsaGVpZ2h0OkJVVFRPTl9TSVpFK1wicHhcIixtYXJnaW46TWF0aC5mbG9vcigoQkFSX0hFSUdIVC1CVVRUT05fU0laRSkvMiksXCJmbG9hdFwiOlwibGVmdFwifSk7dmFyICR2aWRlb0J0blBsYXk9JChcIi5odG1sNWJveFBsYXlcIiwkdmlkZW9Db250cm9scyk7dmFyICR2aWRlb0J0blBhdXNlPSQoXCIuaHRtbDVib3hQYXVzZVwiLCR2aWRlb0NvbnRyb2xzKTskdmlkZW9CdG5QbGF5LmNzcyh7ZGlzcGxheTpcImJsb2NrXCIscG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDowLGxlZnQ6MCx3aWR0aDpCVVRUT05fU0laRStcInB4XCIsaGVpZ2h0OkJVVFRPTl9TSVpFK1wicHhcIixjdXJzb3I6XCJwb2ludGVyXCIsXCJiYWNrZ3JvdW5kLWltYWdlXCI6XCJ1cmwoJ1wiK3NraW5Gb2xkZXIrXCJodG1sNWJveHBsYXllcl9wbGF5cGF1c2UucG5nXCIrXHJcblwiJylcIixcImJhY2tncm91bmQtcG9zaXRpb25cIjpcInRvcCBsZWZ0XCJ9KS5ob3ZlcihmdW5jdGlvbigpeyQodGhpcykuY3NzKHtcImJhY2tncm91bmQtcG9zaXRpb25cIjpcImJvdHRvbSBsZWZ0XCJ9KX0sZnVuY3Rpb24oKXskKHRoaXMpLmNzcyh7XCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCI6XCJ0b3AgbGVmdFwifSl9KS5vbihlQ2xpY2ssZnVuY3Rpb24oKXskdmlkZW9PYmouZ2V0KDApLnBsYXkoKX0pOyR2aWRlb0J0blBhdXNlLmNzcyh7ZGlzcGxheTpcIm5vbmVcIixwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOjAsbGVmdDowLHdpZHRoOkJVVFRPTl9TSVpFK1wicHhcIixoZWlnaHQ6QlVUVE9OX1NJWkUrXCJweFwiLGN1cnNvcjpcInBvaW50ZXJcIixcImJhY2tncm91bmQtaW1hZ2VcIjpcInVybCgnXCIrc2tpbkZvbGRlcitcImh0bWw1Ym94cGxheWVyX3BsYXlwYXVzZS5wbmdcIitcIicpXCIsXCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCI6XCJ0b3AgcmlnaHRcIn0pLmhvdmVyKGZ1bmN0aW9uKCl7JCh0aGlzKS5jc3Moe1wiYmFja2dyb3VuZC1wb3NpdGlvblwiOlwiYm90dG9tIHJpZ2h0XCJ9KX0sXHJcbmZ1bmN0aW9uKCl7JCh0aGlzKS5jc3Moe1wiYmFja2dyb3VuZC1wb3NpdGlvblwiOlwidG9wIHJpZ2h0XCJ9KX0pLm9uKGVDbGljayxmdW5jdGlvbigpeyR2aWRlb09iai5nZXQoMCkucGF1c2UoKX0pO3ZhciAkdmlkZW9UaW1lQ3VycmVudD0kKFwiLmh0bWw1Ym94VGltZUN1cnJlbnRcIiwkdmlkZW9Db250cm9scyk7dmFyICR2aWRlb1RpbWVUb3RhbD0kKFwiLmh0bWw1Ym94VGltZVRvdGFsXCIsJHZpZGVvQ29udHJvbHMpO3ZhciAkdmlkZW9TZWVrZXI9JChcIi5odG1sNWJveFNlZWtlclwiLCR2aWRlb0NvbnRyb2xzKTt2YXIgJHZpZGVvU2Vla2VyUGxheT0kKFwiLmh0bWw1Ym94U2Vla2VyUGxheVwiLCR2aWRlb0NvbnRyb2xzKTt2YXIgJHZpZGVvU2Vla2VyQnVmZmVyPSQoXCIuaHRtbDVib3hTZWVrZXJCdWZmZXJcIiwkdmlkZW9Db250cm9scyk7dmFyICR2aWRlb1NlZWtlckhhbmRsZXI9JChcIi5odG1sNWJveFNlZWtlckhhbmRsZXJcIiwkdmlkZW9Db250cm9scyk7JHZpZGVvVGltZUN1cnJlbnQuY3NzKHtkaXNwbGF5OlwiYmxvY2tcIixcclxucG9zaXRpb246XCJyZWxhdGl2ZVwiLFwiZmxvYXRcIjpcImxlZnRcIixcImxpbmUtaGVpZ2h0XCI6QkFSX0hFSUdIVCtcInB4XCIsXCJmb250LXdlaWdodFwiOlwibm9ybWFsXCIsXCJmb250LXNpemVcIjpcIjEycHhcIixtYXJnaW46XCIwIDhweFwiLFwiZm9udC1mYW1pbHlcIjpcIkFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWZcIixjb2xvcjpcIiNmZmZcIn0pOyR2aWRlb1RpbWVUb3RhbC5jc3Moe2Rpc3BsYXk6XCJibG9ja1wiLHBvc2l0aW9uOlwicmVsYXRpdmVcIixcImZsb2F0XCI6XCJyaWdodFwiLFwibGluZS1oZWlnaHRcIjpCQVJfSEVJR0hUK1wicHhcIixcImZvbnQtd2VpZ2h0XCI6XCJub3JtYWxcIixcImZvbnQtc2l6ZVwiOlwiMTJweFwiLG1hcmdpbjpcIjAgOHB4XCIsXCJmb250LWZhbWlseVwiOlwiQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZlwiLGNvbG9yOlwiI2ZmZlwifSk7JHZpZGVvU2Vla2VyLmNzcyh7ZGlzcGxheTpcImJsb2NrXCIsY3Vyc29yOlwicG9pbnRlclwiLG92ZXJmbG93OlwiaGlkZGVuXCIscG9zaXRpb246XCJyZWxhdGl2ZVwiLGhlaWdodDpcIjEwcHhcIixcclxuXCJiYWNrZ3JvdW5kLWNvbG9yXCI6XCIjMjIyXCIsbWFyZ2luOk1hdGguZmxvb3IoKEJBUl9IRUlHSFQtMTApLzIpK1wicHggNHB4XCJ9KS5vbihlU3RhcnQsZnVuY3Rpb24oZSl7dmFyIGUwPWlzVG91Y2g/ZS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF06ZTt2YXIgcG9zPWUwLnBhZ2VYLSR2aWRlb1NlZWtlci5vZmZzZXQoKS5sZWZ0OyR2aWRlb1NlZWtlclBsYXkuY3NzKHt3aWR0aDpwb3N9KTskdmlkZW9PYmouZ2V0KDApLmN1cnJlbnRUaW1lPXBvcyokdmlkZW9PYmouZ2V0KDApLmR1cmF0aW9uLyR2aWRlb1NlZWtlci53aWR0aCgpOyR2aWRlb1NlZWtlci5vbihlTW92ZSxmdW5jdGlvbihlKXt2YXIgZTA9aXNUb3VjaD9lLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTplO3ZhciBwb3M9ZTAucGFnZVgtJHZpZGVvU2Vla2VyLm9mZnNldCgpLmxlZnQ7JHZpZGVvU2Vla2VyUGxheS5jc3Moe3dpZHRoOnBvc30pOyR2aWRlb09iai5nZXQoMCkuY3VycmVudFRpbWU9cG9zKiR2aWRlb09iai5nZXQoMCkuZHVyYXRpb24vXHJcbiR2aWRlb1NlZWtlci53aWR0aCgpfSl9KS5vbihlQ2FuY2VsLGZ1bmN0aW9uKCl7JHZpZGVvU2Vla2VyLm9mZihlTW92ZSl9KTskdmlkZW9TZWVrZXJCdWZmZXIuY3NzKHtkaXNwbGF5OlwiYmxvY2tcIixwb3NpdGlvbjpcImFic29sdXRlXCIsbGVmdDowLHRvcDowLGhlaWdodDpcIjEwMCVcIixcImJhY2tncm91bmQtY29sb3JcIjpcIiM0NDRcIn0pOyR2aWRlb1NlZWtlclBsYXkuY3NzKHtkaXNwbGF5OlwiYmxvY2tcIixwb3NpdGlvbjpcImFic29sdXRlXCIsbGVmdDowLHRvcDowLGhlaWdodDpcIjEwMCVcIixcImJhY2tncm91bmQtY29sb3JcIjpcIiNmY2M1MDBcIn0pO3ZhciAkdmlkZW9GU09iaj1mdWxsc2NyZWVuTmF0aXZlQ29udHJvbHM/JHZpZGVvT2JqOiR2aWRlb09iai5wYXJlbnQoKTtpZigkdmlkZW9GU09iai5nZXQoMCkucmVxdWVzdEZ1bGxzY3JlZW58fCR2aWRlb0ZTT2JqLmdldCgwKS53ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbnx8JHZpZGVvRlNPYmouZ2V0KDApLm1velJlcXVlc3RGdWxsU2NyZWVufHwkdmlkZW9GU09iai5nZXQoMCkud2Via2l0RW50ZXJGdWxsU2NyZWVufHxcclxuJHZpZGVvRlNPYmouZ2V0KDApLm1zUmVxdWVzdEZ1bGxzY3JlZW4pe3ZhciBzd2l0Y2hTY3JlZW49ZnVuY3Rpb24oZnVsbHNjcmVlbil7aWYoZnVsbHNjcmVlbil7aWYoZnVsbHNjcmVlbk5hdGl2ZUNvbnRyb2xzKXskdmlkZW9PYmouZ2V0KDApLnNldEF0dHJpYnV0ZShcImNvbnRyb2xzXCIsXCJjb250cm9sc1wiKTtpZihodG1sNVZpZGVvTm9Eb3dubG9hZCkkdmlkZW9PYmouZ2V0KDApLnNldEF0dHJpYnV0ZShcImNvbnRyb2xzTGlzdFwiLFwibm9kb3dubG9hZFwiKX1pZigkdmlkZW9GU09iai5nZXQoMCkucmVxdWVzdEZ1bGxzY3JlZW4pJHZpZGVvRlNPYmouZ2V0KDApLnJlcXVlc3RGdWxsc2NyZWVuKCk7ZWxzZSBpZigkdmlkZW9GU09iai5nZXQoMCkud2Via2l0UmVxdWVzdEZ1bGxTY3JlZW4pJHZpZGVvRlNPYmouZ2V0KDApLndlYmtpdFJlcXVlc3RGdWxsU2NyZWVuKCk7ZWxzZSBpZigkdmlkZW9GU09iai5nZXQoMCkubW96UmVxdWVzdEZ1bGxTY3JlZW4pJHZpZGVvRlNPYmouZ2V0KDApLm1velJlcXVlc3RGdWxsU2NyZWVuKCk7XHJcbmVsc2UgaWYoJHZpZGVvRlNPYmouZ2V0KDApLndlYmtpdEVudGVyRnVsbFNjcmVlbikkdmlkZW9GU09iai5nZXQoMCkud2Via2l0RW50ZXJGdWxsU2NyZWVuKCk7aWYoJHZpZGVvRlNPYmouZ2V0KDApLm1zUmVxdWVzdEZ1bGxzY3JlZW4pJHZpZGVvRlNPYmouZ2V0KDApLm1zUmVxdWVzdEZ1bGxzY3JlZW4oKX1lbHNlIGlmKGRvY3VtZW50LmNhbmNlbEZ1bGxTY3JlZW4pZG9jdW1lbnQuY2FuY2VsRnVsbFNjcmVlbigpO2Vsc2UgaWYoZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbilkb2N1bWVudC5tb3pDYW5jZWxGdWxsU2NyZWVuKCk7ZWxzZSBpZihkb2N1bWVudC53ZWJraXRDYW5jZWxGdWxsU2NyZWVuKWRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4oKTtlbHNlIGlmKGRvY3VtZW50LndlYmtpdEV4aXRGdWxsc2NyZWVuKWRvY3VtZW50LndlYmtpdEV4aXRGdWxsc2NyZWVuKCk7ZWxzZSBpZihkb2N1bWVudC5tc0V4aXRGdWxsc2NyZWVuKWRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4oKX07XHJcbnZhciBzd2l0Y2hTY3JlZW5DU1M9ZnVuY3Rpb24oZnVsbHNjcmVlbil7aWYoZnVsbHNjcmVlbk5hdGl2ZUNvbnRyb2xzKWlmKGZ1bGxzY3JlZW4peyR2aWRlb09iai5nZXQoMCkuc2V0QXR0cmlidXRlKFwiY29udHJvbHNcIixcImNvbnRyb2xzXCIpO2lmKGh0bWw1VmlkZW9Ob0Rvd25sb2FkKSR2aWRlb09iai5nZXQoMCkuc2V0QXR0cmlidXRlKFwiY29udHJvbHNMaXN0XCIsXCJub2Rvd25sb2FkXCIpfWVsc2UgJHZpZGVvT2JqLmdldCgwKS5yZW1vdmVBdHRyaWJ1dGUoXCJjb250cm9sc1wiKTtlbHNlIGlmKGZ1bGxzY3JlZW4peyQoZG9jdW1lbnQpLm9uKFwibW91c2Vtb3ZlXCIsdXNlckFjdGl2YXRlKTskdmlkZW9Db250cm9scy5jc3Moe1wiei1pbmRleFwiOjIxNDc0ODM2NDcscG9zaXRpb246XCJmaXhlZFwifSk7JHZpZGVvRnVsbHNjcmVlbkJnLmNzcyh7XCJ6LWluZGV4XCI6MjE0NzQ4MzY0NyxkaXNwbGF5OlwiYmxvY2tcIn0pOyR2aWRlb1BsYXkuY3NzKHtcInotaW5kZXhcIjoyMTQ3NDgzNjQ3fSl9ZWxzZXskKGRvY3VtZW50KS5vZmYoXCJtb3VzZW1vdmVcIixcclxudXNlckFjdGl2YXRlKTskdmlkZW9Db250cm9scy5jc3Moe1wiei1pbmRleFwiOlwiXCIscG9zaXRpb246XCJhYnNvbHV0ZVwifSk7JHZpZGVvRnVsbHNjcmVlbkJnLmNzcyh7XCJ6LWluZGV4XCI6XCJcIixkaXNwbGF5Olwibm9uZVwifSk7JHZpZGVvUGxheS5jc3Moe1wiei1pbmRleFwiOlwiXCJ9KX19O2lmKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIpe2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJNU0Z1bGxzY3JlZW5DaGFuZ2VcIixmdW5jdGlvbigpe2lzRnVsbHNjcmVlbj1kb2N1bWVudC5tc0Z1bGxzY3JlZW5FbGVtZW50IT1udWxsO3N3aXRjaFNjcmVlbkNTUyhpc0Z1bGxzY3JlZW4pfSxmYWxzZSk7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImZ1bGxzY3JlZW5jaGFuZ2VcIixmdW5jdGlvbigpe2lzRnVsbHNjcmVlbj1kb2N1bWVudC5mdWxsc2NyZWVuO3N3aXRjaFNjcmVlbkNTUyhpc0Z1bGxzY3JlZW4pfSxmYWxzZSk7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vemZ1bGxzY3JlZW5jaGFuZ2VcIixcclxuZnVuY3Rpb24oKXtpc0Z1bGxzY3JlZW49ZG9jdW1lbnQubW96RnVsbFNjcmVlbjtzd2l0Y2hTY3JlZW5DU1MoaXNGdWxsc2NyZWVuKX0sZmFsc2UpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlXCIsZnVuY3Rpb24oKXtpc0Z1bGxzY3JlZW49ZG9jdW1lbnQud2Via2l0SXNGdWxsU2NyZWVuO3N3aXRjaFNjcmVlbkNTUyhpc0Z1bGxzY3JlZW4pfSxmYWxzZSl9aWYoJHZpZGVvRlNPYmomJiR2aWRlb0ZTT2JqLmdldCgwKSYmJHZpZGVvRlNPYmouZ2V0KDApLmFkZEV2ZW50TGlzdGVuZXIpeyR2aWRlb0ZTT2JqLmdldCgwKS5hZGRFdmVudExpc3RlbmVyKFwid2Via2l0YmVnaW5mdWxsc2NyZWVuXCIsZnVuY3Rpb24oKXtpc0Z1bGxzY3JlZW49dHJ1ZTtzd2l0Y2hTY3JlZW5DU1MoaXNGdWxsc2NyZWVuKX0sZmFsc2UpOyR2aWRlb0ZTT2JqLmdldCgwKS5hZGRFdmVudExpc3RlbmVyKFwid2Via2l0ZW5kZnVsbHNjcmVlblwiLGZ1bmN0aW9uKCl7aXNGdWxsc2NyZWVuPVxyXG5mYWxzZTtzd2l0Y2hTY3JlZW5DU1MoaXNGdWxsc2NyZWVuKX0sZmFsc2UpfWlmKCFmdWxsc2NyZWVuTmF0aXZlQ29udHJvbHMpJChcImhlYWRcIikuYXBwZW5kKFwiPHN0eWxlIHR5cGU9J3RleHQvY3NzJz52aWRlb1wiK3ZpZGVvRWxlbStcIjo6LXdlYmtpdC1tZWRpYS1jb250cm9scyB7IGRpc3BsYXk6bm9uZSAhaW1wb3J0YW50OyB9PC9zdHlsZT5cIik7dmFyICR2aWRlb0Z1bGxzY3JlZW49JChcIi5odG1sNWJveEZ1bGxzY3JlZW5cIiwkdmlkZW9Db250cm9scyk7JHZpZGVvRnVsbHNjcmVlbi5jc3Moe2Rpc3BsYXk6XCJibG9ja1wiLHBvc2l0aW9uOlwicmVsYXRpdmVcIixcImZsb2F0XCI6XCJyaWdodFwiLHdpZHRoOkJVVFRPTl9TSVpFK1wicHhcIixoZWlnaHQ6QlVUVE9OX1NJWkUrXCJweFwiLG1hcmdpbjpNYXRoLmZsb29yKChCQVJfSEVJR0hULUJVVFRPTl9TSVpFKS8yKSxjdXJzb3I6XCJwb2ludGVyXCIsXCJiYWNrZ3JvdW5kLWltYWdlXCI6XCJ1cmwoJ1wiK3NraW5Gb2xkZXIrXCJodG1sNWJveHBsYXllcl9mdWxsc2NyZWVuLnBuZ1wiK1xyXG5cIicpXCIsXCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCI6XCJsZWZ0IHRvcFwifSkuaG92ZXIoZnVuY3Rpb24oKXt2YXIgYmFja2dyb3VuZFBvc1g9JCh0aGlzKS5jc3MoXCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCIpPyQodGhpcykuY3NzKFwiYmFja2dyb3VuZC1wb3NpdGlvblwiKS5zcGxpdChcIiBcIilbMF06JCh0aGlzKS5jc3MoXCJiYWNrZ3JvdW5kLXBvc2l0aW9uLXhcIik7JCh0aGlzKS5jc3Moe1wiYmFja2dyb3VuZC1wb3NpdGlvblwiOmJhY2tncm91bmRQb3NYK1wiIGJvdHRvbVwifSl9LGZ1bmN0aW9uKCl7dmFyIGJhY2tncm91bmRQb3NYPSQodGhpcykuY3NzKFwiYmFja2dyb3VuZC1wb3NpdGlvblwiKT8kKHRoaXMpLmNzcyhcImJhY2tncm91bmQtcG9zaXRpb25cIikuc3BsaXQoXCIgXCIpWzBdOiQodGhpcykuY3NzKFwiYmFja2dyb3VuZC1wb3NpdGlvbi14XCIpOyQodGhpcykuY3NzKHtcImJhY2tncm91bmQtcG9zaXRpb25cIjpiYWNrZ3JvdW5kUG9zWCtcIiB0b3BcIn0pfSkub24oZUNsaWNrLGZ1bmN0aW9uKCl7aXNGdWxsc2NyZWVuPVxyXG4haXNGdWxsc2NyZWVuO3N3aXRjaFNjcmVlbihpc0Z1bGxzY3JlZW4pfSl9aWYoaGQpe3ZhciAkdmlkZW9IRD0kKFwiLmh0bWw1Ym94SERcIiwkdmlkZW9Db250cm9scyk7JHZpZGVvSEQuY3NzKHtkaXNwbGF5OlwiYmxvY2tcIixwb3NpdGlvbjpcInJlbGF0aXZlXCIsXCJmbG9hdFwiOlwicmlnaHRcIix3aWR0aDpCVVRUT05fU0laRStcInB4XCIsaGVpZ2h0OkJVVFRPTl9TSVpFK1wicHhcIixtYXJnaW46TWF0aC5mbG9vcigoQkFSX0hFSUdIVC1CVVRUT05fU0laRSkvMiksY3Vyc29yOlwicG9pbnRlclwiLFwiYmFja2dyb3VuZC1pbWFnZVwiOlwidXJsKCdcIitza2luRm9sZGVyK1wiaHRtbDVib3hwbGF5ZXJfaGQucG5nXCIrXCInKVwiLFwiYmFja2dyb3VuZC1wb3NpdGlvblwiOihpc0hkP1wicmlnaHRcIjpcImxlZnRcIikrXCIgY2VudGVyXCJ9KS5vbihlQ2xpY2ssZnVuY3Rpb24oKXtpc0hkPSFpc0hkOyQodGhpcykuY3NzKHtcImJhY2tncm91bmQtcG9zaXRpb25cIjooaXNIZD9cInJpZ2h0XCI6XCJsZWZ0XCIpK1wiIGNlbnRlclwifSk7cGFyZW50SW5zdC5pc0hkPVxyXG5pc0hkO3ZhciBpc1BhdXNlZD0kdmlkZW9PYmouZ2V0KDApLmlzUGF1c2VkOyR2aWRlb09iai5nZXQoMCkuc2V0QXR0cmlidXRlKFwic3JjXCIsKGlzSGQ/aGQ6c3JjKStcIiN0PVwiKyR2aWRlb09iai5nZXQoMCkuY3VycmVudFRpbWUpO2lmKCFpc1BhdXNlZCkkdmlkZW9PYmouZ2V0KDApLnBsYXkoKTtlbHNlICR2aWRlb09iai5nZXQoMCkucGF1c2UoKX0pfSR2aWRlb09iai5nZXQoMCkudm9sdW1lPWRlZmF1bHRWb2x1bWU7dmFyIHZvbHVtZVNhdmVkPWRlZmF1bHRWb2x1bWU9PTA/MTpkZWZhdWx0Vm9sdW1lO3ZhciB2b2x1bWU9JHZpZGVvT2JqLmdldCgwKS52b2x1bWU7JHZpZGVvT2JqLmdldCgwKS52b2x1bWU9dm9sdW1lLzIrMC4xO2lmKCR2aWRlb09iai5nZXQoMCkudm9sdW1lPT09dm9sdW1lLzIrMC4xKXskdmlkZW9PYmouZ2V0KDApLnZvbHVtZT12b2x1bWU7dmFyICR2aWRlb1ZvbHVtZT0kKFwiLmh0bWw1Ym94Vm9sdW1lXCIsJHZpZGVvQ29udHJvbHMpO3ZhciAkdmlkZW9Wb2x1bWVCdXR0b249XHJcbiQoXCIuaHRtbDVib3hWb2x1bWVCdXR0b25cIiwkdmlkZW9Db250cm9scyk7dmFyICR2aWRlb1ZvbHVtZUJhcj0kKFwiLmh0bWw1Ym94Vm9sdW1lQmFyXCIsJHZpZGVvQ29udHJvbHMpO3ZhciAkdmlkZW9Wb2x1bWVCYXJCZz0kKFwiLmh0bWw1Ym94Vm9sdW1lQmFyQmdcIiwkdmlkZW9Db250cm9scyk7dmFyICR2aWRlb1ZvbHVtZUJhckFjdGl2ZT0kKFwiLmh0bWw1Ym94Vm9sdW1lQmFyQWN0aXZlXCIsJHZpZGVvQ29udHJvbHMpOyR2aWRlb1ZvbHVtZS5jc3Moe2Rpc3BsYXk6XCJibG9ja1wiLHBvc2l0aW9uOlwicmVsYXRpdmVcIixcImZsb2F0XCI6XCJyaWdodFwiLHdpZHRoOkJVVFRPTl9TSVpFK1wicHhcIixoZWlnaHQ6QlVUVE9OX1NJWkUrXCJweFwiLG1hcmdpbjpNYXRoLmZsb29yKChCQVJfSEVJR0hULUJVVFRPTl9TSVpFKS8yKX0pLmhvdmVyKGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGhpZGVWb2x1bWVCYXJUaW1lb3V0SWQpO3ZhciB2b2x1bWU9JHZpZGVvT2JqLmdldCgwKS52b2x1bWU7JHZpZGVvVm9sdW1lQmFyQWN0aXZlLmNzcyh7aGVpZ2h0Ok1hdGgucm91bmQodm9sdW1lKlxyXG4xMDApK1wiJVwifSk7JHZpZGVvVm9sdW1lQmFyLnNob3coKX0sZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoaGlkZVZvbHVtZUJhclRpbWVvdXRJZCk7aGlkZVZvbHVtZUJhclRpbWVvdXRJZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JHZpZGVvVm9sdW1lQmFyLmhpZGUoKX0sMUUzKX0pOyR2aWRlb1ZvbHVtZUJ1dHRvbi5jc3Moe2Rpc3BsYXk6XCJibG9ja1wiLHBvc2l0aW9uOlwiYWJzb2x1dGVcIix0b3A6MCxsZWZ0OjAsd2lkdGg6QlVUVE9OX1NJWkUrXCJweFwiLGhlaWdodDpCVVRUT05fU0laRStcInB4XCIsY3Vyc29yOlwicG9pbnRlclwiLFwiYmFja2dyb3VuZC1pbWFnZVwiOlwidXJsKCdcIitza2luRm9sZGVyK1wiaHRtbDVib3hwbGF5ZXJfdm9sdW1lLnBuZ1wiK1wiJylcIixcImJhY2tncm91bmQtcG9zaXRpb25cIjpcInRvcCBcIisodm9sdW1lPjA/XCJsZWZ0XCI6XCJyaWdodFwiKX0pLmhvdmVyKGZ1bmN0aW9uKCl7dmFyIGJhY2tncm91bmRQb3NYPSQodGhpcykuY3NzKFwiYmFja2dyb3VuZC1wb3NpdGlvblwiKT8kKHRoaXMpLmNzcyhcImJhY2tncm91bmQtcG9zaXRpb25cIikuc3BsaXQoXCIgXCIpWzBdOlxyXG4kKHRoaXMpLmNzcyhcImJhY2tncm91bmQtcG9zaXRpb24teFwiKTskKHRoaXMpLmNzcyh7XCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCI6YmFja2dyb3VuZFBvc1grXCIgYm90dG9tXCJ9KX0sZnVuY3Rpb24oKXt2YXIgYmFja2dyb3VuZFBvc1g9JCh0aGlzKS5jc3MoXCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCIpPyQodGhpcykuY3NzKFwiYmFja2dyb3VuZC1wb3NpdGlvblwiKS5zcGxpdChcIiBcIilbMF06JCh0aGlzKS5jc3MoXCJiYWNrZ3JvdW5kLXBvc2l0aW9uLXhcIik7JCh0aGlzKS5jc3Moe1wiYmFja2dyb3VuZC1wb3NpdGlvblwiOmJhY2tncm91bmRQb3NYK1wiIHRvcFwifSl9KS5vbihlQ2xpY2ssZnVuY3Rpb24oKXt2YXIgdm9sdW1lPSR2aWRlb09iai5nZXQoMCkudm9sdW1lO2lmKHZvbHVtZT4wKXt2b2x1bWVTYXZlZD12b2x1bWU7dm9sdW1lPTB9ZWxzZSB2b2x1bWU9dm9sdW1lU2F2ZWQ7dmFyIGJhY2tncm91bmRQb3NZPSQodGhpcykuY3NzKFwiYmFja2dyb3VuZC1wb3NpdGlvblwiKT8kKHRoaXMpLmNzcyhcImJhY2tncm91bmQtcG9zaXRpb25cIikuc3BsaXQoXCIgXCIpWzFdOlxyXG4kKHRoaXMpLmNzcyhcImJhY2tncm91bmQtcG9zaXRpb24teVwiKTskdmlkZW9Wb2x1bWVCdXR0b24uY3NzKHtcImJhY2tncm91bmQtcG9zaXRpb25cIjoodm9sdW1lPjA/XCJsZWZ0XCI6XCJyaWdodFwiKStcIiBcIitiYWNrZ3JvdW5kUG9zWX0pOyR2aWRlb09iai5nZXQoMCkudm9sdW1lPXZvbHVtZTskdmlkZW9Wb2x1bWVCYXJBY3RpdmUuY3NzKHtoZWlnaHQ6TWF0aC5yb3VuZCh2b2x1bWUqMTAwKStcIiVcIn0pfSk7JHZpZGVvVm9sdW1lQmFyLmNzcyh7ZGlzcGxheTpcIm5vbmVcIixwb3NpdGlvbjpcImFic29sdXRlXCIsbGVmdDo0LGJvdHRvbTpcIjEwMCVcIix3aWR0aDoyNCxoZWlnaHQ6ODAsXCJtYXJnaW4tYm90dG9tXCI6TWF0aC5mbG9vcigoQkFSX0hFSUdIVC1CVVRUT05fU0laRSkvMiksXCJiYWNrZ3JvdW5kLWNvbG9yXCI6XCIjMDAwMDAwXCIsb3BhY2l0eTowLjcsZmlsdGVyOlwiYWxwaGEob3BhY2l0eT03MClcIn0pOyR2aWRlb1ZvbHVtZUJhckJnLmNzcyh7ZGlzcGxheTpcImJsb2NrXCIscG9zaXRpb246XCJyZWxhdGl2ZVwiLFxyXG53aWR0aDoxMCxoZWlnaHQ6NjgsbWFyZ2luOjcsY3Vyc29yOlwicG9pbnRlclwiLFwiYmFja2dyb3VuZC1jb2xvclwiOlwiIzIyMlwifSk7JHZpZGVvVm9sdW1lQmFyQWN0aXZlLmNzcyh7ZGlzcGxheTpcImJsb2NrXCIscG9zaXRpb246XCJhYnNvbHV0ZVwiLGJvdHRvbTowLGxlZnQ6MCx3aWR0aDpcIjEwMCVcIixoZWlnaHQ6XCIxMDAlXCIsXCJiYWNrZ3JvdW5kLWNvbG9yXCI6XCIjZmNjNTAwXCJ9KTskdmlkZW9Wb2x1bWVCYXJCZy5vbihlU3RhcnQsZnVuY3Rpb24oZSl7dmFyIGUwPWlzVG91Y2g/ZS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF06ZTt2YXIgdm9sPTEtKGUwLnBhZ2VZLSR2aWRlb1ZvbHVtZUJhckJnLm9mZnNldCgpLnRvcCkvJHZpZGVvVm9sdW1lQmFyQmcuaGVpZ2h0KCk7dm9sPXZvbD4xPzE6dm9sPDA/MDp2b2w7JHZpZGVvVm9sdW1lQmFyQWN0aXZlLmNzcyh7aGVpZ2h0Ok1hdGgucm91bmQodm9sKjEwMCkrXCIlXCJ9KTskdmlkZW9Wb2x1bWVCdXR0b24uY3NzKHtcImJhY2tncm91bmQtcG9zaXRpb25cIjpcImxlZnQgXCIrXHJcbih2b2w+MD9cInRvcFwiOlwiYm90dG9tXCIpfSk7JHZpZGVvT2JqLmdldCgwKS52b2x1bWU9dm9sOyR2aWRlb1ZvbHVtZUJhckJnLm9uKGVNb3ZlLGZ1bmN0aW9uKGUpe3ZhciBlMD1pc1RvdWNoP2Uub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdOmU7dmFyIHZvbD0xLShlMC5wYWdlWS0kdmlkZW9Wb2x1bWVCYXJCZy5vZmZzZXQoKS50b3ApLyR2aWRlb1ZvbHVtZUJhckJnLmhlaWdodCgpO3ZvbD12b2w+MT8xOnZvbDwwPzA6dm9sOyR2aWRlb1ZvbHVtZUJhckFjdGl2ZS5jc3Moe2hlaWdodDpNYXRoLnJvdW5kKHZvbCoxMDApK1wiJVwifSk7JHZpZGVvVm9sdW1lQnV0dG9uLmNzcyh7XCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCI6XCJsZWZ0IFwiKyh2b2w+MD9cInRvcFwiOlwiYm90dG9tXCIpfSk7JHZpZGVvT2JqLmdldCgwKS52b2x1bWU9dm9sfSl9KS5vbihlQ2FuY2VsLGZ1bmN0aW9uKCl7JHZpZGVvVm9sdW1lQmFyQmcub2ZmKGVNb3ZlKX0pfXZhciBjYWxjVGltZUZvcm1hdD1mdW5jdGlvbihzZWNvbmRzKXt2YXIgaDA9XHJcbk1hdGguZmxvb3Ioc2Vjb25kcy8zNjAwKTt2YXIgaD1oMDwxMD9cIjBcIitoMDpoMDt2YXIgbTA9TWF0aC5mbG9vcigoc2Vjb25kcy1oMCozNjAwKS82MCk7dmFyIG09bTA8MTA/XCIwXCIrbTA6bTA7dmFyIHMwPU1hdGguZmxvb3Ioc2Vjb25kcy0oaDAqMzYwMCttMCo2MCkpO3ZhciBzPXMwPDEwP1wiMFwiK3MwOnMwO3ZhciByPW0rXCI6XCIrcztpZihoMD4wKXI9aCtcIjpcIityO3JldHVybiByfTtpZihoaWRlUGxheUJ1dHRvbikkdmlkZW9QbGF5LmhpZGUoKTtpZihoaWRlQ29udHJvbHMpJHZpZGVvQ29udHJvbHMuaGlkZSgpO3ZhciBvblZpZGVvUGxheT1mdW5jdGlvbigpe2lmKCFoaWRlUGxheUJ1dHRvbikkdmlkZW9QbGF5LmhpZGUoKTtpZighaGlkZUNvbnRyb2xzKXskdmlkZW9CdG5QbGF5LmhpZGUoKTskdmlkZW9CdG5QYXVzZS5zaG93KCl9fTt2YXIgb25WaWRlb1BhdXNlPWZ1bmN0aW9uKCl7aWYoIWhpZGVQbGF5QnV0dG9uKSR2aWRlb1BsYXkuc2hvdygpO2lmKCFoaWRlQ29udHJvbHMpeyR2aWRlb0NvbnRyb2xzLnNob3coKTtcclxuY2xlYXJUaW1lb3V0KGhpZGVDb250cm9sc1RpbWVySWQpOyR2aWRlb0J0blBsYXkuc2hvdygpOyR2aWRlb0J0blBhdXNlLmhpZGUoKX19O3ZhciBvblZpZGVvRW5kZWQ9ZnVuY3Rpb24oKXskKHdpbmRvdykudHJpZ2dlcihcImh0bWw1bGlnaHRib3gudmlkZW9lbmRlZFwiKTtpZighaGlkZVBsYXlCdXR0b24pJHZpZGVvUGxheS5zaG93KCk7aWYoIWhpZGVDb250cm9scyl7JHZpZGVvQ29udHJvbHMuc2hvdygpO2NsZWFyVGltZW91dChoaWRlQ29udHJvbHNUaW1lcklkKTskdmlkZW9CdG5QbGF5LnNob3coKTskdmlkZW9CdG5QYXVzZS5oaWRlKCl9fTt2YXIgb25WaWRlb1VwZGF0ZT1mdW5jdGlvbigpe3ZhciBjdXJUaW1lPSR2aWRlb09iai5nZXQoMCkuY3VycmVudFRpbWU7aWYoY3VyVGltZSl7JHZpZGVvVGltZUN1cnJlbnQudGV4dChjYWxjVGltZUZvcm1hdChjdXJUaW1lKSk7dmFyIGR1cmF0aW9uPSR2aWRlb09iai5nZXQoMCkuZHVyYXRpb247aWYoZHVyYXRpb24peyR2aWRlb1RpbWVUb3RhbC50ZXh0KGNhbGNUaW1lRm9ybWF0KGR1cmF0aW9uKSk7XHJcbmlmKCFzbGlkZXJEcmFnZ2luZyl7dmFyIHNsaWRlclc9JHZpZGVvU2Vla2VyLndpZHRoKCk7dmFyIHBvcz1NYXRoLnJvdW5kKHNsaWRlclcqY3VyVGltZS9kdXJhdGlvbik7JHZpZGVvU2Vla2VyUGxheS5jc3Moe3dpZHRoOnBvc30pOyR2aWRlb1NlZWtlckhhbmRsZXIuY3NzKHtsZWZ0OnBvc30pfX19fTt2YXIgb25WaWRlb1Byb2dyZXNzPWZ1bmN0aW9uKCl7aWYoJHZpZGVvT2JqLmdldCgwKS5idWZmZXJlZCYmJHZpZGVvT2JqLmdldCgwKS5idWZmZXJlZC5sZW5ndGg+MCYmIWlzTmFOKCR2aWRlb09iai5nZXQoMCkuYnVmZmVyZWQuZW5kKDApKSYmIWlzTmFOKCR2aWRlb09iai5nZXQoMCkuZHVyYXRpb24pKXt2YXIgc2xpZGVyVz0kdmlkZW9TZWVrZXIud2lkdGgoKTskdmlkZW9TZWVrZXJCdWZmZXIuY3NzKHt3aWR0aDpNYXRoLnJvdW5kKHNsaWRlclcqJHZpZGVvT2JqLmdldCgwKS5idWZmZXJlZC5lbmQoMCkvJHZpZGVvT2JqLmdldCgwKS5kdXJhdGlvbil9KX19O3RyeXskdmlkZW9PYmoub24oXCJwbGF5XCIsXHJcbm9uVmlkZW9QbGF5KTskdmlkZW9PYmoub24oXCJwYXVzZVwiLG9uVmlkZW9QYXVzZSk7JHZpZGVvT2JqLm9uKFwiZW5kZWRcIixvblZpZGVvRW5kZWQpOyR2aWRlb09iai5vbihcInRpbWV1cGRhdGVcIixvblZpZGVvVXBkYXRlKTskdmlkZW9PYmoub24oXCJwcm9ncmVzc1wiLG9uVmlkZW9Qcm9ncmVzcyl9Y2F0Y2goZSl7fX19KShqUXVlcnkpO2pRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtpZih0eXBlb2YgaHRtbDVMaWdodGJveD09PVwidW5kZWZpbmVkXCIpaWYoalF1ZXJ5LmZuLmh0bWw1bGlnaHRib3gpaHRtbDVMaWdodGJveD1qUXVlcnkoXCIuaHRtbDVsaWdodGJveFwiKS5odG1sNWxpZ2h0Ym94KCl9KX07XHJcbiJdLCJmaWxlIjoiaHRtbDVsaWdodGJveC5qcyJ9
